{"version":3,"sources":["contexts/AppContext.js","LookerHelpers/pblsession.js","AuthUtils/auth.js","components/SignIn/styles.js","components/SignIn/SignIn.js","components/Home/styles.js","components/Home/UserMenu.js","components/Home/TopBar.js","components/Home/BottomBar.js","components/Home/LeftDrawer.js","components/Demo/MonetizationModal/styles.js","components/Demo/MonetizationModal/MonetizationModal.js","components/Demo/CodeFlyout.js","webpack:///./src/components/Demo/SplashPage/SplashPage.js?046c","components/Demo/SplashPage/styles.js","components/Highlights/Highlight.js","components/Demo/SplashPage/SingleValueVis.js","components/Demo/SplashPage/NaturalLanguage.js","components/Demo/SplashPage/Welcome.js","components/Demo/SplashPage/VectorThumbnail.js","components/Demo/SplashPage/PopularAnalysis.js","components/Demo/SplashPage/EmbeddedQuery.js","components/Demo/SplashPage/SplashPage.js","components/Demo/Dashboard/styles.js","components/Accessories/NumberToColoredPercent.js","components/Demo/Dashboard/AutoComplete.js","components/Demo/Dashboard/CheckboxSvgMapRegion.js","components/Demo/Dashboard/helpers.js","components/Demo/Dashboard/MapFilter.js","components/Demo/Dashboard/RangeSlider.js","components/Demo/Dashboard/ToggleApi.js","components/Demo/Dashboard/ToggleTile.js","components/Demo/Dashboard/ToggleVisColor.js","components/Demo/Dashboard/SwitchTheme.js","components/Demo/Dashboard/SelectFont.js","components/Demo/Dashboard/FilterBarChildren.js","components/Demo/Dashboard/FilterBar.js","components/Accessories/Loader.js","components/Demo/Dashboard/EmbeddedDashboardContainer.js","components/Demo/Dashboard/Dashboard.js","../../shared/components/Button.js","components/Material/ModalTable.js","components/Demo/CustomVis/styles.js","components/Demo/CustomVis/CustomVis.js","webpack:///./src/components/Demo/CustomVis/CustomVis.js?b545","components/Demo/ReportBuilder/styles.js","components/Demo/ReportBuilder/helpers.js","components/Demo/ReportBuilder/ReportBuilder.js","webpack:///./src/components/Demo/ReportBuilder/ReportBuilder.js?9721","components/Demo/QueryBuilder/styles.js","components/Demo/QueryBuilder/helpers.js","components/Demo/QueryBuilder/QueryBuilder.js","webpack:///./src/components/Demo/QueryBuilder/QueryBuilder.js?9efc","components/Home/Home.js","App.js","serviceWorker.js","index.js","tools.js","images/atom_logo_black.svg","LookerHelpers/defaults.js","images sync /^/.//.*/.jpg$","images/atom_background1.jpg","images/atom_background2.jpg","images/atom_background3.jpg","images/atom_background4.jpg","images/atom_splash_blog.jpg","images/atom_splash_inventory.jpg","images/atom_splash_trends.jpg","images sync /^/.//.*_logo_black/.svg$","images sync /^/.//.*/.svg$","images/atom.svg","images/atom_logo_white.svg"],"names":["AppContext","React","createContext","PblSessionEmbed","options","accessToken","this","isAuthenticated","activeToken","setToken","fetchToken","settings","transport","BrowserTransport","AuthToken","fetch","token","access_token","isActive","json","props","getToken","mode","credentials","headers","Authorization","AuthSession","checkForExistingSession","a","method","Accept","sessionResponse","sessionResponseData","session","writeNewSession","newSession","body","JSON","stringify","newSessionResponse","newSessionResponseData","endSession","endSessionResponse","message","createSdkHelper","lookerBaseUrl","pblsession","DefaultSettings","base_url","Looker40SDK","checkToken","expires_in","Date","now","lookerApiToken","api_user_token","sdk","status","clientSession","lightGrey","grey","makeStyles","theme","root","flexGrow","backgroundColor","palette","background","paper","display","justifyContent","alignItems","minWidth","minHeight","left","top","transform","position","textAlign","height","fontSize","marginBottom","margin","width","require","validIdHelper","usecaseHelper","SignIn","useContext","setClientSession","setSdk","responseGoogle","initialHref","setInitialHref","response","error","userProfile","profileObj","lookerUser","initialLookerUser","googleClientId","process","usecaseFromUrl","UsecaseContent","console","log","classes","useStyles","backgroundImageInt","Math","floor","random","backgroundImage","default","logoImage","className","h100","Grid","container","item","sm","style","backgroundSize","Card","card","cardCopy","src","CardContent","Typography","variant","component","CardActions","actions","clientId","buttonText","onSuccess","onFailure","cookiePolicy","drawerWidth","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","zIndex","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","spacing","hide","drawer","flexShrink","borderRight","drawerPaper","drawerHeader","padding","mixins","toolbar","content","contentShift","title","tabs","divider","dNone","dBlock","relative","absolute","right0","right","top0","right24","top24","ml12","mr12","mt12","marginTop","highlightLegend","bottom","tree","maxWidth","parentHoverVisibility","visibility","childHoverVisibility","fontSize1em","padding10","mt5","mb5","modal","border","boxShadow","shadows","list","nested","paddingLeft","mlAuto","mrAuto","appBarBottom","hidden","roundedTab","borderRadius","paddingBottom30","paddingBottom","mtAuto","mb10","index","defaultTheme","createMuiTheme","atomTheme","primary","main","secondary","zIndex1500","UserMenu","history","useHistory","setPaywallModal","handleSwitchLookerUser","useState","anchorEl","setAnchorEl","user_attributes","brand","selectedBrand","setSelectedBrand","handleClose","newValue","property","push","useEffect","IconButton","aria-label","aria-controls","aria-haspopup","onClick","event","currentTarget","color","Avatar","alt","name","imageUrl","permission_level","charAt","toUpperCase","substring","id","keepMounted","open","Boolean","onClose","MenuItem","autoFocus","Object","keys","lookerUserPermissions","map","key","_","capitalize","Divider","Autocomplete","lookerUserAttributeBrandOptions","getOptionLabel","option","label","onChange","target","innerText","renderInput","params","TextField","loadingText","disableautofocus","onKeyDown","stopPropagation","TopBar","drawerOpen","setDrawerOpen","activeUsecase","AppBar","clsx","Toolbar","edge","ChevronLeft","Menu","Badge","badgeContent","AddAlert","BottomBar","highlightShow","setHighlightShow","codeShow","setCodeShow","startIcon","HighlightOutlined","Code","LeftDrawer","Drawer","anchor","MenuList","selectedMenuItem","orderedDemoComponentsForMenu","orderBy","demoComponents","orderedDemoComponentsForMenuObj","expandedTreeItemsArr","cumulativePusher","hasOwnProperty","menuCategory","demoComponentIconMap","HomeIcon","VisibilityOutlined","ShowChart","TableChartOutlined","DateRangeOutlined","Search","LibraryBooksOutlined","List","aria-labelledby","outerItem","outerIndex","Fragment","ListItem","ListItemText","disablePadding","innerIndex","lookerContent","type","MatchingIconComponent","button","selected","lowerCase","Link","to","ListItemIcon","overflow","flexDirection","cursor","flexCentered","padding15","basic","advanced","premium","font75","font875","padding30","getModalStyle","MonetizationModal","payWallModal","modalStyle","modalListMap","Modal","show","Fade","in","elevation","Rating","value","readOnly","fontStyle","dense","Check","disableSpacing","fullWidth","borderColor","indexOf","CodeFlyout","clientSideCode","serverSideCode","permissionNeededCode","length","padding20","codeFlyoutContainer","CodeSnippet","code","language","dracula","showLineNumbers","redPrimary","red","greenPrimary","green","redLight","greenLight","icon","w100","skeleton","maxHeight200","maxHeight","mt30","mb30","textCenter","cursorPointer","height800","maxHeight100","maxHeight400","minHeight200","redNeg","fontWeight","greenPos","mb12","overflowScroll","overflowHidden","overflowVisible","maxHeight150","minHeight150","carouselLegend","opacity","carouselLegendTitle","carouselLegendBody","positionRelative","maxHeight75","overflowYScroll","overflowY","overflowX","positionFixedTopRight","Highlight","children","ApiHighlight","Chip","size","align","EmbedHighlight","EmbedMethodHighlight","decodeHtml","SingleValueVis","undefined","apiContent","setApiContent","corsApiCall","isReady","dataObjForSparkline","isSubscribed","runInlineQuery","then","inlineQuery","ok","run_inline_query","result_format","resultFormat","lookerResponseData","data","dataArrForDataObj","fields","thisDataItem","toString","change","y","upOrDownArrow","isNaN","toFixed","parseInt","labelText","chipFormat","replace","lookerCardShadow","xScale","format","precision","yScale","min","max","stacked","reverse","axisLeft","orient","tickSize","tickPadding","tickRotation","axisBottom","enablePoints","enableGridX","enableGridY","colors","visColor","animate","CircularProgress","circularProgress","NaturalLanguage","clientLookerResponse","inlineQueriesMap","Welcome","givenName","inlineQueries","VectorThumbnail","svg","setSvg","getThumbnail","content_thumbnail","resourceType","resource_id","blob","Blob","url","URL","createObjectURL","maxHeight60","PopularAnalysis","vectors","EmbeddedQuery","iFrameExists","setIFrame","lookerHost","fetchData","$","html","queryUrl","encodeURIComponent","document","location","origin","LookerEmbedSDK","createExploreWithUrl","appendTo","getElementById","withClassName","withTheme","build","connect","explore","init","catch","maxHeight350","maxHeight80Percent","SplashPage","window","innerHeight","setHeight","staticContent","demoComponentType","handleTabChange","addEventListener","height100Percent","Box","noContainerScroll","gridWidth","minHeight680","verticalAlignTop","verticalAlign","w33","dot","borderRadius0","NumberToColoredPercent","val","positive_good","abs_val","up","down","val_formatted","abs","toLocaleString","minimumFractionDigits","AutoComplete","customFilterAction","horizontalLayout","filters","Array","isArray","renderOption","justify","trend","filterName","CheckboxSVGMap","prototype","toggleLocation","setState","prevState","selectedLocations","regionFromStateClicked","find","locations","statesWithinRegionClicked","filter","region","allUniqueRegions","i","allUniqueRegionsFromSelectedLocations","j","regionsNotCurrentlySelected","differenceBy","allRegionsNotSelected","statesNotWithinRegionsClicked","attributes","componentDidMount","customUsa","Usa","lifetimeRevenueTierMap","lifetimeRevenueTierIconMap","SentimentDissatisfied","SentimentSatisfied","SentimentVerySatisfied","MapFilter","regionValue","setRegionValue","heading","allUniqueRegionsFromSelectedLocationsCommaSep","join","RangeSlider","sliderValue","setSliderValue","Slider","valueLabelDisplay","onChangeCommitted","marks","disabled","ToggleApi","lifetimeRevenueTierValue","setLifetimeRevenueTierValue","ToggleButtonGroup","exclusive","ageTier","Icon","ToggleButton","ToggleTile","tileToggleValue","handleTileToggle","dynamicFieldLookUp","ToggleVisColor","visColorToggleValue","handleVisColorToggle","dynamicVisConfig","SwitchTheme","lightThemeToggleValue","handleThemeChange","Switch","checked","inputProps","SelectFont","fontThemeSelectValue","FormControl","formControl","InputLabel","Select","labelId","FilterBarChildren","setHorizontalLayout","filterComponents","dynamicThemeMode","dynamicThemeFont","FilterBar","expanded","setExpanded","Accordion","AccordionSummary","expandIcon","ExpandMore","VerticalSplit","e","HorizontalSplit","AccordionDetails","Skeleton","animation","Loader","expansionPanelHeight","mt","EmbeddedDashboardContainer","Dashboard","dashboardObj","setDashboardObj","dashboardOptions","setDashboardOptions","setTileToggleValue","setVisColorToggleValue","setLightThemeToggleValue","setFontThemeSelectValue","setExpansionPanelHeight","isThemeableDashboard","darkThemeBackgroundColor","paletteToUse","useMemo","filteredLayout","layouts","dashboard_layout_components","row","elements","dashboard_element_id","newDashboardLayout","setOptions","newColorSeries","newDashboardElements","vis_config","series_colors","innerKey","custom_color","map_value_colors","series_cell_visualizations","header_font_color","map_tile_provider","themeName","performLookerApiCalls","dynamicTheme","dashboardId","themeToUse","createDashboardWithId","withNext","withParams","on","changeHeight","dashboard","orderedArrayForApiContent","jsonQuery","desiredFilterName","queryResultsForDropdown","desiredProperty","ThemeProvider","newFilterValue","updateFilters","run","Button","prettifyString","table","ModalTable","modalContent","aria-describedby","TableContainer","Paper","Table","stickyHeader","TableHead","TableRow","TableCell","lastIndexOf","TableBody","rendered","round","height500","height600","height700","textField","selectEmpty","positionTopRight","CustomVis","fromDate","setFromDate","toDate","setToDate","category","setCategory","desiredField","setDesiredField","setOpen","setModalContent","setClientSideCode","handleModalOpen","activeTabValue","day","originalInlineQueryCopy","parse","total","limit","modalObj","filterData","uniqueDates","Set","filteredAndReducedForAll","uniqueDate","reduce","acc","thisObj","desiredFields","uniqueCategories","incrementDate","handleFromDate","newValueAsDate","addDays","handleToDate","handleCategory","handleDesiredField","from","emptyColor","yearSpacing","monthBorderColor","dayBorderWidth","dayBorderColor","legends","direction","translateY","itemCount","itemWidth","itemHeight","itemsSpacing","itemDirection","ExpansionPanel","ExpansionPanelSummary","FilterList","ExpansionPanelDetails","split","utils","DateFnsUtils","disableToolbar","KeyboardButtonProps","minDate","maxDate","dateInput","increment","dateFormatTotime","getTime","toISOString","ml24","faSm","whiteSpaceNoWrap","whiteSpace","TabPanel","other","role","p","ReportBuilder","setExploreObj","setValue","qid","setQid","tabContent","handleChange","action","contentType","contentId","secondaryAction","exploreId","newReportEmbedContainer","iFrameArray","classList","contains","remove","add","indexOfDeletedContent","updatedIFrameArray","slice","splice","empty","delete_look","animateLoad","folder","sharedFolder","me","embedUser","h","looks","look","query","client_id","embeddedUserFolder","search_looks","user_id","embedUserLooks","embedUserFolderId","folder_id","looksToUse","dashboardsToUse","dashboards","objToUse","lookId","lookIsRendered","createLookWithId","setTimeout","dashboardIsRendered","createExploreWithId","Tabs","Tab","a11yProps","tabContentItem","tabContentItemIndex","TreeSideBar","sharedFolderId","treeCounter","setSelected","expandedArr","TreeView","defaultCollapseIcon","defaultExpandIcon","onNodeToggle","nodeIds","onNodeSelect","TreeItem","nodeId","treecounter","contentid","labelRoot","orange","typography","pxToRem","fontWeightRegular","visuallyHidden","clip","bluePrimary","blueSecondary","orangePrimary","orangeSecondary","bottomBarSpacer","maxHeight600","m12","m6","descendingComparator","b","getComparator","order","stableSort","array","comparator","stabilizedThis","el","sort","QueryBuilder","innerWidth","setWidth","newQuery","apiContentCopy","timer","create_query","lookerCreateQueryResponseData","create_query_task","query_id","lookerCreateTaskResponseData","taskInterval","setInterval","query_task_results","lookerCheckTaskResponseData","clearInterval","EnhancedTable","rows","gridTitle","measureCounter","dimensionCounter","initializeFieldChipDataHelper","queryBody","datalabel","fieldType","fieldsChipData","setFieldsChipData","queryModified","setQueryModified","queryShouldRun","setQueryShouldRun","filterType","filtersData","setFilterData","handleFieldChipClick","chip","updatedFieldsChipData","handleSelectChange","updatedFiltersData","handleQuerySubmit","newFields","currentFilters","newQueryObj","lookerUserTimeHorizonMap","datePermissionMap","measurecounter","Done","dimensioncounter","EnhancedTableHead","onSelectAllClick","onRequestSort","numSelected","rowCount","numeric","sortDirection","TableSortLabel","active","setOrder","setOrderBy","page","setPage","setDense","rowsPerPage","setRowsPerPage","emptyRows","hover","colSpan","FormControlLabel","control","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","Home","democomponent","useParams","didMountRef","useRef","setActiveUsecase","setSelectedMenuItem","newLookerUser","permissions","time_horizon","lookerUserResponse","lookerUserResponseData","func","args","checkTokenRsp","res","current","themeMap","DemoComponent","DemoComponentContent","o","Provider","CssBaseline","App","setIsReady","fetchSession","path","isSignedIn","exact","render","PrivateRoute","Component","rest","href","PublicRoute","urlToUse","initialHrefArr","lastTwoHrefArr","lastOneHrefArr","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister","module","exports","makeid","result","characters","charactersLength","str","frags","getUrlVars","hash","myJson","hashes","txt","createElement","innerHTML","usecaseContent","keyArr","webpackContext","req","webpackContextResolve","__webpack_require__","Error","resolve"],"mappings":"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","file":"static/js/main.7a2fb3f8.chunk.js","sourcesContent":["import React from 'react';\n\nconst AppContext = React.createContext(null);\n\nexport default AppContext;","// https://www.npmjs.com/package/@looker/sdk#using-a-proxy-for-authentication\n\nimport { AuthToken, AuthSession, BrowserTransport } from \"@looker/sdk\";\n\nexport class PblSession extends AuthSession {\n  fetchToken() {\n    return fetch(\"\");\n  }\n  activeToken = new AuthToken();\n  constructor(settings, transport) {\n    super(settings, transport || new BrowserTransport(settings));\n  }\n  isAuthenticated() {\n    const token = this.activeToken;\n    if (!(token && token.access_token)) return false;\n    return token.isActive();\n  }\n  async getToken() {\n    if (!this.isAuthenticated()) {\n      const token = await this.fetchToken();\n      this.activeToken.setToken(await token.json());\n    }\n    return this.activeToken;\n  }\n  async authenticate(props) {\n    const token = await this.getToken();\n    if (token && token.access_token) {\n      props.mode = \"cors\";\n      delete props.credentials;\n      props.headers = {\n        ...props.headers,\n        Authorization: `Bearer ${this.activeToken.access_token}`\n      };\n    }\n    return props;\n  }\n}\n\nexport class PblSessionEmbed extends PblSession {\n\n  accessToken;\n\n  constructor(options) {\n    super(options);\n    this.accessToken = options.accessToken;\n  }\n\n  fetchToken() {\n    return this.accessToken;\n  }\n\n  async getToken() {\n    if (!this.isAuthenticated()) {\n      this.activeToken.setToken(this.fetchToken());\n    }\n    return this.activeToken;\n  }\n}","import { Looker40SDK, DefaultSettings } from \"@looker/sdk\";\nimport { PblSessionEmbed } from '../LookerHelpers/pblsession'\n\nexport const checkForExistingSession = async () => {\n  // console.log('checkForExistingSession')\n  let sessionResponse = await fetch('/readsession', {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n  const sessionResponseData = await sessionResponse.json();\n  return { session: sessionResponseData.session };\n}\n\nexport const writeNewSession = async (newSession) => {\n  // console.log('writeNewSession')\n  let newSessionResponse = await fetch('/writesession', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ ...newSession })\n  })\n  const newSessionResponseData = await newSessionResponse.json();\n  return { session: newSessionResponseData.session };\n}\n\nexport const endSession = async () => {\n  // console.log('endSession')\n  let endSessionResponse = await fetch('/endsession', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n  const endSessionResponseData = await endSessionResponse.json();\n  return { message: endSessionResponse };\n}\n\nexport const createSdkHelper = ({ accessToken, lookerBaseUrl }) => {\n  // console.log('createSdkHelper')\n  // console.log({ accessToken })\n  // console.log({ lookerBaseUrl })\n\n  if (accessToken && lookerBaseUrl) { //added 11/22\n    const pblsession = new PblSessionEmbed({\n      ...DefaultSettings(),\n      base_url: lookerBaseUrl,\n      accessToken\n    });\n\n    let sdk = new Looker40SDK(pblsession);\n    return sdk;\n  }\n\n}\n\nexport const checkToken = async (expires_in) => {\n  // console.log('checkToken');\n  // console.log({ expires_in });\n  // console.log('Date.now()', Date.now());\n  // let dateeee = new Date(expires_in);\n  // console.log({ dateeee })\n\n  if ((Date.now()) > expires_in) {\n    // console.log('inside iff')\n    let sessionResponse = await fetch('/refreshlookertoken', {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n    const sessionResponseData = await sessionResponse.json();\n    const lookerBaseUrl = sessionResponseData.session.lookerBaseUrl ? sessionResponseData.session.lookerBaseUrl : '';\n    const accessToken = sessionResponseData.session.lookerApiToken ? sessionResponseData.session.lookerApiToken.api_user_token : '';\n    const sdk = createSdkHelper({ accessToken, lookerBaseUrl })\n\n    return { status: \"updated\", sdk, clientSession: sessionResponseData.session }\n\n  } else {\n    // console.log(\"inside ellse\")\n    return { status: \"ok\" }\n  }\n}\n\n","import { makeStyles } from '@material-ui/core/styles';\nimport { grey, orange } from '@material-ui/core/colors';\nconst lightGrey = grey[200];\n\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  root: {\n    display: 'flex',\n    backgroundColor: 'rgb(229, 229, 229)'\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  card: {\n    minWidth: 350,\n    minHeight: 500,\n    left: '75%',\n    top: '50%',\n    transform: `translate(-75%, -50%)`,\n    position: 'absolute',\n    textAlign: 'center',\n    backgroundColor: lightGrey\n  },\n  h100: {\n    height: '100%'\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  actions: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  cardCopy: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: `translate(-50%, -50%)`,\n    margin: '0',\n    width: '80%',\n  }\n}));\n","import _ from 'lodash'\nimport React, { useContext } from 'react';\nimport { useHistory, useParams, useLocation } from \"react-router-dom\";\nimport { GoogleLogin } from 'react-google-login';\nimport AppContext from '../../contexts/AppContext';\nimport { writeNewSession, createSdkHelper } from '../../AuthUtils/auth';\nimport UsecaseContent from '../../usecaseContent.json';\nimport { initialLookerUser } from '../../LookerHelpers/defaults'\nimport useStyles from './styles.js';\nimport '../Home.css';\nimport { Grid, Card, CardActions, CardContent, Typography } from '@material-ui/core'\nconst { validIdHelper, usecaseHelper } = require('../../tools');\n\nexport default function SignIn(props) {\n  // console.log('SignIn');\n  // console.log('props', props)\n\n  let { clientSession, setClientSession,\n    sdk, setSdk,\n    initialHref, setInitialHref } = useContext(AppContext)\n\n\n  const responseGoogle = async (response) => {\n    if (response.error) {\n    } else {\n      let newSession = await writeNewSession({ ...clientSession, userProfile: response.profileObj, lookerUser: initialLookerUser })\n\n      const lookerBaseUrl = newSession.session.lookerBaseUrl ? newSession.session.lookerBaseUrl : '';\n      const accessToken = newSession.session.lookerApiToken ? newSession.session.lookerApiToken.api_user_token : '';\n      const sdk = createSdkHelper({ lookerBaseUrl, accessToken })\n\n      setClientSession(newSession.session);\n      setSdk(sdk)\n    }\n  }\n  const googleClientId = `${process.env.REACT_APP_GOOGLE_CLIENT_ID}.apps.googleusercontent.com`\n  const usecaseFromUrl = usecaseHelper(UsecaseContent);\n\n  console.log({ usecaseFromUrl })\n\n  const classes = useStyles();\n  const backgroundImageInt = Math.floor(Math.random() * 4) + 1;\n\n  const backgroundImage = require(`../../images/${usecaseFromUrl}_background${backgroundImageInt}.jpg`).default;\n  const logoImage = require(`../../images/${usecaseFromUrl}_logo_black.svg`).default\n\n\n  return (\n    <div className={`${classes.root} demoComponent ${classes.h100}`}>\n      <Grid container\n        key={validIdHelper('sign in page')}\n        className={`${classes.h100}`}>\n        <Grid item sm={12} className={'sign-in-background-img'}\n          style={{\n            backgroundImage: `url(${backgroundImage})`,\n            backgroundSize: 'cover'\n          }}\n        >\n          <Card className={classes.card}>\n            <div className={classes.cardCopy}>\n              <img\n                src={logoImage}\n              />\n              <CardContent >\n                <Typography variant=\"h5\" component=\"h2\">\n                  Welcome\n                            </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                  Please sign in to access <br /> your merchant portal\n                            </Typography>\n              </CardContent>\n              <CardActions className={`${classes.actions}`} >\n                <GoogleLogin\n                  clientId={googleClientId}\n                  buttonText=\"Login\"\n                  onSuccess={responseGoogle}\n                  onFailure={responseGoogle}\n                  cookiePolicy={'single_host_origin'}\n                />\n              </CardActions>\n            </div>\n          </Card>\n        </Grid>\n      </Grid>\n    </div >\n  )\n}","import { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { grey } from '@material-ui/core/colors';\n\nconst drawerWidth = 240;\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    backgroundColor: 'rgb(229, 229, 229)'\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    zIndex: 1201,\n    backgroundColor: \"#343D4E\"\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    borderRight: 'none',\n    backgroundColor: 'transparent'\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    borderRight: 'none',\n    backgroundColor: 'transparent'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n    // backgroundColor: '#343D4E',\n    // color: '#ffff'\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n  title: {\n    flexGrow: 1,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  relative: {\n    position: 'relative'\n  },\n  absolute: {\n    position: 'absolute'\n  },\n  right0: {\n    right: 0\n  },\n  top0: {\n    top: 0\n  },\n  right24: {\n    right: 24\n  },\n  top24: {\n    top: 24\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  mr12: {\n    marginRight: 12\n  },\n  mt12: {\n    marginTop: 12\n  },\n  highlightLegend: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2),\n    zIndex: 1200\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400\n  },\n  parentHoverVisibility: {\n    '&:hover $childHoverVisibility': {\n      visibility: 'visible'\n    }\n\n  },\n  childHoverVisibility: {\n    visibility: 'hidden'\n  },\n  fontSize1em: {\n    fontSize: '1em'\n  },\n  padding10: {\n    padding: 10\n  },\n  mt5: {\n    marginTop: 5\n  },\n  mb5: {\n    marginBottom: 5\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  list: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: 'transparent'\n    // theme.palette.background.paper,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  appBarBottom: {\n    top: 'auto',\n    bottom: 0,\n    // backgroundColor: 'transparent'\n  },\n  hidden: {\n    visibility: 'hidden'\n  },\n  roundedTab: {\n    borderRadius: '0 100px 100px 0'\n  },\n  paddingBottom30: {\n    paddingBottom: 30\n  },\n  mtAuto: {\n    marginTop: 'auto'\n  },\n  mb10: {\n    marginBottom: 10\n  }\n}), { index: 1 });\n\n\nexport const defaultTheme = createMuiTheme({})\nexport const atomTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: grey[900],\n    },\n    secondary: {\n      main: grey[400],\n    },\n  },\n})\n","import _ from 'lodash';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory, } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { IconButton, Menu, MenuItem, Typography, Divider, TextField, Avatar } from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { lookerUserAttributeBrandOptions, lookerUserPermissions } from '../../LookerHelpers/defaults';\nimport { endSession } from '../../AuthUtils/auth';\nimport AppContext from '../../contexts/AppContext';\nconst { validIdHelper } = require('../../tools');\n\nconst useStyles = makeStyles((theme) => ({\n  zIndex1500: {\n    zIndex: 1500\n  },\n  mr12: {\n    marginRight: 12\n  }\n}))\n\nexport default function UserMenu(props) {\n  let history = useHistory();\n  const classes = useStyles();\n\n  let { setPaywallModal, clientSession, setClientSession, handleSwitchLookerUser } = useContext(AppContext)\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [selectedBrand, setSelectedBrand] = useState(clientSession.lookerUser.user_attributes.brand || '');\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (newValue, property) => {\n    setAnchorEl(null);\n    if (newValue == null) {\n      setClientSession({})\n      history.push(\"/\")\n      endSession();\n    } else if (newValue === 'modal') {\n      setPaywallModal({\n        'show': true,\n        'permissionNeeded': 'explore'\n      })\n    } else if (typeof newValue === 'string') {\n      handleSwitchLookerUser(newValue, property)\n    }\n  };\n  useEffect(() => {\n    // console.log('useEffect')\n    setSelectedBrand(clientSession.lookerUser.user_attributes.brand || '')\n  }, [clientSession.lookerUser]);\n\n  return (\n    <div className={`${classes.zIndex1500}`}>\n      <IconButton\n        aria-label=\"account of current user\"\n        aria-controls=\"menu-appbar\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        color=\"inherit\"\n      >\n        <Avatar alt={clientSession.userProfile.name} src={clientSession.userProfile.imageUrl} className={classes.mr12} />\n\n        <Typography>\n          {typeof clientSession.lookerUser.user_attributes.permission_level === 'string' ?\n            clientSession.lookerUser.user_attributes.permission_level.charAt(0).toUpperCase() + clientSession.lookerUser.user_attributes.permission_level.substring(1) : ''}\n        </Typography>\n      </IconButton>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <MenuItem autoFocus={false}>Select User Level</MenuItem>\n\n        {Object.keys(lookerUserPermissions).map(key => {\n          return (<MenuItem\n            key={validIdHelper(`$lookerUserPermission-MenuItem-${key}`)}\n            autoFocus={false}\n            onClick={() => handleClose(key, 'permission')}>{_.capitalize(key)}</MenuItem>)\n        })}\n\n        <Divider className={classes.divider} />\n        <MenuItem onClick={() => handleClose(null)}>Sign Out</MenuItem>\n        <Divider className={classes.divider} />\n        <MenuItem onClick={() => handleClose('modal')}>Show Monetization Modal</MenuItem>\n        <Divider className={classes.divider} />\n        <MenuItem>Current brand: {selectedBrand}</MenuItem>\n        <MenuItem>\n          <Autocomplete\n            id=\"combo-box-usermenu\"\n            options={lookerUserAttributeBrandOptions || []}\n            getOptionLabel={(option) => option.label}\n            style={{ width: 300 }}\n            onChange={(event) => handleClose((event.target.innerText || ''), 'brand')}\n            renderInput={(params) => <TextField {...params}\n              label=\"Change merchant brand\"\n              variant=\"outlined\"\n            />}\n            loadingText=\"Loading...\"\n            disableautofocus=\"true\"\n            onKeyDown={(event) => event.stopPropagation()}\n          />\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport clsx from 'clsx';\nimport {\n  AppBar, Toolbar, Badge, Avatar, IconButton\n} from '@material-ui/core/';\nimport { AddAlert, ChevronLeft, Menu } from '@material-ui/icons';\nimport { endSession } from '../../AuthUtils/auth';\nimport AppContext from '../../contexts/AppContext';\nimport { useStyles } from './styles.js';\n\nimport UserMenu from './UserMenu';\n\n\nexport default function TopBar(props) {\n  const classes = useStyles();\n\n  let { clientSession, setClientSession,\n    drawerOpen, setDrawerOpen,\n    activeUsecase } = useContext(AppContext)\n\n  return (\n    <AppBar\n      position=\"fixed\"\n      className={clsx(classes.appBar)}\n    >\n      <Toolbar>\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          onClick={() => setDrawerOpen(!drawerOpen)}\n          edge=\"start\"\n        >\n          {drawerOpen ? <ChevronLeft /> : <Menu />}\n        </IconButton>\n\n        {activeUsecase ?\n          <Avatar alt=\"Icon\"\n            src={require(`../../images/${activeUsecase}.svg`).default}\n            variant=\"square\"\n          /> : ''}\n\n        <Badge badgeContent={3} color=\"error\" className={`${classes.mlAuto} ${classes.mr12} `} >\n          <AddAlert />\n        </Badge>\n        <UserMenu />\n      </Toolbar>\n    </AppBar>\n  )\n}\n\n","import React, { useContext } from 'react';\nimport { Button, Grid } from '@material-ui/core';\nimport { Code, HighlightOutlined } from '@material-ui/icons';\nimport AppContext from '../../contexts/AppContext';\n\n\nexport default function BottomBar(props) {\n  // console.log('BottomBar')\n  // console.log('props', props)\n\n  const { classes } = props\n  const { highlightShow, setHighlightShow,\n    codeShow, setCodeShow } = useContext(AppContext)\n\n  return (\n    <Grid container\n      className={`${classes.mtAuto} ${classes.mb10}`}>\n      <Grid item sm={6}>\n        <Button\n          display=\"inline\"\n          startIcon={<HighlightOutlined />}\n          onClick={() => {\n            if (codeShow) setCodeShow(!codeShow)\n            setHighlightShow(!highlightShow)\n          }\n          }>Source\n      </Button>\n      </Grid>\n      <Grid item sm={6}>\n        <Button\n          className={`${classes.ml12}`}\n          display=\"inline\"\n          startIcon={<Code />}\n          onClick={() => {\n            if (highlightShow) setHighlightShow(!highlightShow)\n            setCodeShow(!codeShow)\n          }}>Code\n      </Button>\n      </Grid>\n    </Grid >\n  );\n}\n","import _ from 'lodash'\nimport React, { useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport AppContext from '../../contexts/AppContext';\nimport UsecaseContent from '../../usecaseContent.json';\nimport { Drawer, IconButton, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core/';\nimport { AddAlert, ShowChart, VisibilityOutlined, DateRangeOutlined, Search, FindInPage, Code, TableChartOutlined, LibraryBooksOutlined, Menu, ChevronLeft } from '@material-ui/icons';\nimport HomeIcon from '@material-ui/icons/Home'; //already declared\nimport { useStyles } from './styles.js';\nimport BottomBar from './BottomBar'; //needs refactor\n\nconst { validIdHelper } = require('../../tools');\n\nexport default function LeftDrawer(props) {\n  // console.log('LeftDrawer');\n\n  const classes = useStyles();\n  const { drawerOpen, setDrawerOpen, } = useContext(AppContext);\n\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"persistent\"\n      anchor=\"left\"\n      open={drawerOpen}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <div className={classes.drawerHeader}>\n        <IconButton\n          onClick={() => setDrawerOpen(false)}>\n          <ChevronLeft\n            aria-label=\"close drawer\"\n          />\n        </IconButton>\n      </div>\n\n      <MenuList classes={classes} />\n\n      {/* should be refactored */}\n      <BottomBar classes={classes} />\n    </Drawer>\n  )\n}\n\nfunction MenuList(props) {\n  // console.log(\"MenuList\")\n  // console.log({ props })\n  const { classes } = props\n  const { activeUsecase, selectedMenuItem } = useContext(AppContext);\n\n  let orderedDemoComponentsForMenu = activeUsecase ? _.orderBy(UsecaseContent[activeUsecase].demoComponents, ['menuCategory'], ['asc']) : [];\n  let orderedDemoComponentsForMenuObj = {};\n  let expandedTreeItemsArr = [];\n  let cumulativePusher = 0;\n  orderedDemoComponentsForMenu.map((item, index) => {\n    if (orderedDemoComponentsForMenuObj.hasOwnProperty(item.menuCategory)) {\n      orderedDemoComponentsForMenuObj[item.menuCategory] = [...orderedDemoComponentsForMenuObj[item.menuCategory], item]\n    } else {\n      orderedDemoComponentsForMenuObj[item.menuCategory] = [item];\n      cumulativePusher += 1;\n      expandedTreeItemsArr.push(\"\" + (index + cumulativePusher));\n    }\n  })\n\n\n  const demoComponentIconMap = {\n    \"splashpage19\": HomeIcon,\n    \"customfilter5\": VisibilityOutlined,\n    \"simpledashboard9\": ShowChart,\n    \"customfilter1\": TableChartOutlined,\n    \"customvis\": DateRangeOutlined,\n    \"querybuilderexplorelite\": Search,\n    \"reportbuilder14\": LibraryBooksOutlined,\n  }\n\n\n  // const demoComponentIconMap = {\n  //   \"home\": HomeIcon,\n  //   \"inventoryoverview\": VisibilityOutlined,\n  //   \"webanalytics\": ShowChart,\n  //   \"salesoverview\": TableChartOutlined,\n  //   \"salescalendar\": DateRangeOutlined,\n  //   \"querybuilder\": Search,\n  //   \"savedreports\": LibraryBooksOutlined\n  // };\n\n  return (<List\n    component=\"nav\"\n    aria-labelledby=\"nested-list-subheader\"\n    className={classes.list}\n  >\n    {activeUsecase ? Object.keys(orderedDemoComponentsForMenuObj).map((outerItem, outerIndex) => {\n      return (\n        < React.Fragment\n          key={`${validIdHelper(outerItem + '-menuList-' + outerIndex)}`}>\n          <ListItem\n            key={`${validIdHelper(outerItem + '-outerListItem-' + outerIndex)}`}\n          >\n            <ListItemText primary={outerItem === 'home' ? '' : _.capitalize(outerItem)} />\n          </ListItem>\n          < List component=\"div\" disablePadding\n            key={`${validIdHelper(outerItem + '-innerList-' + outerIndex)}`}>\n            {orderedDemoComponentsForMenuObj[outerItem].map((item, innerIndex) => {\n              const key = item.lookerContent[0].id ? validIdHelper(item.type + item.lookerContent[0].id) : validIdHelper(item.type);\n              const MatchingIconComponent = demoComponentIconMap[key]\n\n              return (\n                <ListItem\n                  button\n                  className={`${classes.nested} ${classes.roundedTab}`}\n                  key={`${validIdHelper(outerItem + '-innerListItem-' + innerIndex)}`}\n                  selected={validIdHelper(_.lowerCase(item.label)) === selectedMenuItem}\n                  component={Link}\n                  to={validIdHelper(_.lowerCase(item.label))}\n                >\n                  <ListItemIcon>\n                    <MatchingIconComponent />\n                  </ListItemIcon>\n                  <ListItemText primary={_.capitalize(item.label)} />\n                </ListItem>\n              )\n            })}\n          </List>\n        </React.Fragment>\n      )\n    }) : ''\n    }\n  </List >\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\n\nexport default makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 1000,\n    height: 604,\n    overflow: 'scroll',\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  card: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    // height: 520,\n    overflow: 'scroll',\n    cursor: 'pointer',\n    '&:hover': {\n      transform: 'scale(1.05)',\n      transition: 'transform .2s'\n    }\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  padding15: {\n    padding: 15\n  },\n  divider: {\n    marginTop: 15,\n    marginBottom: 15,\n    color: '#fff'\n  },\n  basic: {\n\n  },\n  advanced: {\n\n  },\n  premium: {\n    // backgroundColor: '#5F6BD8',\n    // color: '#ffffff'\n  },\n  font75: {\n    fontSize: '.75em'\n  },\n  font875: {\n    // fontSize: '.875em'\n  },\n  padding30: {\n    padding: 30\n  }\n}));\n\n\n\n","import _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppContext from '../../../contexts/AppContext';\nimport {\n  Modal, Fade, Grid, Card, CardContent, CardActions, Button, Typography, Divider, List, ListItem, ListItemText\n} from '@material-ui/core';\nimport { Rating } from '@material-ui/lab'\nimport { ListItemIcon } from '@material-ui/core'; //already declared\nimport { Check } from '@material-ui/icons';\nimport useStyles from './styles.js';\nimport { lookerUserPermissions } from '../../../LookerHelpers/defaults';\nconst { validIdHelper } = require('../../../tools');\n\nfunction getModalStyle() {\n  const top = 10 //+ rand();\n  const left = 50 //+ rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${left}%, -${top}%)`,\n  };\n}\n\nexport default function MonetizationModal(props) {\n  // console.log('MonetizationModal')\n  let { clientSession, payWallModal, setPaywallModal, handleSwitchLookerUser } = useContext(AppContext)\n\n\n  const [modalStyle] = React.useState(getModalStyle);\n  const classes = useStyles();\n\n  const modalListMap = {\n    'basic': [\n      '6 months of order data history',\n      'Atom Merchant Dashboards',\n      'Download PDFs, CSVs'\n    ],\n    'advanced': [\n      'Full year of order data history',\n      'Drill to row level information',\n      'Download row level information',\n      'Schedule dashboards for delivery (to you or others)',\n      'Set alerts and key threshold notifications'],\n    'premium': [\n      '2 Full years of order data history',\n      'Analyze your own data and save custom reports',\n      'View premium level, productivity enhancing reports',\n      'Share your reports with colleagues in Atom',\n      'Text message alerts',\n      // 'Notify active shoppers on Atom',\n      // 'Apply Atoms advanced AI insights to stay ahead of trends'\n    ]\n  }\n\n\n  return (\n    < Modal\n      className={`${classes.modal} `}\n      open={payWallModal.show || false}\n      onClose={() => setPaywallModal({})}\n    >\n      <Fade in={payWallModal.show || false}>\n        <div\n          style={modalStyle}\n          className={`${classes.paper} ${classes.padding30}`}>\n          <Grid container\n            spacing={3}>\n            {Object.keys(lookerUserPermissions).map(key => {\n              return (\n                <Grid item sm={4}\n                  key={validIdHelper(`monetizationModal-gridItem-${key}`)}\n                >\n                  <Card className={`${classes.card} ${classes[key]}`}\n                    elevation={1}\n                    style={key === clientSession.lookerUser.user_attributes.permission_level ? {\n                      // transform: 'scale(1.05)',\n                      // transition: 'transform .2s',\n                      backgroundColor: '#5F6BD8',\n                      color: '#ffffff',\n                      height: 519\n                    } : {\n                        height: 519\n                      }}\n                    onClick={() => {\n                      handleSwitchLookerUser(key, 'permission')\n                      setPaywallModal({})\n                    }}>\n                    <CardContent>\n                      <Typography variant=\"h6\" display=\"justify\">\n                        {_.capitalize(key)}\n                      </Typography>\n                      <Typography\n                        display=\"justify\">\n                        <Rating\n                          name=\"read-only\"\n                          value={key === 'basic' ? \"3\" : key === \"advanced\" ? \"4\" : \"5\"}\n                          readOnly /></Typography>\n                      <Typography variant=\"subtitle1\" style={{ fontStyle: 'italic' }}>\n                        {key === 'basic' ?\n                          'Drive your business with clear KPIs' :\n                          key === 'advanced' ?\n                            'Deeper insights, operations' :\n                            'Drive your business with Atom'\n                        }\n                      </Typography>\n\n                      <Divider className={`${classes.divider} `} />\n\n                      <List className={classes.root}>\n                        {\n                          modalListMap[key].map((item, index) => (\n                            <ListItem dense={true}\n                              className={classes.font875}\n                              key={`monetizationModal-ListItem-${key}-${index}`}\n                            >\n                              <ListItemIcon\n                              >\n                                <Check fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary={item} />\n                            </ListItem>\n                          ))\n                        }\n                      </List>\n                    </CardContent>\n                    <CardActions disableSpacing={false}>\n                      <Button\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        // disabled={key === lookerUser.user_attributes.permission_level ? true : false}\n                        fullWidth\n                        onClick={() => {\n                          handleSwitchLookerUser(key, 'permission')\n                          setPaywallModal({})\n                        }}\n                        style={key === clientSession.lookerUser.user_attributes.permission_level ? { color: '#ffffff', borderColor: \"#ffffff\" } : {}}>\n                        {key === clientSession.lookerUser.user_attributes.permission_level ? \"Active\" :\n                          Object.keys(modalListMap).indexOf(clientSession.lookerUser.user_attributes.permission_level) < Object.keys(modalListMap).indexOf(key) ?\n                            'Upgrade' :\n                            'Switch'}\n                      </Button>\n                    </CardActions>\n                  </Card>\n                </Grid>\n              )\n            })}\n          </Grid>\n        </div >\n      </Fade >\n    </Modal >\n  );\n}\n","import React, { useContext } from 'react';\nimport { Typography, Grid, Fade, ClickAwayListener } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { dracula } from 'react-syntax-highlighter/dist/esm/styles/hljs'; //hehe\nimport AppContext from '../../contexts/AppContext';\n\n//helper function for rendering content in code tab\nexport default function CodeFlyout(props) {\n  const { codeShow, setCodeShow } = useContext(AppContext);\n\n  const { classes, lookerContent, clientSideCode, serverSideCode, lookerUser, permissionNeededCode, height } = props\n  return (\n    // <ClickAwayListener onClickAway={toggleCodeShow} mouseEvent={!codeShow ? false : 'click'}>\n    <Fade in={codeShow || false}>\n      {Object.keys(lookerUser).length ?\n        <Grid container spacing={3}\n          className={`${classes.padding20} ${classes.codeFlyoutContainer}`}\n          style={{ height }}>\n          <Grid item sm={11}>\n            <Typography variant=\"h6\" className={` ${classes.mrAuto}`} style={{ color: 'white' }}>\n              Looker User Object\n            </Typography>\n          </Grid>\n          <Grid item sm={1}\n            style={{ textAlign: 'right' }}\n          >\n            <CloseIcon style={{ color: 'white', cursor: 'pointer' }} onClick={() => setCodeShow()} />\n          </Grid>\n\n          <Grid item sm={12}>\n            <CodeSnippet code={lookerUser} />\n          </Grid>\n        </Grid> : ''\n      }\n    </Fade >\n    // </ClickAwayListener >\n  )\n}\n\nfunction CodeSnippet(props) {\n  // console.log('CodeSnippet');\n  // console.log('props', props);\n  const { code } = props\n  return (\n    <SyntaxHighlighter language=\"json\" style={dracula} showLineNumbers={true} >\n      {typeof code === \"object\" ? JSON.stringify(code, true, 4) : code}\n    </SyntaxHighlighter>)\n}","export default \"import _ from 'lodash'\\nimport React, { useState, useEffect, useContext } from 'react';\\nimport { Box, Grid, CircularProgress, Card } from '@material-ui/core'\\nimport CodeFlyout from '../CodeFlyout';\\nimport rawSampleCode from '!!raw-loader!./SplashPage.js'; // eslint-disable-line import/no-webpack-loader-syntax\\nimport useStyles from './styles.js';\\nimport { SingleValueVis } from './SingleValueVis';\\nimport { Welcome } from './Welcome';\\nimport { PopularAnalysis } from './PopularAnalysis';\\nimport AppContext from '../../../contexts/AppContext';\\nimport { EmbeddedQuery } from './EmbeddedQuery';\\nconst { validIdHelper } = require('../../../tools');\\n\\n//start of SplashPage Component\\nexport default function SplashPage(props) {\\n  // console.log('SplashPage')\\n  //intialize state using hooks\\n\\n  const topBarBottomBarHeight = 112;\\n  const [value, setValue] = useState(0);\\n  const [iFrameExists, setIFrame] = useState(1);\\n  const [clientSideCode, setClientSideCode] = useState('');\\n  const [serverSideCode, setServerSideCode] = useState('');\\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\\n\\n  const { clientSession, highlightShow, codeShow } = useContext(AppContext)\\n  const { userProfile, lookerUser, lookerHost } = clientSession\\n\\n\\n\\n  //declare constants\\n  const classes = useStyles();\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type },\\n    handleTabChange,\\n  } = props;\\n  const codeTab = {\\n    type: 'code flyout', label: 'Code', id: 'codeFlyout',\\n    lookerContent, lookerUser, clientSideCode, serverSideCode\\n  }\\n  const demoComponentType = type || 'code flyout';\\n\\n  //handle tab change\\n  const handleChange = (event, newValue) => {\\n    handleTabChange(0);\\n    setValue(newValue);\\n  };\\n\\n  /**\\n   * listen for lookerContent and call \\n   * setSampleCode\\n  */\\n  useEffect(() => {\\n    window.addEventListener(\\\"resize\\\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\\n  }, [lookerContent]);\\n\\n  /**\\n   * What this return  does:\\n   * Rendering of actual html elements,\\n   * this section is necessary but less relevant to looker functionality itself\\n   */\\n\\n  // console.log({ staticContent })\\n  // console.log({ lookerContent })\\n  return (\\n    <div className={`${classes.root} demoComponent`}\\n      style={{ height }}>\\n      <Card elevation={1} className={`${classes.padding30} \\n      ${classes.height100Percent}\\n      ${classes.overflowScroll}`}\\n      >\\n        <Grid container\\n          key={validIdHelper(type)}>\\n          <div className={classes.root}>\\n            {iFrameExists ? '' :\\n              <Grid item sm={12} >\\n                <Card className={`${classes.card} ${classes.flexCentered}`}>\\n                  <CircularProgress className={classes.circularProgress} />\\n                </Card>\\n              </Grid>\\n            }\\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\\n              <Grid container\\n                spacing={3}\\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}\\n                className={`${classes.noContainerScroll}`}\\n              >\\n                {\\n                  codeShow ? <Grid item sm={6}\\n                    className={`${classes.positionFixedTopRight}`}\\n                  >\\n                    <CodeFlyout {...props}\\n                      classes={classes}\\n                      lookerUser={lookerUser}\\n                      height={height}\\n                    />\\n                  </Grid> : ''}\\n                {lookerContent.map((lookerContent, innerIndex) => {\\n                  return (\\n                    <Grid\\n                      key={`${validIdHelper(demoComponentType + '-innerFragment-' + innerIndex)}`}\\n                      item\\n                      sm={parseInt(lookerContent.gridWidth)}\\n                    >\\n                      {(lookerContent.type === 'welcome') && <Welcome\\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\\n                      />}\\n                      {(lookerContent.type === 'single value') && <SingleValueVis\\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\\n                      />}\\n                      {(lookerContent.type === 'dashboard') && <EmbeddedQuery\\n                        {...{ lookerContent, classes, lookerHost }} id={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent.id}`)}\\n                      />}\\n                      {(lookerContent.type === 'popular analysis') && <PopularAnalysis\\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\\n                      />}\\n                    </Grid>\\n                  )\\n                })}\\n              </Grid>\\n            </Box >\\n          </div >\\n        </Grid >\\n      </Card >\\n    </div >\\n  )\\n}\";","import { makeStyles } from '@material-ui/core/styles';\nimport { red, green } from '@material-ui/core/colors';\nconst redPrimary = red[500];\nconst greenPrimary = green[500];\nconst redDark = red[900];\nconst greenDark = green[900];\nconst redLight = red[100];\nconst greenLight = green[100];\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    overflow: 'scroll',\n    borderRadius: 8\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  card: {\n    minWidth: 275,\n  },\n  maxHeight200: {\n    maxHeight: 200,\n    height: 200,\n    overflow: 'hidden'\n  },\n  mt30: {\n    marginTop: 30\n  },\n  mb30: {\n    marginBottom: 30\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  cursorPointer: {\n    cursor: 'pointer'\n  },\n  border: {\n    border: '1px solid black'\n  },\n  height800: {\n    height: 800\n  },\n  maxHeight100: {\n    maxHeight: 100,\n    height: 100,\n  },\n  maxHeight400: {\n    maxHeight: 400,\n    height: 400,\n  },\n  minHeight200: {\n    minHeight: 200,\n    overflow: 'scroll'\n  },\n  redNeg: {\n    backgroundColor: redLight,\n    color: redPrimary,\n    fontWeight: 800\n  },\n  greenPos: {\n    backgroundColor: greenLight,\n    color: greenPrimary,\n    fontWeight: 800\n  },\n  padding30: {\n    padding: 30\n  },\n  mb12: {\n    marginBottom: 12\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  overflowHidden: {\n    overflow: 'hidden'\n  },\n  overflowVisible: {\n    overflow: 'visible'\n  },\n  maxHeight150: {\n    maxHeight: 150,\n    height: 150,\n  },\n  minHeight150: {\n    minHeight: 150,\n    overflow: 'scroll'\n  },\n  carouselLegend: {\n    backgroundColor: 'rgb(192,192,192, .5)\t !important',\n    textAlign: 'center !important',\n    opacity: `100 !important`,\n    fontWeight: 800,\n    // width: `${25}% !important`,\n  },\n  carouselLegendTitle: {\n    fontSize: '24px !important',\n\n  },\n  carouselLegendBody: {\n    fontSize: '16px !important',\n\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  padding15: {\n    padding: 15\n  },\n  maxHeight75: {\n    maxHeight: 75,\n    height: 75,\n  },\n  overflowYScroll: {\n    overflowY: 'scroll',\n    overflowX: 'hidden'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  padding20: {\n    padding: 20\n  },\n  positionFixedTopRight: {\n    position: 'fixed',\n    top: 88,\n    right: 24,\n    bottom: 0,\n    zIndex: 100,\n  },\n  codeFlyoutContainer: {\n    backgroundColor: 'rgb(40, 42, 54)',\n    overflow: 'scroll',\n    borderRadius: '0 8px 8px 0'\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  overflowHidden: {\n    overflow: 'hidden'\n  },\n  height100Percent: {\n    height: '100%'\n  },\n  noContainerScroll: {\n    width: '100%',\n    margin: 0\n  },\n  lookerCardShadow: {\n    border: 'none',\n    borderRadius: '6px',\n    boxShadow: 'rgba(0, 0, 0, 0.11) 0px 2px 12px, rgba(0, 0, 0, 0.04) 0px 1px 4px'\n  },\n  maxHeight60: {\n    maxHeight: 60,\n    height: 60,\n  },\n  maxHeight350: {\n    maxHeight: 350,\n    height: 350,\n  },\n  maxHeight80Percent: {\n    maxHeight: '80%',\n    height: '80%'\n  }\n}));","import React, { useContext } from 'react';\nimport AppContext from '../../contexts/AppContext';\nimport { Chip } from '@material-ui/core';\n\n\n// maybe move this to config?\nexport const API_COLOR = '#A142F4'\nexport const API_BACKGROUND_COLOR = 'rgba(161, 66, 244, 0.1)'\nexport const EMBED_COLOR = '#12B5CB'\nexport const EMBED_BACKGROUND_COLOR = 'rgba(18, 181, 203, 0.1)'\nexport const EMBED_METHOD_COLOR = '#297AF4'\nexport const EMBED_METHOD_BACKGROUND_COLOR = 'rgba(41, 122, 244, 0.1)'\n\nfunction Highlight({ children, color, height, width, margin, id, backgroundColor, ...props }) {\n  // console.log('Highlight')\n  // console.log('props', props)\n  const { highlightShow } = useContext(AppContext)\n  var style = {};\n  if (highlightShow) {\n    style = {\n      ...style,\n      border: `3px solid ${color}`,\n      backgroundColor: `${backgroundColor}`,\n      borderRadius: `4px`,\n      position: 'relative',\n    }\n  } else {\n    style = {\n      border: `3px solid transparent`,\n      backgroundColor: `transparent`,\n    }\n  }\n\n  if (height) { style['height'] = height }\n  if (width) { style['width'] = width }\n  if (margin) { style['margin'] = margin }\n\n\n  return (\n    <div id={id} style={style}\n    // {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport function ApiHighlight({ ...props }) {\n  const { highlightShow } = useContext(AppContext)\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={API_COLOR} backgroundColor={API_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"API\"}\n      className={highlightShow ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{ backgroundColor: \"#A142F4\", color: '#fff', top: '-10px', left: '-10px', position: 'absolute' }}\n    />\n    {children}\n\n  </Highlight>\n}\n\nexport function EmbedHighlight({ ...props }) {\n  const { highlightShow } = useContext(AppContext)\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={EMBED_COLOR} backgroundColor={EMBED_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"Embed\"}\n      className={highlightShow ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{\n        backgroundColor: \"#12B5CB\",\n        color: '#fff',\n        top: '-10px',\n        left: '-10px',\n        position: 'absolute',\n      }}\n    />\n    {children}\n\n  </Highlight>\n}\n\nexport function EmbedMethodHighlight({ ...props }) {\n  const { highlightShow } = useContext(AppContext)\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={EMBED_METHOD_COLOR} backgroundColor={EMBED_METHOD_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"Embed Method\"}\n      className={highlightShow ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{\n        backgroundColor: \"#297AF4\",\n        color: '#fff',\n        top: '-10px',\n        left: '-10px',\n        position: 'absolute'\n      }}\n    />\n    {children}\n\n  </Highlight>\n}\n","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\nimport AppContext from '../../../contexts/AppContext';\nimport { ApiHighlight } from '../../Highlights/Highlight';\nimport { Typography, Card, CardActionArea, CardActions, CardContent, CardMedia, Button, CircularProgress, Grid, Chip } from '@material-ui/core';\nimport { ResponsiveLine } from '@nivo/line';\nconst { validIdHelper, decodeHtml } = require('../../../tools');\n\nexport function SingleValueVis({ lookerContent, classes }) {\n  // console.log('SingleValueVis')\n  // console.log({ lookerContent })\n\n  const [apiContent, setApiContent] = useState(undefined);\n  const { clientSession, sdk, corsApiCall, isReady } = useContext(AppContext)\n  const { userProfile, lookerUser } = clientSession;\n\n  let dataObjForSparkline = {}\n\n  useEffect(() => {\n    if (isReady) {\n      let isSubscribed = true\n      corsApiCall(runInlineQuery).then(response => {\n        // console.log({ response })\n        if (isSubscribed) {\n          setApiContent(response)\n        }\n      })\n      return () => isSubscribed = false\n    }\n  }, [lookerUser, isReady])\n\n  const runInlineQuery = async () => {\n\n    // setApiContent(undefined)\n    let { inlineQuery } = lookerContent;\n    let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: lookerContent.resultFormat || 'json', body: inlineQuery }));\n    // console.log({ lookerResponseData })\n    dataObjForSparkline.id = validIdHelper(`singleVisValue-${lookerContent.id}`);\n    dataObjForSparkline.data = [];\n\n    let dataArrForDataObj = [];\n    lookerResponseData.map(item => {\n      if (item[lookerContent.inlineQuery.fields[0]]\n        // && item['order_items.count']['order_items.previous_period'][\"This Period\" ? \"This Period\" : \"Previous Period\"]\n      ) {\n        let thisDataItem = {\n          \"x\": item[lookerContent.inlineQuery.fields[0]].toString(),\n          \"y\": item[lookerContent.inlineQuery.fields[1]] || 0,\n          \"change\": item.change\n        }\n        if (thisDataItem && thisDataItem.y !== \"null\") dataArrForDataObj.push(thisDataItem)\n      }\n    })\n    dataObjForSparkline.data = [...dataArrForDataObj]\n    //setApiContent([dataObjForSparkline])\n    return [dataObjForSparkline]\n  }\n\n  const upOrDownArrow = apiContent && apiContent.length ? isNaN((apiContent[0].data[0].change * 100).toFixed(2)) ? '' : parseInt((apiContent[0].data[0].change * 100).toFixed(0)) >= 0 ? `&uarr;` : `&darr;` : '';\n  const labelText = !apiContent ? '' : lookerContent.chipFormat === \"revenue\" ?\n    `$${(apiContent[0].data && apiContent[0].data[0] ? apiContent[0].data[0].y.toFixed(2) : '').replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}` :\n    lookerContent.chipFormat === \"integer\" ? parseInt(apiContent[0].data && apiContent[0].data[0] ? apiContent[0].data[0].y.toFixed(2) : '') : lookerContent.chipFormat === 'percent' ?\n      `${((apiContent[0].data && apiContent[0].data[0] ? apiContent[0].data[0].y.toFixed(2) : '') * 100)\n      }% `\n      : '';\n  return (\n    <Card className={`${classes.padding15} \n    ${classes.overflowHidden} \n    ${classes.lookerCardShadow}\n    `}\n    >\n      <div\n        style={{\n          height: lookerContent.height,\n        }}\n      >\n        {apiContent ?\n          <React.Fragment>\n            <ApiHighlight height={130} classes={classes} >\n              <Grid container className={`${classes.textCenter} `}>\n                <Grid item sm={12}>\n                  <Typography variant=\"body2\" align=\"left\" color=\"secondary\">\n                    {lookerContent.label}\n                  </Typography>\n                </Grid>\n                <Grid item sm={6}>\n                  <Typography variant=\"subtitle1\" align=\"left\">\n                    <b>{labelText}</b>\n                  </Typography>\n                </Grid>\n                <Grid item sm={6}>\n                  <Chip size=\"small\"\n                    label={`${decodeHtml(upOrDownArrow)} ${parseInt(apiContent[0].data[0].change * 100).toFixed(0)}% `}\n                    className={isNaN((apiContent[0].data[0].change * 100).toFixed(2)) ? '' : parseInt((apiContent[0].data[0].change * 100).toFixed(0)) >= 0 ? classes.greenPos : classes.redNeg}\n                    display=\"inline\"\n                    align=\"right\"\n                  />\n                </Grid>\n              </Grid>\n              <ResponsiveLine\n                data={apiContent}\n                margin={{ top: 25, right: 25, bottom: 25, left: 25 }}\n                xScale={{\n                  type: 'time',\n                  format: '%Y-%m-%d',\n                  precision: 'day',\n                }}\n                yScale={{ type: 'linear', min: 'auto', max: 'auto', stacked: true, reverse: false }}\n                axisLeft={{\n                  orient: \"left\",\n                  tickSize: 0,\n                  tickPadding: 5,\n                  tickRotation: 0,\n                  format: () => null\n                }}\n                axisBottom={{\n                  orient: \"bottom\",\n                  tickSize: 0,\n                  tickPadding: 5,\n                  tickRotation: 0,\n                  format: () => null,\n                  // legend: lookerContent.label,\n                  // legendOffset: 15,\n                  // legendPosition: 'middle'\n                }}\n                enablePoints={false}\n                enableGridX={false}\n                enableGridY={false}\n                height={100}\n                colors={lookerContent.visColor}\n                animate={true}\n              />\n            </ApiHighlight>\n          </React.Fragment>\n          :\n          <Grid item sm={12} className={`${classes.flexCentered} `} style={{ height: lookerContent.height }}>\n            <CircularProgress className={classes.circularProgress}\n              style={{ color: `${lookerContent.visColor} ` }} />\n          </Grid>\n        }\n      </div >\n    </Card >\n  );\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport AppContext from '../../../contexts/AppContext';\nimport { ApiHighlight } from '../../Highlights/Highlight'; //ooops\nimport { Typography, Grid, Chip } from '@material-ui/core';\nconst { validIdHelper, decodeHtml } = require('../../../tools');\n\nexport function NaturalLanguage({ lookerContent, inlineQuery, index, classes }) {\n\n  const [apiContent, setApiContent] = useState(undefined);\n  const { clientSession, sdk, corsApiCall, isReady } = useContext(AppContext);\n  const { userProfile, lookerUser } = clientSession;\n\n  useEffect(() => {\n    if (isReady) {\n      let isSubscribed = true\n      corsApiCall(runInlineQuery).then(response => {\n        if (isSubscribed) {\n          setApiContent(response)\n        }\n      })\n      return () => isSubscribed = false\n    }\n  }, [lookerUser, isReady])\n\n  const runInlineQuery = async () => {\n    // setApiContent(undefined)\n    let clientLookerResponse = await sdk.ok(sdk.run_inline_query({ result_format: lookerContent.resultFormat || 'json', body: inlineQuery }));\n    return clientLookerResponse[0];\n  }\n\n  const upOrDownArrow = apiContent ? apiContent.change > 0 ? `&uarr;` : `&darr;` : '';\n\n  return (\n    <Grid item sm={12}>\n      {apiContent ?\n        <React.Fragment >\n          <ApiHighlight classes={classes} >\n            <Typography variant=\"subtitle1\" display=\"inline\">\n              Your {lookerContent.inlineQueriesMap[index]} category, <b>{apiContent['products.category']}</b>, is {apiContent.change > 0 ? 'up ' : 'down '}\n            </Typography>\n            <Chip size=\"small\"\n              label={`${decodeHtml(upOrDownArrow)} ${parseInt(apiContent.change * 100).toFixed(0)}% `}\n              className={apiContent.change > 0 ? classes.greenPos : classes.redNeg}\n              display=\"inline\"\n            />\n            <Typography variant=\"subtitle1\" display=\"inline\">\n              &nbsp;over the past week.\n        </Typography>\n          </ApiHighlight>\n        </React.Fragment>\n        : <div style={{ height: '56px' }}></div>\n\n        // <Grid item sm={12} >\n        //   <Card className={`${classes.card} ${classes.flexCentered}`}>\n        //     <CircularProgress className={classes.circularProgress}\n        //       style={{ color: `${lookerContent.visColor} ` }} />\n        //   </Card>\n        // </Grid>\n      }\n    </Grid >\n  );\n}\n\n","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\n// import AppContext from '../../../AppContext';\nimport AppContext from '../../../contexts/AppContext';\nimport { Typography, Card, CardActionArea, CardActions, CardContent, CardMedia, Button, CircularProgress, Grid, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { NaturalLanguage } from './NaturalLanguage';\nconst { validIdHelper } = require('../../../tools');\n\nexport function Welcome({ lookerContent, classes }) {\n  // console.log('Welcome')\n  // const { userProfile, lookerUser } = useContext(AppContext)\n  const { clientSession } = useContext(AppContext)\n  const { userProfile, lookerUser } = clientSession\n\n  // console.log({ userProfile })\n  // console.log({ lookerUser })\n\n  useEffect(() => {\n    // setClientSideCode(rawSampleCode)\n  }, [lookerContent, lookerUser]);\n\n  return (\n    <div\n      className={`${classes.overflowScroll} ${classes.padding15}`}\n      style={{ maxHeight: lookerContent.height }}\n    >\n      <Typography variant=\"h4\">Welcome back, {userProfile.givenName}!</Typography>\n      <br />\n      <>\n        {lookerContent.inlineQueries.map((inlineQuery, index) => (\n          <NaturalLanguage\n            key={`${validIdHelper('naturalLanguage-splashPage-' + index)}`}\n            {...{ lookerContent, inlineQuery, index, classes }}\n          />\n        )\n        )}\n      </>\n    </div >\n  );\n}\n","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport AppContext from '../../../contexts/AppContext';\nimport { ApiHighlight } from '../../Highlights/Highlight';\nimport { Typography, Grid, Divider } from '@material-ui/core';\n\nexport function VectorThumbnail({ lookerContent, classes, item, index }) {\n  // console.log('VectorThumbnail')\n\n  const [svg, setSvg] = useState(undefined)\n  // const { userProfile, lookerUser, show, sdk, corsApiCall } = useContext(AppContext);\n  const { clientSession, sdk, corsApiCall, isReady } = useContext(AppContext)\n  const { userProfile, lookerUser } = clientSession;\n\n  useEffect(() => {\n    let isSubscribed = true\n    if (isReady) {\n      corsApiCall(getThumbnail).then(response => {\n        // console.log({ response })\n        if (isSubscribed) {\n          setSvg(response)\n        }\n      })\n    }\n    return () => isSubscribed = false\n  }, [lookerUser, isReady])\n\n  const getThumbnail = async () => {\n    let clientLookerResponse = await sdk.ok(sdk.content_thumbnail({ type: item.resourceType, resource_id: item.id }));\n    const blob = new Blob([clientLookerResponse], { type: 'image/svg+xml' });\n    let url = URL.createObjectURL(blob);\n    return url;\n  }\n\n  return (\n    <Grid container\n      className={`${classes.cursorPointer}`}\n      spacing={3}\n      component={Link}\n      to={item.url}\n    >\n      {svg ?\n        <>\n          <Grid item sm={1} />\n          <Grid item sm={6}>\n            <ApiHighlight classes={classes}>\n              <div\n                className={` ${classes.maxHeight60} ${classes.textCenter} ${classes.cursorPointer} ${classes.overflowHidden}`}\n              >\n                <img\n                  src={svg}\n                  style={{ width: '100%' }}\n                />\n\n              </div>\n            </ApiHighlight>\n          </Grid>\n          <Grid item sm={4}>\n            <Typography variant=\"subtitle1\"  >{item.label}</Typography>\n          </Grid>\n          {index < 2 ?\n            <Grid item sm={12}>\n              <Divider className={`${classes.divider} ${classes.mb12} ${classes.mt12}`} />\n            </Grid> : ''}\n        </>\n        :\n        ''\n      }\n    </Grid >\n  );\n}","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\n// import AppContext from '../../../AppContext';\n// import { ApiHighlight } from '../../Highlights/Highlight';\nimport { Typography, Card, CardActionArea, CardActions, CardContent, CardMedia, Button, CircularProgress, Grid, Divider } from '@material-ui/core';\n// import { makeStyles } from '@material-ui/core/styles';\n// import { ResponsiveLine } from '@nivo/line';\nimport { VectorThumbnail } from './VectorThumbnail';\n// import { NaturalLanguage } from './NaturalLanguage';\nconst { validIdHelper } = require('../../../tools');\n\n\n\nexport function PopularAnalysis({ lookerContent, classes }) {\n  const [apiContent, setApiContent] = useState([]);\n\n  return (\n\n    <Card className={`${classes.padding15} \n    ${classes.overflowHidden} \n    ${classes.lookerCardShadow}\n    `}\n    // variant=\"outlined\"\n    >\n      <div\n        className={`${classes.overflowYScroll}`}\n        style={{ height: lookerContent.height }}\n      >\n        <Grid container\n          spacing={3}>\n          <Grid item sm={12}>\n            <Typography variant=\"h6\" align=\"center\" color=\"secondary\">\n              Helpful Dashboards\n          </Typography></Grid>\n          {lookerContent.vectors.map((item, index) => {\n            return (\n              <VectorThumbnail\n                key={`${validIdHelper('vectorThumbnail-splashPage-' + index)}`}\n                {...{ lookerContent, item, classes, index }}\n              />\n            )\n          }\n          )}\n        </Grid>\n\n      </div >\n    </Card>\n  );\n}\n","import $ from 'jquery';\nimport React, { useEffect, useRef, useCallback, useState, useContext } from 'react';\n// import AppContext from '../../../AppContext';\nimport AppContext from '../../../contexts/AppContext';\n\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport { ApiHighlight, EmbedHighlight } from '../../Highlights/Highlight';\nimport { Typography, Grid, Card, CircularProgress, Box, Chip } from '@material-ui/core';\nimport { urlencoded } from 'body-parser';\n\nexport function EmbeddedQuery({ lookerContent, classes, id }) {\n\n  const [iFrameExists, setIFrame] = useState(0);\n  // const { userProfile, lookerUser, show, lookerHost } = useContext(AppContext)\n  const { clientSession, show, sdk, corsApiCall, isReady } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession;\n\n  const [apiContent, setApiContent] = useState(undefined);\n\n  useEffect(() => {\n    if (isReady) {\n      fetchData()\n    }\n  }, [lookerUser, isReady])\n\n  const fetchData = async () => {\n    $(`#${id}`).html('')\n    setIFrame(0)\n\n    let queryUrl = encodeURIComponent(`embed/query/atom_fashion/order_items?fields=order_items.created_time,users.name,order_items.total_sale_price,users.approx_location,users.city&f[users.country]=USA&sorts=order_items.created_time+desc&limit=100&query_timezone=America%2FLos_Angeles&vis=%7B%22map_plot_mode%22%3A%22points%22%2C%22heatmap_gridlines%22%3Afalse%2C%22heatmap_gridlines_empty%22%3Afalse%2C%22heatmap_opacity%22%3A0.5%2C%22show_region_field%22%3Atrue%2C%22draw_map_labels_above_data%22%3Atrue%2C%22map_tile_provider%22%3A%22traffic_day%22%2C%22map_position%22%3A%22custom%22%2C%22map_scale_indicator%22%3A%22off%22%2C%22map_pannable%22%3Atrue%2C%22map_zoomable%22%3Atrue%2C%22map_marker_type%22%3A%22circle%22%2C%22map_marker_icon_name%22%3A%22shopping_cart%22%2C%22map_marker_radius_mode%22%3A%22proportional_value%22%2C%22map_marker_units%22%3A%22pixels%22%2C%22map_marker_proportional_scale_type%22%3A%22linear%22%2C%22map_marker_color_mode%22%3A%22fixed%22%2C%22show_view_names%22%3Afalse%2C%22show_legend%22%3Atrue%2C%22quantize_map_value_colors%22%3Afalse%2C%22reverse_map_value_colors%22%3Afalse%2C%22map_latitude%22%3A40.267214274019075%2C%22map_longitude%22%3A-94.70352172851564%2C%22map_zoom%22%3A4%2C%22map_marker_color%22%3A%5B%22%234595EC%22%5D%2C%22series_types%22%3A%7B%7D%2C%22type%22%3A%22looker_map%22%2C%22defaults_version%22%3A1%2C%22hidden_fields%22%3A%5B%22users.name%22%2C%22order_items.created_time%22%5D%7D&filter_config={}&origin=share-expanded&sdk=2&embed_domain=${document.location.origin}`)\n\n    await fetch(`/auth?src=${queryUrl}`)\n      .then(response => response.json())\n      .then(data => {\n        LookerEmbedSDK.createExploreWithUrl(data.url)\n          .appendTo(document.getElementById(id))\n          .withClassName('explore')\n          .withClassName('splashPage')\n          .withClassName(lookerContent.id)\n          .withTheme('atom_fashion')\n          .build()\n          .connect()\n          .then((explore) => {\n            // console.log('then explore', explore)\n            setIFrame(1)\n            // LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\n            LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\n\n          })\n          .catch((error) => {\n            // console.log('catch', error)\n            console.error('Connection error', error)\n          })\n      });\n  }\n\n  return (\n\n    <Card className={`${classes.padding15} \n    // ${classes.overflowHidden} \n    ${classes.lookerCardShadow}\n    `}\n    >\n      <div\n        className={`${classes.overflowHidden}`}\n        style={{ height: lookerContent.height }}\n      >\n        {\n          iFrameExists ? '' :\n\n            <Grid item sm={12} >\n              <Card className={`${classes.card} ${classes.flexCentered} ${classes.maxHeight350} ${classes.overflowHidden}`} elevation={0}>\n                <CircularProgress className={classes.circularProgress}\n                />\n              </Card>\n            </Grid>\n        }\n        <Grid container spacing={4}>\n          <Grid item sm={12}>\n            <EmbedHighlight classes={classes}\n              height={iFrameExists ? 350 : 0}\n            >\n              <Typography variant=\"h6\" align=\"center\" color=\"secondary\">\n                {lookerContent.title}\n              </Typography>\n              <div\n                className={`embedContainer embedContainerNoHeader splashPage ${classes.overflowHidden} ${classes.maxHeight80Percent}`}\n                id={id}\n                key={id}\n              >\n              </div>\n            </EmbedHighlight>\n          </Grid></Grid>\n      </div >\n    </Card >\n  );\n}","import _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Box, Grid, CircularProgress, Card } from '@material-ui/core'\nimport CodeFlyout from '../CodeFlyout';\nimport rawSampleCode from '!!raw-loader!./SplashPage.js'; // eslint-disable-line import/no-webpack-loader-syntax\nimport useStyles from './styles.js';\nimport { SingleValueVis } from './SingleValueVis';\nimport { Welcome } from './Welcome';\nimport { PopularAnalysis } from './PopularAnalysis';\nimport AppContext from '../../../contexts/AppContext';\nimport { EmbeddedQuery } from './EmbeddedQuery';\nconst { validIdHelper } = require('../../../tools');\n\n//start of SplashPage Component\nexport default function SplashPage(props) {\n  // console.log('SplashPage')\n  //intialize state using hooks\n\n  const topBarBottomBarHeight = 112;\n  const [value, setValue] = useState(0);\n  const [iFrameExists, setIFrame] = useState(1);\n  const [clientSideCode, setClientSideCode] = useState('');\n  const [serverSideCode, setServerSideCode] = useState('');\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n\n  const { clientSession, highlightShow, codeShow } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession\n\n\n\n  //declare constants\n  const classes = useStyles();\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type },\n    handleTabChange,\n  } = props;\n  const codeTab = {\n    type: 'code flyout', label: 'Code', id: 'codeFlyout',\n    lookerContent, lookerUser, clientSideCode, serverSideCode\n  }\n  const demoComponentType = type || 'code flyout';\n\n  //handle tab change\n  const handleChange = (event, newValue) => {\n    handleTabChange(0);\n    setValue(newValue);\n  };\n\n  /**\n   * listen for lookerContent and call \n   * setSampleCode\n  */\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n  }, [lookerContent]);\n\n  /**\n   * What this return  does:\n   * Rendering of actual html elements,\n   * this section is necessary but less relevant to looker functionality itself\n   */\n\n  // console.log({ staticContent })\n  // console.log({ lookerContent })\n  return (\n    <div className={`${classes.root} demoComponent`}\n      style={{ height }}>\n      <Card elevation={1} className={`${classes.padding30} \n      ${classes.height100Percent}\n      ${classes.overflowScroll}`}\n      >\n        <Grid container\n          key={validIdHelper(type)}>\n          <div className={classes.root}>\n            {iFrameExists ? '' :\n              <Grid item sm={12} >\n                <Card className={`${classes.card} ${classes.flexCentered}`}>\n                  <CircularProgress className={classes.circularProgress} />\n                </Card>\n              </Grid>\n            }\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\n              <Grid container\n                spacing={3}\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}\n                className={`${classes.noContainerScroll}`}\n              >\n                {\n                  codeShow ? <Grid item sm={6}\n                    className={`${classes.positionFixedTopRight}`}\n                  >\n                    <CodeFlyout {...props}\n                      classes={classes}\n                      lookerUser={lookerUser}\n                      height={height}\n                    />\n                  </Grid> : ''}\n                {lookerContent.map((lookerContent, innerIndex) => {\n                  return (\n                    <Grid\n                      key={`${validIdHelper(demoComponentType + '-innerFragment-' + innerIndex)}`}\n                      item\n                      sm={parseInt(lookerContent.gridWidth)}\n                    >\n                      {(lookerContent.type === 'welcome') && <Welcome\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\n                      />}\n                      {(lookerContent.type === 'single value') && <SingleValueVis\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\n                      />}\n                      {(lookerContent.type === 'dashboard') && <EmbeddedQuery\n                        {...{ lookerContent, classes, lookerHost }} id={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent.id}`)}\n                      />}\n                      {(lookerContent.type === 'popular analysis') && <PopularAnalysis\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\n                      />}\n                    </Grid>\n                  )\n                })}\n              </Grid>\n            </Box >\n          </div >\n        </Grid >\n      </Card >\n    </div >\n  )\n}","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    // backgroundColor: theme.palette.background.paper ? theme.palette.background.paper : '',\n    overflow: 'scroll',\n    borderRadius: '8px'\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    // position: 'absolute', //hack for obscuring other elements within Box\n    // zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  card: {\n    minWidth: 275,\n    // minHeight: 400,\n  },\n  padding30: {\n    padding: 30\n  },\n  minHeight680: {\n    minHeight: 680,\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  skeleton: {\n    height: '100%', //changed from 160\n    width: '100%'\n  },\n  height100Percent: {\n    height: '100%'\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  padding20: {\n    padding: 20\n  },\n  positionFixedTopRight: {\n    position: 'fixed',\n    top: 88,\n    right: 24,\n    bottom: 0,\n    zIndex: 100,\n  },\n  codeFlyoutContainer: {\n    backgroundColor: 'rgb(40, 42, 54)',\n    overflow: 'scroll',\n    borderRadius: '0 8px 8px 0'\n  },\n  padding10: {\n    padding: 10\n  },\n  noContainerScroll: {\n    width: '100%',\n    margin: 0\n  },\n  verticalAlignTop: {\n    verticalAlign: 'top'\n  },\n  w33: {\n    width: \"33%\"\n  },\n  mr12: {\n    marginRight: 12\n  },\n  dot: {\n    height: \"25px\",\n    width: \"25px\",\n    borderRadius: \"50%\",\n    display: \"inline-block\"\n  },\n  borderRadius0: { borderRadius: 0 }\n}));\n","import React from 'react';\nimport { TextField } from '@material-ui/core';\n\nexport function NumberToColoredPercent( {val, positive_good, abs_val}) {\n  const colors = {\n    up: (positive_good) ? 'green' : 'red',\n    down: (positive_good) ? 'red' : 'green'\n  }\n  const color = (val<0) ? colors.down : (val>0) ? colors.up : 'black'\n  const val_formatted = Math.abs(val).toLocaleString(\"en\", { style: \"percent\", minimumFractionDigits: 2 })\n  const icon = (val<0) ? '' : (val>0) ? '' : ''\n  \n  return (<>\n      <font\n        color={color}\n      >\n        {`${icon} ${val_formatted}`}\n      </font>\n  </>\n  )\n}","import React from 'react';\nimport { Typography, Grid, TextField } from '@material-ui/core'\nimport { ApiHighlight } from '../../Highlights/Highlight';\nimport { NumberToColoredPercent } from '../../Accessories/NumberToColoredPercent';\nimport { Autocomplete } from '@material-ui/lab'\n\nconst { validIdHelper } = require('../../../tools');\n\n\nexport default function AutoComplete({ lookerContent, apiContent, index, classes, customFilterAction, type, horizontalLayout }) {\n  return (\n    <Grid\n      key={validIdHelper(`dashEmbed-${type}${lookerContent.id}-${index}`)}\n      item sm={horizontalLayout ? 3 : 12}>\n      <ApiHighlight classes={classes} >\n        <Typography>\n          {lookerContent[0].filters[index].label}:\n        </Typography>\n        <Autocomplete\n          id={`combo-box-dashboard-${lookerContent.id}`}\n          options={Array.isArray(apiContent) ?\n            apiContent :\n            []}\n          renderOption={(option) => (\n            <Grid container justify=\"space-between\">\n              <Grid item >\n                {option.label}\n              </Grid>\n              {option.trend && <Grid item>\n                <NumberToColoredPercent\n                  val={option.trend}\n                  positive_good={true}\n                  abs_val={Math.abs(option.trend)}\n                />\n              </Grid>}\n            </Grid>\n          )}\n          getOptionLabel={(option) => option.label}\n          onChange={(event, newValue) => {\n            customFilterAction(lookerContent[0].id,\n              lookerContent[0].filters[index].filterName,\n              (newValue) ? newValue.label : '')\n          }}\n          renderInput={(params) => <TextField {...params}\n            label={lookerContent[0].filters[index].filterName}\n            variant=\"outlined\"\n          />}\n          loadingText=\"Loading...\"\n        />\n      </ApiHighlight>\n    </Grid>\n  )\n}\n","import { CheckboxSVGMap } from \"react-svg-map\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport _ from 'lodash'\n\nCheckboxSVGMap.prototype.toggleLocation = function toggleLocation(event) {\n  const location = event.target;\n  // console.log('location', location)\n  // console.log('this.props.map', this.props.map)\n\n  this.setState(prevState => {\n\n    // Copy old state\n    let selectedLocations = [...prevState.selectedLocations];\n    // console.log('selectedLocations', selectedLocations)\n    // console.log('selectedLocations.length', selectedLocations.length)\n\n    //get region associated with states\n    let regionFromStateClicked = _.find(this.props.map.locations, { id: location.id })\n    //all states belonging to region clicked\n    let statesWithinRegionClicked = _.filter(this.props.map.locations, { region: regionFromStateClicked.region })\n\n    //get all unique regions\n    let allUniqueRegions = [];\n    for (let i = 0; i < this.props.map.locations.length; i++) {\n      if (allUniqueRegions.indexOf(this.props.map.locations[i].region) == -1) {\n        allUniqueRegions.push(this.props.map.locations[i].region)\n      }\n    }\n    //get unique regions only from selected locations\n    let allUniqueRegionsFromSelectedLocations = [];\n    for (let j = 0; j < selectedLocations.length; j++) {\n      if (allUniqueRegionsFromSelectedLocations.indexOf(selectedLocations[j].region) == -1) {\n        allUniqueRegionsFromSelectedLocations.push(selectedLocations[j].region)\n      }\n    }\n    //determine which regions are not currently selected\n    let regionsNotCurrentlySelected = _.differenceBy(allUniqueRegions, allUniqueRegionsFromSelectedLocations);\n    let allRegionsNotSelected = [...regionsNotCurrentlySelected, regionFromStateClicked.region];\n    //filter all locations, for all the regions that have not been selected :D\n    let statesNotWithinRegionsClicked = _.filter(this.props.map.locations, (location) => {\n      return allRegionsNotSelected.indexOf(location.region) == -1\n    });\n\n    if (location.attributes['aria-checked'].value === 'true') {\n      // Delete location\n      selectedLocations = statesNotWithinRegionsClicked;\n    } else {\n      // Add location\n      selectedLocations.push(...statesWithinRegionClicked);\n    }\n\n    // Call onChange event handler\n    if (this.props.onChange) {\n      this.props.onChange(selectedLocations);\n    }\n\n    // Return new state\n    return { selectedLocations };\n  });\n}\n\nCheckboxSVGMap.prototype.componentDidMount = function componentDidMount() {\n  //override components for all states to be selected initially\n  this.setState({ selectedLocations: this.props.map.locations });\n}\n\nexport { CheckboxSVGMap as CheckboxSVGMap } \n","import Usa from \"@svg-maps/usa\";\nimport {\n  SentimentDissatisfied, SentimentSatisfied, SentimentVerySatisfied,\n} from '@material-ui/icons';\n\nexport const customUsa = {\n  ...Usa,\n  label: \"Custom map label\",\n  locations: Usa.locations.map(location => {\n    // Modify each location\n    switch (location.name) {\n      //9\n      case \"Connecticut\":\n      case \"Maine\":\n      case \"Massachusetts\":\n      case \"New Hampshire\":\n      case \"Rhode Island\":\n      case \"Vermont\":\n      case \"New Jersey\":\n      case \"New York\":\n      case \"Pennsylvania\":\n      case \"Delaware\":\n        return { ...location, region: \"Northeast\" }\n      //12\n      case \"Illinois\":\n      case \"Indiana\":\n      case \"Michigan\":\n      case \"Ohio\":\n      case \"Wisconsin\":\n      case \"Iowa\":\n      case \"Kansas\":\n      case \"Minnesota\":\n      case \"Missouri\":\n      case \"Nebraska\":\n      case \"North Dakota\":\n      case \"South Dakota\":\n        return { ...location, region: \"Midwest\" }\n      //16\n      case \"Florida\":\n      case \"Georgia\":\n      case \"Maryland\":\n      case \"North Carolina\":\n      case \"South Carolina\":\n      case \"Virginia\":\n      case \"District of Columbia\":\n      case \"Washington, DC\":\n      case \"West Virginia\":\n      case \"Alabama\":\n      case \"Kentucky\":\n      case \"Mississippi\":\n      case \"Tennessee\":\n      case \"Arkansas\":\n      case \"Louisiana\":\n      case \"Oklahoma\":\n      case \"Texas\":\n        return { ...location, region: \"South\" }\n      //8\n      case \"Arizona\":\n      case \"Colorado\":\n      case \"Idaho\":\n      case \"Montana\":\n      case \"Nevada\":\n      case \"New Mexico\":\n      case \"Utah\":\n      case \"Wyoming\":\n        return { ...location, region: \"Mountain\" }\n      //5\n      case \"Alaska\":\n      case \"California\":\n      case \"Hawaii\":\n      case \"Oregon\":\n      case \"Washington\":\n        return { ...location, region: \"Pacific\" }\n      // default:\n      //   return location\n    }\n  })\n}\nexport const lifetimeRevenueTierMap = {\n  \"0 to 99\": \"low\",\n  \"100 to 499\": \"medium\",\n  \"500 or Above\": \"high\",\n}\nexport const lifetimeRevenueTierIconMap = {\n  \"0 to 99\": SentimentDissatisfied,\n  \"100 to 499\": SentimentSatisfied,\n  \"500 or Above\": SentimentVerySatisfied,\n}\n","import React, { useState } from 'react';\nimport { Typography, Grid } from '@material-ui/core'\nimport { EmbedMethodHighlight } from '../../Highlights/Highlight';\nimport { CheckboxSVGMap } from \"./CheckboxSvgMapRegion\";\nimport { customUsa } from './helpers';\nconst { validIdHelper } = require('../../../tools');\n\nexport default function MapFilter({ lookerContent, apiContent, index, classes, customFilterAction, type, horizontalLayout }) {\n\n  const [regionValue, setRegionValue] = useState('Pacific, South, Mountain, Midwest, Northeast');\n\n  return (\n    <Grid item sm={horizontalLayout ? 3 : 12}>\n      <EmbedMethodHighlight classes={classes}\n        key={validIdHelper(`dashEmbed-${type}${lookerContent.id}-${index}`)} >\n        <Typography className={`${classes.heading} ${classes.ml12}  ${classes.verticalAlignTop}`}\n        >\n          {lookerContent[0].filters[index].label}: <b>{regionValue ? regionValue : \"Outside US\"}</b>\n        </Typography>\n\n        <CheckboxSVGMap map={customUsa}\n          onChange={(locations) => {\n\n            let allUniqueRegionsFromSelectedLocations = [];\n            for (let j = 0; j < locations.length; j++) {\n              if (allUniqueRegionsFromSelectedLocations.indexOf(locations[j].region) == -1) {\n                allUniqueRegionsFromSelectedLocations.push(locations[j].region)\n              }\n            }\n            let allUniqueRegionsFromSelectedLocationsCommaSep = allUniqueRegionsFromSelectedLocations.join(\",\")\n            setRegionValue(allUniqueRegionsFromSelectedLocationsCommaSep)\n            customFilterAction(lookerContent[0].id,\n              lookerContent[0].filters[index].filterName,\n              (regionValue) ? regionValue : '')\n          }}\n        />\n      </EmbedMethodHighlight>\n    </Grid>\n  )\n}\n","import React, { useState } from 'react';\nimport { Typography, Grid, Slider } from '@material-ui/core'\nimport { EmbedMethodHighlight } from '../../Highlights/Highlight';\nconst { validIdHelper } = require('../../../tools');\n\nexport default function RangeSlider({ lookerContent, apiContent, index, classes, customFilterAction, type, horizontalLayout }) {\n\n  const [sliderValue, setSliderValue] = useState([]);\n\n  return (\n    <Grid item sm={horizontalLayout ? 3 : 12}>\n      <EmbedMethodHighlight classes={classes}\n        key={validIdHelper(`dashEmbed-${type}${lookerContent.id}-${index}`)} >\n        <Typography className={`${classes.heading} ${classes.ml12}  ${classes.verticalAlignTop}`}>\n          {lookerContent[0].filters[index].label}:\n        </Typography>\n        <Slider\n          value={sliderValue.length ? sliderValue : Array.isArray(apiContent) ? [apiContent[0].label, apiContent[apiContent.length - 1].label] : []}\n          onChange={(event, newValue) => {\n            setSliderValue(newValue);\n          }}\n          valueLabelDisplay=\"auto\"\n          aria-labelledby=\"range-slider\"\n          onChangeCommitted={(event, newValue) => {\n            customFilterAction(lookerContent[0].id,\n              lookerContent[0].filters[index].filterName,\n              (newValue) ? `[${newValue}]` : '[]')\n          }}\n          min={Array.isArray(apiContent) && apiContent.length ? apiContent[0].label : 0}\n          max={Array.isArray(apiContent) && apiContent.length ? apiContent[apiContent.length - 1].label : 0}\n          marks={Array.isArray(apiContent) && apiContent.length ? [{ value: apiContent[0].label, label: apiContent[0].label }, { value: apiContent[apiContent.length - 1].label, label: apiContent[apiContent.length - 1].label }] : ''}\n          disabled={Array.isArray(apiContent) && apiContent.length ? false : true}\n        />\n      </EmbedMethodHighlight>\n    </Grid>\n  )\n}\n","import _ from 'lodash';\nimport React, { useState } from 'react';\nimport { Typography, Grid } from '@material-ui/core'\nimport { EmbedMethodHighlight } from '../../Highlights/Highlight';\nimport { lifetimeRevenueTierMap, lifetimeRevenueTierIconMap } from './helpers';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nconst { validIdHelper } = require('../../../tools');\n\nexport default function ToggleApi({ lookerContent, apiContent, index, classes, customFilterAction, type, horizontalLayout }) {\n\n  const [lifetimeRevenueTierValue, setLifetimeRevenueTierValue] = useState('0-24');\n  return (\n    <Grid item sm={horizontalLayout ? 3 : 12}>\n      <EmbedMethodHighlight classes={classes}\n        key={validIdHelper(`dashEmbed-${type}${lookerContent.id}-${index}`)} >\n        <Typography className={`${classes.heading} ${classes.ml12}  ${classes.verticalAlignTop}`}\n        >\n          {lookerContent[0].filters[index].label}:\n        </Typography>\n        <ToggleButtonGroup\n          value={lifetimeRevenueTierValue}\n          exclusive //for now\n          onChange={(event, newValue) => {\n            setLifetimeRevenueTierValue(newValue)\n            customFilterAction(lookerContent[0].id,\n              lookerContent[0].filters[index].filterName,\n              (newValue) ? newValue : '')\n          }}\n          aria-label=\"ageTier\"\n          className={classes.w100}>\n          >\n      {Array.isArray(apiContent) ? apiContent.map((ageTier, index) => {\n            if (ageTier.label !== \"Undefined\") {\n              const Icon = lifetimeRevenueTierIconMap[ageTier.label];\n              return (\n                <ToggleButton\n                  key={validIdHelper(`${type}-FilterBar-ToggleButton-${lookerContent[0].id}-${index}`)}\n                  value={ageTier.label}\n                  aria-label={ageTier.label}\n                  className={classes.w33}>\n                  <Icon className={classes.mr12} />\n                  {_.capitalize(lifetimeRevenueTierMap[ageTier.label]) || ageTier.label}\n                </ToggleButton>\n              )\n            }\n          }) : ''}\n        </ToggleButtonGroup>\n\n      </EmbedMethodHighlight>\n    </Grid>\n  )\n}\n","import _ from 'lodash';\nimport React from 'react';\nimport { Typography, Grid } from '@material-ui/core'\nimport { EmbedMethodHighlight } from '../../Highlights/Highlight';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nconst { validIdHelper } = require('../../../tools');\n\n\nexport default function ToggleTile({ lookerContent, classes, type, tileToggleValue, handleTileToggle, horizontalLayout }) {\n  return (\n\n    <Grid item sm={horizontalLayout ? 3 : 12}>\n      <EmbedMethodHighlight classes={classes} >\n        <Typography\n        >\n          Dynamic Tiles:        </Typography>\n        <ToggleButtonGroup\n          value={tileToggleValue}\n          exclusive\n          onChange={handleTileToggle}\n          aria-label=\"text alignment\"\n        >\n          {Object.keys(lookerContent[0].dynamicFieldLookUp).map(key => {\n            return (\n              <ToggleButton\n                key={validIdHelper(`dynamicDashTileToggle-${key}`)}\n                value={key} aria-label=\"left aligned\">\n                {key}\n              </ToggleButton>\n            )\n          })}\n        </ToggleButtonGroup>\n      </EmbedMethodHighlight>\n    </Grid>\n\n  )\n}\n","import _ from 'lodash';\nimport React from 'react';\nimport { Typography, Grid } from '@material-ui/core'\nimport { EmbedMethodHighlight } from '../../Highlights/Highlight';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nconst { validIdHelper } = require('../../../tools');\n\n\nexport default function ToggleVisColor({ lookerContent, classes, type, visColorToggleValue, handleVisColorToggle, horizontalLayout }) {\n  return (\n\n    <Grid item sm={horizontalLayout ? 2 : 12}>\n      <EmbedMethodHighlight classes={classes} >\n        <Typography\n        >Dynamic Vis Color:</Typography>\n        <ToggleButtonGroup\n          value={visColorToggleValue}\n          exclusive\n          onChange={handleVisColorToggle}\n          aria-label=\"text alignment\"\n        >\n          {Object.keys(lookerContent[0].dynamicVisConfig.colors).map(key => {\n            return (\n              <ToggleButton\n                key={validIdHelper(`dynamicDashVisConfigToggle-${key}`)}\n                value={key} aria-label=\"left aligned\">\n                <span className={`${classes.dot}`} style={{\n                  backgroundColor: (lookerContent[0].dynamicVisConfig.colors[key][lookerContent[0].dynamicVisConfig.colors[key].length - 2]\n                    || key)\n                }}></span>\n              </ToggleButton>\n            )\n          })}\n        </ToggleButtonGroup>\n\n      </EmbedMethodHighlight>\n    </Grid>\n  )\n}\n","import React from 'react';\nimport { Typography, Grid, Switch } from '@material-ui/core'\nimport { EmbedMethodHighlight, EmbedHighlight } from '../../Highlights/Highlight';\nconst { validIdHelper } = require('../../../tools');\n\nexport default function SwitchTheme({ lookerContent, classes, type, lightThemeToggleValue, handleThemeChange, horizontalLayout }) {\n  return (\n    <Grid item sm={horizontalLayout ? 1 : 12}>\n      <EmbedHighlight classes={classes} >\n        <Typography\n        >{lightThemeToggleValue ? \"Light mode\" : \"Dark mode\"}</Typography>\n\n        <Switch\n          checked={!lightThemeToggleValue}\n          onChange={() => handleThemeChange(null, !lightThemeToggleValue)}\n          color=\"primary\"\n          name=\"light theme toggle\"\n          inputProps={{ 'aria-label': 'primary checkbox' }}\n        />\n\n      </EmbedHighlight>\n    </Grid>\n  )\n}\n","import React from 'react';\nimport { Grid, FormControl, Select, MenuItem, InputLabel } from '@material-ui/core'\nimport { EmbedHighlight } from '../../Highlights/Highlight';\n\nexport default function SelectFont({ lookerContent, classes, type, fontThemeSelectValue, handleThemeChange, horizontalLayout }) {\n  return (\n    <Grid item sm={horizontalLayout ? 2 : 12}>\n      <EmbedHighlight classes={classes} >\n\n        <FormControl className={classes.formControl}>\n          <InputLabel id=\"demo-simple-select-label\"\n          >Change font</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={fontThemeSelectValue}\n            onChange={(event) => {\n              handleThemeChange(null, event.target.value)\n            }}\n          >\n            <MenuItem value=\"arial\">Arial</MenuItem>\n            <MenuItem value=\"roboto\">Roboto</MenuItem>\n            <MenuItem value=\"vollkorn\">Vollkorn</MenuItem>\n          </Select>\n        </FormControl>\n\n      </EmbedHighlight>\n    </Grid>\n  )\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core'\n\nimport AutoComplete from './AutoComplete'\nimport MapFilter from './MapFilter'\nimport RangeSlider from './RangeSlider'\nimport ToggleApi from './ToggleApi'\nimport ToggleTile from './ToggleTile'\nimport ToggleVisColor from './ToggleVisColor'\nimport SwitchTheme from './SwitchTheme'\nimport SelectFont from './SelectFont'\n\nconst { validIdHelper } = require('../../../tools');\n\nexport default function FilterBarChildren({ classes, apiContent, customFilterAction, tileToggleValue, handleTileToggle, visColorToggleValue,\n  handleVisColorToggle, lightThemeToggleValue, fontThemeSelectValue, handleThemeChange, horizontalLayout, setHorizontalLayout,\n  lookerContent, type }) {\n  return (\n    <Grid\n      container spacing={3}>\n      {lookerContent[0].filterComponents.map((item, index) => {\n        return (\n          lookerContent[0].filterComponents[index] === 'autocomplete' ?\n            <AutoComplete\n              lookerContent={lookerContent}\n              apiContent={apiContent[index]}\n              index={index}\n              classes={classes}\n              customFilterAction={customFilterAction}\n              type={type}\n              horizontalLayout={horizontalLayout}\n              key={validIdHelper(`${type}-${lookerContent[0].filterComponents[index]}-${index}`)}\n            />\n            : lookerContent[0].filterComponents[index] === 'mapfilter' ?\n              <MapFilter\n                lookerContent={lookerContent}\n                apiContent={apiContent[index]}\n                index={index}\n                classes={classes}\n                customFilterAction={customFilterAction}\n                type={type}\n                horizontalLayout={horizontalLayout}\n                key={validIdHelper(`${type}-${lookerContent[0].filterComponents[index]}-${index}`)}\n              />\n              : lookerContent[0].filterComponents[index] === 'rangeslider' ?\n                <RangeSlider\n                  lookerContent={lookerContent}\n                  apiContent={apiContent[index]}\n                  index={index}\n                  classes={classes}\n                  customFilterAction={customFilterAction}\n                  type={type}\n                  horizontalLayout={horizontalLayout}\n                  key={validIdHelper(`${type}-${lookerContent[0].filterComponents[index]}-${index}`)}\n                />\n                : lookerContent[0].filterComponents[index] === 'togglebuttonapi' ?\n                  <ToggleApi\n                    lookerContent={lookerContent}\n                    apiContent={apiContent[index]}\n                    index={index}\n                    classes={classes}\n                    customFilterAction={customFilterAction}\n                    type={type}\n                    horizontalLayout={horizontalLayout}\n                    key={validIdHelper(`${type}-${lookerContent[0].filterComponents[index]}-${index}`)}\n                  />\n\n                  //couldn't get this to work, for now\n                  // : lookerContent[0].filterComponents[index] === 'togglebutton' ?\n\n                  //   // <h1>togglebuttoncomingsoon!</h1>\n\n                  //   <Toggle\n                  //     lookerContent={lookerContent}\n                  //     // apiContent={apiContent[index]}\n                  //     index={index}\n                  //     classes={classes}\n                  //     // customFilterAction={customFilterAction}\n                  //     type={type}\n                  //     value={props[lookerContent[0].filters[index].value]}\n                  //     onChange={props[lookerContent[0].filters[index].onChangeFunctionName]}\n                  //   />\n\n                  :\n                  '')\n      })}\n      {lookerContent[0].dynamicFieldLookUp ?\n        <ToggleTile\n          lookerContent={lookerContent}\n          classes={classes}\n          type={type}\n          tileToggleValue={tileToggleValue}\n          handleTileToggle={handleTileToggle}\n          horizontalLayout={horizontalLayout}\n          key={validIdHelper(`${type}-dynamicFieldLookUp`)}\n        />\n        : ''\n      }\n      {lookerContent[0].dynamicVisConfig ?\n        <ToggleVisColor\n          lookerContent={lookerContent}\n          classes={classes}\n          type={type}\n          visColorToggleValue={visColorToggleValue}\n          handleVisColorToggle={handleVisColorToggle}\n          horizontalLayout={horizontalLayout}\n          key={validIdHelper(`${type}-dynamicVisConfig`)}\n        />\n        : ''\n      }\n      {lookerContent[0].dynamicThemeMode ?\n        <SwitchTheme\n          lookerContent={lookerContent}\n          classes={classes}\n          type={type}\n          lightThemeToggleValue={lightThemeToggleValue}\n          handleThemeChange={handleThemeChange}\n          horizontalLayout={horizontalLayout}\n          key={validIdHelper(`${type}-dynamicThemeMode`)}\n        />\n        : ''\n      }\n      {lookerContent[0].dynamicThemeFont ?\n        <SelectFont\n          lookerContent={lookerContent}\n          classes={classes}\n          type={type}\n          fontThemeSelectValue={fontThemeSelectValue}\n          handleThemeChange={handleThemeChange}\n          horizontalLayout={horizontalLayout}\n          key={validIdHelper(`${type}-dynamicThemeFont`)}\n        />\n        : ''\n      }\n    </Grid>\n  )\n}\n","import _ from 'lodash'\nimport React, { useState, useEffect } from 'react';\nimport { Typography, Grid, Accordion, AccordionSummary, AccordionDetails, Box } from '@material-ui/core'\nimport { ExpandMore, FilterList, VerticalSplit, HorizontalSplit, ChevronLeft, Menu } from '@material-ui/icons';\nimport { Skeleton } from '@material-ui/lab'\nimport FilterBarChildren from './FilterBarChildren'\n\nconst { validIdHelper } = require('../../../tools');\n\nexport default function FilterBar(props) {\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, classes,\n    apiContent, customFilterAction, tileToggleValue, handleTileToggle, visColorToggleValue,\n    handleVisColorToggle, lightThemeToggleValue, fontThemeSelectValue, handleThemeChange,\n    horizontalLayout, setHorizontalLayout, drawerOpen, setDrawerOpen\n  } = props;\n\n\n  const [expanded, setExpanded] = useState(true);\n\n  useEffect(() => {\n    if (!expanded) setExpanded(true)\n  }, [horizontalLayout])\n\n\n  return (\n    <Grid item\n      sm={horizontalLayout ? 12 : drawerOpen ? 3 : 'auto'}\n      key={validIdHelper(`${type}-FilterBar-${lookerContent[0].id}`)}>\n      {apiContent ?\n        <Accordion\n          onChange={horizontalLayout ? () => setExpanded(!expanded) : () => { }}\n          expanded={expanded}\n          className={`${classes.w100} MuiExpansionPanel-root`}\n          elevation={0}\n        >\n          <AccordionSummary\n            expandIcon={horizontalLayout ? <ExpandMore /> : \"\"}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n          >\n            {horizontalLayout ?\n              <VerticalSplit\n                onClick={(e) => {\n                  setHorizontalLayout(!horizontalLayout)\n                }}\n                aria-label=\"vertical view\"\n              />\n              :\n              <>\n                {drawerOpen ?\n                  <>\n                    <ChevronLeft\n                      onClick={() => setDrawerOpen(!drawerOpen)}\n                      aria-label=\"close menu\"\n                    />\n                    <HorizontalSplit\n                      onClick={(e) => {\n                        setExpanded(true)\n                        setHorizontalLayout(!horizontalLayout)\n                      }}\n                      aria-label=\"horizontal view\" />\n                  </> :\n                  <Menu\n                    onClick={() => setDrawerOpen(!drawerOpen)}\n                    aria-label=\"open menu\"\n                  />}\n              </>}\n\n          </AccordionSummary>\n          <Box display={drawerOpen ? \"block\" : \"none\"}>\n            <AccordionDetails >\n              <FilterBarChildren {...props}\n                classes={classes}\n                apiContent={apiContent}\n                customFilterAction={customFilterAction}\n                tileToggleValue={tileToggleValue}\n                handleTileToggle={handleTileToggle}\n                visColorToggleValue={visColorToggleValue}\n                handleVisColorToggle={handleVisColorToggle}\n                lightThemeToggleValue={lightThemeToggleValue}\n                fontThemeSelectValue={fontThemeSelectValue}\n                handleThemeChange={handleThemeChange}\n                horizontalLayout={horizontalLayout}\n                setHorizontalLayout={setHorizontalLayout}\n                lookerContent={lookerContent}\n                type={type}\n              />\n            </AccordionDetails>\n          </Box>\n\n        </Accordion >\n        :\n        <Skeleton variant=\"rect\" animation=\"wave\" className={classes.skeleton} />}\n    </Grid>\n  )\n}\n\n\n","import React from 'react'\nimport { Grid, CircularProgress, Card } from '@material-ui/core'\n\n\nexport function Loader({ classes, height, expansionPanelHeight }) {\n  return (\n    <Grid item sm={12} style={{ height: height - 30 - expansionPanelHeight }}>\n      <Card className={`${classes.card} ${classes.flexCentered}`}\n        elevation={0}\n        mt={2}\n        style={{ height: height - 30 - expansionPanelHeight }}>\n        <CircularProgress className={classes.circularProgress} />\n      </Card>\n    </Grid>\n  )\n}\n","import React from 'react'\nimport { Grid, Box } from '@material-ui/core';\nimport { EmbedHighlight } from '../../Highlights/Highlight'; //ooops\n\nconst { validIdHelper } = require('../../../tools');\n\nexport default function EmbeddedDashboardContainer({ classes, lookerContent, type, width }) {\n  return (\n    <Grid item\n      sm={width}\n    >\n      <Box className={`${classes.w100} ${classes.padding10}`} mt={lookerContent[0].filter || lookerContent[0].dynamicFieldLookUp ? 2 : 0}>\n        <EmbedHighlight classes={classes}>\n          <div\n            className={`embedContainer ${validIdHelper(type)}`}\n            id={validIdHelper(`embedContainer-${type}-${lookerContent[0].id}`)}\n            key={validIdHelper(`embedContainer-${type}-${lookerContent[0].id}`)}\n          >\n          </div>\n        </EmbedHighlight>\n      </Box>\n    </Grid>\n  )\n}\n","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Box, Grid, Card } from '@material-ui/core'\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport CodeFlyout from '../CodeFlyout';\nimport useStyles from './styles.js';\nimport { EmbedHighlight } from '../../Highlights/Highlight'; //ooops\nimport AppContext from '../../../contexts/AppContext';\nimport FilterBar from './FilterBar';\nimport { Loader } from '../../Accessories/Loader';\nimport { VerticalSplit, HorizontalSplit } from '@material-ui/icons';\nimport EmbeddedDashboardContainer from './EmbeddedDashboardContainer';\n\n\n\nconst { validIdHelper } = require('../../../tools');\n\nexport default function Dashboard(props) {\n  // console.log('Dashboard');\n  const { staticContent: { lookerContent }, staticContent: { type } } = props;\n\n  const { clientSession, codeShow, sdk, corsApiCall, atomTheme, isReady, selectedMenuItem } = useContext(AppContext)\n  const { lookerUser, lookerHost } = clientSession;\n\n  const demoComponentType = type || 'code flyout';\n  const topBarBottomBarHeight = 112;\n\n  const [value, setValue] = useState(0);\n  const [iFrameExists, setIFrame] = useState(0);\n  const [apiContent, setApiContent] = useState(undefined);\n  const [dashboardObj, setDashboardObj] = useState({});\n  const [dashboardOptions, setDashboardOptions] = useState({});\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const [tileToggleValue, setTileToggleValue] = useState('');\n  const [visColorToggleValue, setVisColorToggleValue] = useState('#2d4266');\n  const [lightThemeToggleValue, setLightThemeToggleValue] = useState(true);\n  const [fontThemeSelectValue, setFontThemeSelectValue] = useState(\"arial\");\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\n  const [horizontalLayout, setHorizontalLayout] = useState(false);\n  const [drawerOpen, setDrawerOpen] = useState(true);\n\n  const isThemeableDashboard = validIdHelper(`${demoComponentType}${lookerContent[0].id}`) === 'customfilter1';\n  const darkThemeBackgroundColor = \"#343D4E\";\n\n  const classes = useStyles();\n\n  //condtional theming for dark mode :D\n  let paletteToUse = !lightThemeToggleValue && isThemeableDashboard ?\n    {\n      palette: {\n        type: 'dark',\n        background: { paper: darkThemeBackgroundColor, default: darkThemeBackgroundColor },\n      }\n    }\n    :\n    { palette: { ...atomTheme.palette } }\n\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme(\n        paletteToUse\n      ),\n    [lightThemeToggleValue, lookerContent],\n  );\n\n  const handleTileToggle = (event, newValue) => {\n    setTileToggleValue(newValue)\n    const filteredLayout = _.filter(dashboardOptions.layouts[0].dashboard_layout_components, (row) => {\n      return (lookerContent[0].dynamicFieldLookUp[newValue].indexOf(dashboardOptions.elements[row.dashboard_element_id].title) > -1)\n    })\n\n    const newDashboardLayout = {\n      ...dashboardOptions.layouts[0],\n      dashboard_layout_components: filteredLayout\n    }\n    dashboardObj.setOptions({ \"layouts\": [newDashboardLayout] })\n  };\n\n  const handleVisColorToggle = (event, newValue) => {\n\n    // console.log(\"handleVisColorToggle\");\n    // console.log({ isThemeableDashboard })\n\n    let newColorSeries = lookerContent[0].dynamicVisConfig.colors[newValue];\n    // console.log('0000')\n    // console.log({ ...dashboardOptions.elements })\n    let newDashboardElements = { ...dashboardOptions.elements };\n\n    Object.keys(newDashboardElements).map(key => {\n      if (newDashboardElements[key].vis_config.series_colors) {\n        Object.keys(newDashboardElements[key].vis_config.series_colors).map((innerKey, index) => {\n          newDashboardElements[key].vis_config.series_colors[innerKey] = newColorSeries[index] || newColorSeries[0];\n        })\n      }\n      if (newDashboardElements[key].vis_config.custom_color) {\n        newDashboardElements[key].vis_config.custom_color = newColorSeries[newColorSeries.length - 2];\n      }\n      if (newDashboardElements[key].vis_config.map_value_colors) {\n        newDashboardElements[key].vis_config.map_value_colors.map((item, index) => {\n          newDashboardElements[key].vis_config.map_value_colors[index] = newColorSeries[index] || newColorSeries[0];\n        })\n      }\n      // loss some fidelity here\n      if (newDashboardElements[key].vis_config.series_cell_visualizations) {\n        Object.keys(newDashboardElements[key].vis_config.series_cell_visualizations).map((innerKey, index) => {\n          if (newDashboardElements[key].vis_config.series_cell_visualizations[innerKey].hasOwnProperty(\"palette\")) {\n            newDashboardElements[key].vis_config.series_cell_visualizations[innerKey][\"palette\"] = { ...lookerContent[0].dynamicVisConfig.series_cell_visualizations[newValue] }\n          }\n        })\n      }\n      if (newDashboardElements[key].vis_config.header_font_color) {\n        newDashboardElements[key].vis_config.header_font_color = newColorSeries[newColorSeries.length - 2];\n      }\n      if (isThemeableDashboard) {\n        // console.log(\"are we here????\");\n        if (newDashboardElements[key].vis_config.map_tile_provider) {\n          newDashboardElements[key].vis_config.map_tile_provider = lightThemeToggleValue ? \"light\" : \"dark\";\n        }\n\n      }\n    })\n    // console.log('1111')\n    // console.log({ newDashboardElements })\n\n    setVisColorToggleValue(newValue)\n    dashboardObj.setOptions({ \"elements\": { ...newDashboardElements } })\n  };\n\n  const handleThemeChange = (event, newValue) => {\n    let themeName = '';\n    if (typeof newValue === \"boolean\") {//handleModeToggle\n      setLightThemeToggleValue(newValue)\n      themeName = newValue ? `light_${fontThemeSelectValue}` : `dark_${fontThemeSelectValue}`\n    } else { //handleFontToggle\n      themeName = lightThemeToggleValue ? `light_${newValue}` : `dark_${newValue}`\n      setFontThemeSelectValue(newValue)\n    }\n    corsApiCall(performLookerApiCalls, [lookerContent, themeName])\n  }\n\n  useEffect(() => {\n    if (isReady) {\n      let themeName = lightThemeToggleValue ? 'light' : 'dark';\n      themeName += `_${fontThemeSelectValue}`;\n      corsApiCall(performLookerApiCalls, [[...lookerContent], themeName])\n      setApiContent(undefined);\n      setHorizontalLayout(false);\n      setDrawerOpen(true);\n    }\n  }, [lookerUser, isReady, selectedMenuItem])\n\n  useEffect(() => {\n    if (Object.keys(dashboardOptions).length && Object.keys(dashboardObj).length\n      && lookerContent[0].dynamicFieldLookUp) //necessary\n    {\n      handleTileToggle(null, tileToggleValue ? tileToggleValue : \"Inventory\");\n      handleVisColorToggle(null, visColorToggleValue ? visColorToggleValue : '#2d4266');\n    }\n  }, [dashboardOptions]);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n    setExpansionPanelHeight(horizontalLayout ? $('.MuiExpansionPanel-root:visible').innerHeight() || 0 : 0)\n  })\n\n  useEffect(() => {\n    setHeight((window.innerHeight - topBarBottomBarHeight));\n    setExpansionPanelHeight(horizontalLayout ? $('.MuiExpansionPanel-root:visible').innerHeight() || 0 : 0)\n  }, [horizontalLayout])\n\n\n  useEffect(() => {\n    setApiContent(undefined);\n  }, [])\n\n  const performLookerApiCalls = function (lookerContent, dynamicTheme) {\n\n    setIFrame(0)\n    $(`.embedContainer.${validIdHelper(demoComponentType)}:visible`).html('')\n    lookerContent.map(async lookerContent => {\n      //dashboard creation\n      let dashboardId = lookerContent.id;\n      let themeToUse = dynamicTheme && isThemeableDashboard ?\n        dynamicTheme :\n        lookerContent.theme ?\n          lookerContent.theme :\n          'atom_fashion';\n\n      LookerEmbedSDK.createDashboardWithId(dashboardId) //dashboardSlug\n        .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${dashboardId}`))\n        .withClassName('iframe')\n        .withNext()\n        // .withNext(lookerContent.isNext || false) //how can I make this dynamic based on prop??\n        .withTheme(themeToUse)\n        .withParams({ 'schedule_modal': 'true' })\n        .on('page:property:change', (event) => {\n          // console.log('page property is changing!!!!')\n          changeHeight(event)\n        }) // dashboards-next\n        .on('dashboard:loaded', (event) => {\n          setDashboardOptions(event.dashboard.options)\n        })\n        // .on('drillmenu:click', (event) => {\n        //   drillMenuClick(event)\n        // })\n        .build()\n        .connect()\n        .then((dashboard) => {\n          setIFrame(1)\n          setDashboardObj(dashboard)\n          LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\n\n\n        })\n        .catch((error) => {\n          // console.error('Connection error', error)\n        })\n      //additional api calls\n      //only want to perform when there's not apiContent\n      if (lookerContent.hasOwnProperty('filters') //&& !apiContent\n      ) {\n        // setApiContent(undefined)\n        // get inline query from usecase file & set user attribute dynamically\n        // iterating over filters\n        let orderedArrayForApiContent = []\n        lookerContent.filters.map(async (item, index) => {\n          if (lookerContent.inlineQueries[index]) {\n            let jsonQuery = lookerContent.inlineQueries[index];\n            jsonQuery.filters = {\n              ...jsonQuery.filters,\n              [item.desiredFilterName]: lookerUser.user_attributes.brand\n            };\n            let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: lookerContent.result_format || 'json', body: jsonQuery }));\n            let queryResultsForDropdown = [];\n            let desiredProperty = Object.keys(lookerResponseData[0])[0];\n\n            for (let i = 0; i < lookerResponseData.length; i++) {\n              queryResultsForDropdown.push({\n                'label': lookerResponseData[i][desiredProperty],\n                'trend': (lookerResponseData[i]['trend']) ? lookerResponseData[i]['trend'] : undefined\n              })\n            }\n            orderedArrayForApiContent[index] = queryResultsForDropdown\n          }\n          setApiContent([...orderedArrayForApiContent])\n        })\n      }\n    })\n  }\n\n  const customFilterAction = (dashboardId, filterName, newFilterValue) => {\n    if (Object.keys(dashboardObj).length) {\n      dashboardObj.updateFilters({ [filterName]: newFilterValue })\n      dashboardObj.run()\n    }\n  }\n\n  // const drillMenuClick = (event) => {\n  //   const basicLookerUser = lookerUser.user_attributes.permission_level === 'basic' ? true : false;\n  //   if (basicLookerUser) {\n  //     togglePayWallModal()\n  //     return { cancel: (basicLookerUser) ? true : false }\n  //   }\n  // }\n\n  const changeHeight = (event) => {\n    // console.log('changeHeight')\n    // console.log('event', event)\n  }\n\n  return (\n    <div className={`${classes.root} demoComponent`}\n      style={{ height }}\n    >\n      <ThemeProvider theme={theme}>\n        <Card elevation={1} className={`${classes.padding30} ${classes.height100Percent}`}>\n          <div\n            className={`${classes.root} ${classes.height100Percent}`}\n          >\n            <Grid\n              container\n              spacing={3}\n            >\n              {/* could be improved */}\n              {lookerContent[0].hasOwnProperty(\"filters\") ?\n\n                < FilterBar {...props}\n                  classes={classes}\n                  apiContent={apiContent}\n                  customFilterAction={customFilterAction}\n                  tileToggleValue={tileToggleValue}\n                  handleTileToggle={handleTileToggle}\n                  visColorToggleValue={visColorToggleValue}\n                  handleVisColorToggle={handleVisColorToggle}\n                  lightThemeToggleValue={lightThemeToggleValue}\n                  fontThemeSelectValue={fontThemeSelectValue}\n                  handleThemeChange={handleThemeChange}\n                  horizontalLayout={horizontalLayout}\n                  setHorizontalLayout={setHorizontalLayout}\n                  drawerOpen={drawerOpen}\n                  setDrawerOpen={setDrawerOpen}\n                />\n                :\n                ''}\n\n              {\n                iFrameExists\n                  ? ''\n                  :\n                  <Loader classes={classes}\n                    height={height}\n                    expansionPanelHeight={expansionPanelHeight} />\n              }\n\n              <EmbeddedDashboardContainer\n                classes={classes}\n                lookerContent={lookerContent}\n                type={demoComponentType}\n                width={lookerContent[0].hasOwnProperty(\"filters\") ? horizontalLayout ? 12 : drawerOpen ? 9 : 12 : 12}\n              />\n\n              {codeShow ?\n                <Grid item sm={6}\n                  className={`${classes.positionFixedTopRight}`}\n                >\n                  <CodeFlyout {...props}\n                    classes={classes}\n                    lookerUser={lookerUser}\n                    height={height}\n                  />\n                </Grid>\n                : ''}\n\n            </Grid>\n          </div>\n        </Card>\n      </ThemeProvider>\n    </ div>\n  )\n}","import React from \"react\";\n// import styles from \"./Button.module.css\";\nexport const Button = props => (\n  <button\n    // className={styles.button} \n    onClick={props.onClick} {...props}>\n    {props.children}\n  </button>\n);","import React, { useState, useEffect } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Card from '@material-ui/core/Card';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nconst { validIdHelper, prettifyString } = require('../../tools');\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 800,\n    maxHeight: 450,\n    overflow: 'scroll',\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  table: {\n    maxHeight: 310\n  },\n  card: {\n    minWidth: 275,\n    minHeight: '10rem',\n    boxShadow: 'none'\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n}));\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\nfunction getModalStyle() {\n  const top = 10 //+ rand();\n  const left = 50 //+ rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${left}%, -${top}%)`,\n  };\n}\n\nexport default function ModalTable(props) {\n  // console.log('ModalTable')\n  // console.log('props', props)\n\n  const classes = useStyles();\n  const { open, onClose, modalContent } = props;\n  const [modalStyle] = React.useState(getModalStyle);\n\n\n  return (\n    <Modal\n      open={open}\n      onClose={onClose}\n      aria-labelledby=\"simple-modal-title\"\n      aria-describedby=\"simple-modal-description\"\n    >\n\n      <div style={modalStyle} className={classes.paper}>\n        <h2 id=\"simple-modal-title\">{modalContent.title}</h2>\n        {modalContent.body ?\n          <TableContainer component={Paper} className={classes.table}>\n            <Table stickyHeader className={classes.table} size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  {Object.keys(modalContent.body[0]).map((key, index) => (\n                    <TableCell align=\"right\"\n                      key={validIdHelper(key + '-TableHead-TableCell-' + index)}\n                      id={validIdHelper(key + '-TableHead-TableCell-' + index)}>\n                      {prettifyString(key.substring(key.lastIndexOf('.') + 1, key.length))}</TableCell>\n\n\n                  ))}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {modalContent.body.map((item, index) => (\n\n                  <TableRow\n                    key={validIdHelper('TableRow-' + index)}\n                    id={validIdHelper('TableRow-' + index)} >\n                    {\n                      Object.keys(item).map(key => (\n                        <TableCell align=\"right\"\n                          key={validIdHelper(key + '-TableBody-TableCell-' + index)}\n                          id={validIdHelper(key + '-TableBody-TableCell-' + index)}>\n                          {\n                            modalContent.body[index][key] ?\n                              modalContent.body[index][key].rendered ?\n                                modalContent.body[index][key].rendered :\n                                modalContent.body[index][key].value ?\n                                  modalContent.body[index][key].value :\n                                  typeof modalContent.body[index][key] === 'number' ?\n                                    (Math.round(modalContent.body[index][key] * 100) / 100)//.toLocaleString()\n                                    :\n                                    modalContent.body[index][key] //.toLocaleString() \n                              :\n                              ''\n                          }\n                        </TableCell>\n                      ))\n                    }\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer >\n          :\n\n          <Card className={`${classes.card} ${classes.flexCentered}`}>\n            <CircularProgress className={classes.circularProgress} />\n          </Card>}\n\n      </div >\n    </Modal >\n  )\n}","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    overflow: 'scroll',\n    borderRadius: '8px'\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    // position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  card: {\n    minWidth: 275,\n    minHeight: 400\n  },\n  height500: {\n    height: 500\n  },\n  height600: {\n    height: 600\n  },\n  height700: {\n    height: 700\n  },\n  height800: {\n    height: 800\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  skeleton: {\n    height: 160,\n    width: '100%'\n  },\n  padding30: {\n    padding: 30\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  height100Percent: {\n    height: '100%'\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  padding20: {\n    padding: 20\n  },\n  positionFixedTopRight: {\n    position: 'fixed',\n    top: 88,\n    right: 24,\n    bottom: 0,\n    zIndex: 100,\n  },\n  codeFlyoutContainer: {\n    backgroundColor: 'rgb(40, 42, 54)',\n    overflow: 'scroll',\n    borderRadius: '0 8px 8px 0'\n  },\n  padding10: {\n    padding: 10\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  noContainerScroll: {\n    width: '100%',\n    margin: 0\n  }\n}));","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport {\n  AppBar, Tabs, Tab, Typography, Box, Grid, CircularProgress, Card, TextField,\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, Divider, InputLabel, MenuItem,\n  FormControl, Select, Modal\n} from '@material-ui/core'\nimport { Skeleton } from '@material-ui/lab';\nimport { ExpandMore, FilterList } from '@material-ui/icons';\nimport ModalTable from '../../Material/ModalTable';\nimport { ResponsiveCalendar } from '@nivo/calendar'\nimport CodeFlyout from '../CodeFlyout';\nimport rawSampleCode from '!!raw-loader!./CustomVis.js'; // eslint-disable-line import/no-webpack-loader-syntax\nimport useStyles from './styles.js';\nimport { ApiHighlight } from '../../Highlights/Highlight';\nimport { format, endOfDay, addDays } from 'date-fns';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardTimePicker, KeyboardDatePicker } from '@material-ui/pickers';\nimport AppContext from '../../../contexts/AppContext';\nimport { Loader } from '../../Accessories/Loader';\n\n\nconst { validIdHelper } = require('../../../tools');\n\nexport default function CustomVis(props) {\n  // console.log('CustomVis')\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall, isReady } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession\n\n  const topBarBottomBarHeight = 112;\n  const [value, setValue] = useState(0);\n  const [fromDate, setFromDate] = useState('');\n  const [toDate, setToDate] = useState('');\n  const [category, setCategory] = useState('All')\n  const [desiredField, setDesiredField] = useState('')\n  const [apiContent, setApiContent] = useState(undefined);\n  const [open, setOpen] = React.useState(false);\n  const [modalContent, setModalContent] = useState({});\n  const [clientSideCode, setClientSideCode] = useState('');\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\n\n\n\n  //declare constants\n  const classes = useStyles();\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange,\n    //lookerUser, lookerHost \n  } = props;\n\n  //handle opening of modal for advanced and premium users\n  const handleModalOpen = async ({ day }) => {\n    let originalInlineQueryCopy = JSON.parse(JSON.stringify(lookerContent[0].inlineQuery));\n    originalInlineQueryCopy.filters = {\n      ...originalInlineQueryCopy.filters,\n      [originalInlineQueryCopy.fields[0]]: day,\n      [originalInlineQueryCopy.fields[1]]: category === \"All\" ? '' : category\n    }\n    originalInlineQueryCopy.total = true;\n    originalInlineQueryCopy.limit = \"25\";\n\n    setOpen(true);\n    let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: lookerContent.result_format || 'json', body: originalInlineQueryCopy }));\n    let modalObj = {\n      \"title\": `Detail View for ${day}`,\n      \"body\": lookerResponseData\n    }\n    setModalContent(modalObj);\n  };\n\n  //handle modal close\n  const handleModalClose = () => {\n    setModalContent({})\n    setOpen(false);\n  };\n\n  //handle tab change\n  const handleChange = (event, newValue) => {\n    handleTabChange(0);\n    setValue(newValue);\n  };\n\n  const handleFromDate = newValue => {\n    let validDate = Date.parse(newValue);\n    if (validDate > 0) {\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\n      setFromDate(newValueAsDate);\n    }\n  }\n  const handleToDate = newValue => {\n    let validDate = Date.parse(newValue);\n    if (validDate > 0) {\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\n      setToDate(newValueAsDate);\n    }\n  }\n\n  const handleCategory = newValue => {\n    setCategory(newValue)\n  }\n\n  const handleDesiredField = newValue => {\n    setDesiredField(newValue)\n  }\n\n  //format response from initial api call based on LookerContent array\n  //to match format required by Nivo Calendar component\n  let filterData = [];\n  if (apiContent) {\n    //filtering for fromDate, toDate and category\n    filterData = _.filter(apiContent, (row) => {\n      return (row[apiContent.inlineQuery.fields[0]] >= fromDate\n        && row[apiContent.inlineQuery.fields[0]] < toDate\n        && (category === 'All' ? true : row[apiContent.inlineQuery.fields[1]] === category)\n      )\n    })\n    //converting filterDAta to desired format for vis\n    filterData = filterData.map(item => {\n      return {\n        'day': item[apiContent.inlineQuery.fields[0]],\n        'category': item[apiContent.inlineQuery.fields[1]],\n        'value': item[desiredField]\n      }\n    })\n\n    //special exception for category all\n    //need to reduce array by day across categories\n    //destructuing in reduce of value would not work for dynamic var\n    if (category === 'All') {\n      //create array of all unique dates\n      const uniqueDates = [...new Set(filterData.map(item => item.day))];\n      let filteredAndReducedForAll = []\n      //iterate over unique date\n      uniqueDates.map(uniqueDate => {\n        //filter filterData for current unique date\n        let value = _.filter(filterData, row => {\n          return row.day === uniqueDate\n        }).reduce((acc, { value }) => acc + value, 0)\n        let thisObj = {\n          day: uniqueDate,\n          value: value,\n          category: 'All'\n        }\n        filteredAndReducedForAll.push(thisObj)\n\n      })\n      filterData = filteredAndReducedForAll;\n    }\n  }\n\n  useEffect(() => {\n    if (isReady) {\n      corsApiCall(performLookerApiCalls, [lookerContent])\n      setDesiredField(lookerContent[0].desiredFields[0])\n      setClientSideCode(rawSampleCode)\n    }\n  }, [lookerUser, isReady])\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n    setExpansionPanelHeight($('.MuiExpansionPanel-root:visible').innerHeight() || 0)\n\n  })\n\n  const performLookerApiCalls = function (lookerContent) {\n    // console.log('performLookerApiCalls')\n    // console.log({ lookerContent })\n\n    setApiContent(undefined); //set to empty array to show progress bar and skeleton\n    lookerContent.map(async lookerContent => {\n      let { inlineQuery } = lookerContent;\n      inlineQuery.filters = {\n        [lookerContent.desiredFilterName]: lookerUser.user_attributes.brand\n      };\n      let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: lookerContent.result_format || 'json', body: inlineQuery }));\n\n      // console.log('lookerResponseData', lookerResponseData)\n      lookerResponseData = lookerResponseData.filter(item => {\n        return item[inlineQuery.fields[0]]\n      })\n      let uniqueCategories = ['All'];\n      for (let i = 0; i < lookerResponseData.length; i++) {\n        if (uniqueCategories.indexOf(lookerResponseData[i][inlineQuery.fields[1]]) === -1) {\n          uniqueCategories.push(lookerResponseData[i][inlineQuery.fields[1]])\n        }\n      }\n      lookerResponseData.inlineQuery = inlineQuery;\n      lookerResponseData.uniqueCategories = uniqueCategories;\n      setFromDate(lookerResponseData[lookerResponseData.length - 1][lookerResponseData.inlineQuery.fields[0]]);\n      setToDate(incrementDate(lookerResponseData[0][lookerResponseData.inlineQuery.fields[0]], 1));\n      setApiContent(lookerResponseData)\n    })\n  }\n\n  let nivoColorScale = ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560']\n  let googleColorScale = ['#4595EC', '#F3A759', '#E24E3A', '#65AB5A'];\n\n  return (\n    <div className={`${classes.root} demoComponent`}\n      style={{ height }}>\n      <Card elevation={1} className={`\n      ${classes.padding30} \n      ${classes.height100Percent}\n      ${classes.overflowScroll}`\n      }\n      >\n        <Grid container\n          key={validIdHelper(type)} >\n          <div className={`${classes.root} `}>\n\n            {!apiContent ?\n              <Skeleton variant=\"rect\" animation=\"wave\" className={classes.skeleton} />\n              :\n              <FilterBar {...props}\n                classes={classes}\n                apiContent={apiContent}\n                fromDate={fromDate}\n                toDate={toDate}\n                category={category}\n                desiredField={desiredField}\n                handleFromDate={handleFromDate}\n                handleToDate={handleToDate}\n                handleCategory={handleCategory}\n                handleDesiredField={handleDesiredField}\n              />\n            }\n\n\n            {!apiContent ?\n\n              <Loader classes={classes}\n                height={height}\n                expansionPanelHeight={expansionPanelHeight} />\n\n              : apiContent && apiContent.length ?\n                <Box>\n                  <Grid container\n                    spacing={3}\n                    className={`${classes.noContainerScroll}`}>\n                    {codeShow ?\n                      <Grid item sm={6}\n                        className={`${classes.positionFixedTopRight}`}\n                      >\n                        <CodeFlyout {...props}\n                          classes={classes}\n                          lookerUser={lookerUser}\n                          height={height}\n                        />\n                      </Grid> : ''}\n                    <Divider className={classes.divider} />\n                    <Grid item sm={12} >\n\n                      <Box className={`${classes.w100} ${classes.padding10}`} mt={2}>\n\n                        <ApiHighlight height={400} classes={classes}>\n                          <ResponsiveCalendar\n                            data={filterData}\n                            align=\"top\"\n                            from={incrementDate(fromDate, 1)}\n                            to={incrementDate(toDate, 1)}\n                            emptyColor=\"#eeeeee\"\n                            colors={desiredField === lookerContent[0].desiredFields[0] ? googleColorScale : nivoColorScale}\n                            yearSpacing={40}\n                            monthBorderColor=\"#ffffff\"\n                            dayBorderWidth={2}\n                            dayBorderColor=\"#ffffff\"\n                            margin={{ bottom: 40, left: 40 }}\n                            legends={[\n                              {\n                                anchor: 'bottom-right',\n                                direction: 'row',\n                                translateY: 36,\n                                itemCount: 4,\n                                itemWidth: 42,\n                                itemHeight: 36,\n                                itemsSpacing: 14,\n                                itemDirection: 'right-to-left'\n                              }\n                            ]}\n                            onClick={(day, event) => {\n                              if (!day.value) {\n                              } else if (lookerUser.user_attributes.permission_level === 'basic') {\n                                setPaywallModal({\n                                  'show': true,\n                                  'permissionNeeded': 'see_drill_overlay'\n                                });\n                              } else {\n                                corsApiCall(handleModalOpen, [day])\n                                event.stopPropagation();\n                              }\n                            }}\n                          />\n                        </ApiHighlight>\n                      </Box>\n                    </Grid>\n                  </Grid>\n                </Box> :\n                ''\n            }\n          </div>\n        </Grid >\n        {\n          open ?\n            <ModalTable\n              {...props}\n              open={open}\n              onClose={handleModalClose}\n              classes={classes}\n              modalContent={modalContent}\n            />\n\n            : ''\n        }\n      </Card>\n    </div >\n  )\n}\n//Filter Bar code\nfunction FilterBar(props) {\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, classes,\n    apiContent, fromDate, toDate, category, desiredField, handleFromDate, handleToDate, handleCategory, handleDesiredField } = props;\n\n  const [expanded, setExpanded] = useState(true);\n\n  const handleExpansionPanel = (event, newValue) => {\n    setExpanded(expanded ? false : true);\n  };\n\n  // console.log('FilterBar')\n  // console.log('fromDate', fromDate)\n  // console.log('toDate', toDate)\n\n  return (\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} className={classes.w100} elevation={0}>\n      <ExpansionPanelSummary\n        expandIcon={<ExpandMore />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <FilterList /><Typography className={`${classes.heading} ${classes.ml12}`}>Filter:</Typography>\n\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <Grid container spacing={3}>\n          {apiContent ?\n            <>\n              <Grid item sm={3}>\n\n                <ApiHighlight classes={classes}>\n                  <FormControl className={classes.formControl}>\n                    <InputLabel\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\n                    >\n                      Metric</InputLabel>\n                    <Select\n                      labelId={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-Select')}`}\n                      value={desiredField}\n                      onChange={(event) => handleDesiredField(event.target.value)}\n                    >\n                      {lookerContent[0].desiredFields.map((item, index) => (\n\n                        <MenuItem\n                          id={validIdHelper(`${item}-${index}`)}\n                          key={validIdHelper(`${item}-${index}`)}\n                          value={item}\n                        >{item.substring(item.lastIndexOf(\".\") + 1, item.length).split(\"_\").map(item => item.charAt(0).toUpperCase() + item.substring(1)).join(\" \")}</MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </ApiHighlight>\n              </Grid>\n              <Grid item sm={3}>\n                <ApiHighlight classes={classes}>\n                  <FormControl className={classes.formControl}>\n                    <InputLabel\n                      id={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\n                    >\n                      Category</InputLabel>\n                    <Select\n                      labelId={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\n                      id={`${validIdHelper(type + '-FilterBar-Category-Select')}`}\n                      value={category}\n                      onChange={(event) => handleCategory(event.target.value)}\n                    >\n                      {apiContent.uniqueCategories.map((item, index) => (\n\n                        <MenuItem\n                          id={validIdHelper(`${item}-${index}`)}\n                          key={validIdHelper(`${item}-${index}`)}\n                          value={item}>{item}</MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </ApiHighlight>\n              </Grid>\n\n              <Grid item sm={3}>\n\n                <ApiHighlight classes={classes}>\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <KeyboardDatePicker\n                      disableToolbar\n                      variant=\"inline\"\n                      format=\"MM/dd/yyyy\"\n                      margin=\"normal\"\n                      id=\"fromDate\"\n                      label=\"From date\"\n                      value={fromDate}\n                      onChange={handleFromDate}\n                      KeyboardButtonProps={{\n                        'aria-label': 'change date',\n                      }}\n                      minDate={apiContent[apiContent.length - 1][apiContent.inlineQuery.fields[0]]}\n                      maxDate={apiContent[0][apiContent.inlineQuery.fields[0]]}\n                    />\n                  </MuiPickersUtilsProvider>\n                </ApiHighlight>\n              </Grid>\n              <Grid item sm={3}>\n                <ApiHighlight classes={classes}>\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <KeyboardDatePicker\n                      disableToolbar\n                      variant=\"inline\"\n                      format=\"MM/dd/yyyy\"\n                      margin=\"normal\"\n                      id=\"toDate\"\n                      label=\"To date\"\n                      value={toDate}\n                      onChange={handleToDate}\n                      KeyboardButtonProps={{\n                        'aria-label': 'change date',\n                      }}\n                      minDate={fromDate}\n                      maxDate={toDate}\n                    />\n                  </MuiPickersUtilsProvider>\n                </ApiHighlight>\n              </Grid>\n            </>\n            : ''}\n        </Grid>\n      </ExpansionPanelDetails>\n    </ExpansionPanel >\n  )\n}\n\nfunction incrementDate(dateInput, increment) {\n  var dateFormatTotime = new Date(dateInput);\n  var increasedDate = new Date(dateFormatTotime.getTime() + (increment * 86400000));\n  return increasedDate.toISOString().split('T')[0];\n}","export default \"import $ from 'jquery';\\nimport _ from 'lodash'\\nimport React, { useState, useEffect, useContext } from 'react';\\nimport {\\n  AppBar, Tabs, Tab, Typography, Box, Grid, CircularProgress, Card, TextField,\\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, Divider, InputLabel, MenuItem,\\n  FormControl, Select, Modal\\n} from '@material-ui/core'\\nimport { Skeleton } from '@material-ui/lab';\\nimport { ExpandMore, FilterList } from '@material-ui/icons';\\nimport ModalTable from '../../Material/ModalTable';\\nimport { ResponsiveCalendar } from '@nivo/calendar'\\nimport CodeFlyout from '../CodeFlyout';\\nimport rawSampleCode from '!!raw-loader!./CustomVis.js'; // eslint-disable-line import/no-webpack-loader-syntax\\nimport useStyles from './styles.js';\\nimport { ApiHighlight } from '../../Highlights/Highlight';\\nimport { format, endOfDay, addDays } from 'date-fns';\\nimport DateFnsUtils from '@date-io/date-fns';\\nimport { MuiPickersUtilsProvider, KeyboardTimePicker, KeyboardDatePicker } from '@material-ui/pickers';\\nimport AppContext from '../../../contexts/AppContext';\\nimport { Loader } from '../../Accessories/Loader';\\n\\n\\nconst { validIdHelper } = require('../../../tools');\\n\\nexport default function CustomVis(props) {\\n  // console.log('CustomVis')\\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall, isReady } = useContext(AppContext)\\n  const { userProfile, lookerUser, lookerHost } = clientSession\\n\\n  const topBarBottomBarHeight = 112;\\n  const [value, setValue] = useState(0);\\n  const [fromDate, setFromDate] = useState('');\\n  const [toDate, setToDate] = useState('');\\n  const [category, setCategory] = useState('All')\\n  const [desiredField, setDesiredField] = useState('')\\n  const [apiContent, setApiContent] = useState(undefined);\\n  const [open, setOpen] = React.useState(false);\\n  const [modalContent, setModalContent] = useState({});\\n  const [clientSideCode, setClientSideCode] = useState('');\\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\\n\\n\\n\\n  //declare constants\\n  const classes = useStyles();\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange,\\n    //lookerUser, lookerHost \\n  } = props;\\n\\n  //handle opening of modal for advanced and premium users\\n  const handleModalOpen = async ({ day }) => {\\n    let originalInlineQueryCopy = JSON.parse(JSON.stringify(lookerContent[0].inlineQuery));\\n    originalInlineQueryCopy.filters = {\\n      ...originalInlineQueryCopy.filters,\\n      [originalInlineQueryCopy.fields[0]]: day,\\n      [originalInlineQueryCopy.fields[1]]: category === \\\"All\\\" ? '' : category\\n    }\\n    originalInlineQueryCopy.total = true;\\n    originalInlineQueryCopy.limit = \\\"25\\\";\\n\\n    setOpen(true);\\n    let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: lookerContent.result_format || 'json', body: originalInlineQueryCopy }));\\n    let modalObj = {\\n      \\\"title\\\": `Detail View for ${day}`,\\n      \\\"body\\\": lookerResponseData\\n    }\\n    setModalContent(modalObj);\\n  };\\n\\n  //handle modal close\\n  const handleModalClose = () => {\\n    setModalContent({})\\n    setOpen(false);\\n  };\\n\\n  //handle tab change\\n  const handleChange = (event, newValue) => {\\n    handleTabChange(0);\\n    setValue(newValue);\\n  };\\n\\n  const handleFromDate = newValue => {\\n    let validDate = Date.parse(newValue);\\n    if (validDate > 0) {\\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\\n      setFromDate(newValueAsDate);\\n    }\\n  }\\n  const handleToDate = newValue => {\\n    let validDate = Date.parse(newValue);\\n    if (validDate > 0) {\\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\\n      setToDate(newValueAsDate);\\n    }\\n  }\\n\\n  const handleCategory = newValue => {\\n    setCategory(newValue)\\n  }\\n\\n  const handleDesiredField = newValue => {\\n    setDesiredField(newValue)\\n  }\\n\\n  //format response from initial api call based on LookerContent array\\n  //to match format required by Nivo Calendar component\\n  let filterData = [];\\n  if (apiContent) {\\n    //filtering for fromDate, toDate and category\\n    filterData = _.filter(apiContent, (row) => {\\n      return (row[apiContent.inlineQuery.fields[0]] >= fromDate\\n        && row[apiContent.inlineQuery.fields[0]] < toDate\\n        && (category === 'All' ? true : row[apiContent.inlineQuery.fields[1]] === category)\\n      )\\n    })\\n    //converting filterDAta to desired format for vis\\n    filterData = filterData.map(item => {\\n      return {\\n        'day': item[apiContent.inlineQuery.fields[0]],\\n        'category': item[apiContent.inlineQuery.fields[1]],\\n        'value': item[desiredField]\\n      }\\n    })\\n\\n    //special exception for category all\\n    //need to reduce array by day across categories\\n    //destructuing in reduce of value would not work for dynamic var\\n    if (category === 'All') {\\n      //create array of all unique dates\\n      const uniqueDates = [...new Set(filterData.map(item => item.day))];\\n      let filteredAndReducedForAll = []\\n      //iterate over unique date\\n      uniqueDates.map(uniqueDate => {\\n        //filter filterData for current unique date\\n        let value = _.filter(filterData, row => {\\n          return row.day === uniqueDate\\n        }).reduce((acc, { value }) => acc + value, 0)\\n        let thisObj = {\\n          day: uniqueDate,\\n          value: value,\\n          category: 'All'\\n        }\\n        filteredAndReducedForAll.push(thisObj)\\n\\n      })\\n      filterData = filteredAndReducedForAll;\\n    }\\n  }\\n\\n  useEffect(() => {\\n    if (isReady) {\\n      corsApiCall(performLookerApiCalls, [lookerContent])\\n      setDesiredField(lookerContent[0].desiredFields[0])\\n      setClientSideCode(rawSampleCode)\\n    }\\n  }, [lookerUser, isReady])\\n\\n  useEffect(() => {\\n    window.addEventListener(\\\"resize\\\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\\n    setExpansionPanelHeight($('.MuiExpansionPanel-root:visible').innerHeight() || 0)\\n\\n  })\\n\\n  const performLookerApiCalls = function (lookerContent) {\\n    // console.log('performLookerApiCalls')\\n    // console.log({ lookerContent })\\n\\n    setApiContent(undefined); //set to empty array to show progress bar and skeleton\\n    lookerContent.map(async lookerContent => {\\n      let { inlineQuery } = lookerContent;\\n      inlineQuery.filters = {\\n        [lookerContent.desiredFilterName]: lookerUser.user_attributes.brand\\n      };\\n      let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: lookerContent.result_format || 'json', body: inlineQuery }));\\n\\n      // console.log('lookerResponseData', lookerResponseData)\\n      lookerResponseData = lookerResponseData.filter(item => {\\n        return item[inlineQuery.fields[0]]\\n      })\\n      let uniqueCategories = ['All'];\\n      for (let i = 0; i < lookerResponseData.length; i++) {\\n        if (uniqueCategories.indexOf(lookerResponseData[i][inlineQuery.fields[1]]) === -1) {\\n          uniqueCategories.push(lookerResponseData[i][inlineQuery.fields[1]])\\n        }\\n      }\\n      lookerResponseData.inlineQuery = inlineQuery;\\n      lookerResponseData.uniqueCategories = uniqueCategories;\\n      setFromDate(lookerResponseData[lookerResponseData.length - 1][lookerResponseData.inlineQuery.fields[0]]);\\n      setToDate(incrementDate(lookerResponseData[0][lookerResponseData.inlineQuery.fields[0]], 1));\\n      setApiContent(lookerResponseData)\\n    })\\n  }\\n\\n  let nivoColorScale = ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560']\\n  let googleColorScale = ['#4595EC', '#F3A759', '#E24E3A', '#65AB5A'];\\n\\n  return (\\n    <div className={`${classes.root} demoComponent`}\\n      style={{ height }}>\\n      <Card elevation={1} className={`\\n      ${classes.padding30} \\n      ${classes.height100Percent}\\n      ${classes.overflowScroll}`\\n      }\\n      >\\n        <Grid container\\n          key={validIdHelper(type)} >\\n          <div className={`${classes.root} `}>\\n\\n            {!apiContent ?\\n              <Skeleton variant=\\\"rect\\\" animation=\\\"wave\\\" className={classes.skeleton} />\\n              :\\n              <FilterBar {...props}\\n                classes={classes}\\n                apiContent={apiContent}\\n                fromDate={fromDate}\\n                toDate={toDate}\\n                category={category}\\n                desiredField={desiredField}\\n                handleFromDate={handleFromDate}\\n                handleToDate={handleToDate}\\n                handleCategory={handleCategory}\\n                handleDesiredField={handleDesiredField}\\n              />\\n            }\\n\\n\\n            {!apiContent ?\\n\\n              <Loader classes={classes}\\n                height={height}\\n                expansionPanelHeight={expansionPanelHeight} />\\n\\n              : apiContent && apiContent.length ?\\n                <Box>\\n                  <Grid container\\n                    spacing={3}\\n                    className={`${classes.noContainerScroll}`}>\\n                    {codeShow ?\\n                      <Grid item sm={6}\\n                        className={`${classes.positionFixedTopRight}`}\\n                      >\\n                        <CodeFlyout {...props}\\n                          classes={classes}\\n                          lookerUser={lookerUser}\\n                          height={height}\\n                        />\\n                      </Grid> : ''}\\n                    <Divider className={classes.divider} />\\n                    <Grid item sm={12} >\\n\\n                      <Box className={`${classes.w100} ${classes.padding10}`} mt={2}>\\n\\n                        <ApiHighlight height={400} classes={classes}>\\n                          <ResponsiveCalendar\\n                            data={filterData}\\n                            align=\\\"top\\\"\\n                            from={incrementDate(fromDate, 1)}\\n                            to={incrementDate(toDate, 1)}\\n                            emptyColor=\\\"#eeeeee\\\"\\n                            colors={desiredField === lookerContent[0].desiredFields[0] ? googleColorScale : nivoColorScale}\\n                            yearSpacing={40}\\n                            monthBorderColor=\\\"#ffffff\\\"\\n                            dayBorderWidth={2}\\n                            dayBorderColor=\\\"#ffffff\\\"\\n                            margin={{ bottom: 40, left: 40 }}\\n                            legends={[\\n                              {\\n                                anchor: 'bottom-right',\\n                                direction: 'row',\\n                                translateY: 36,\\n                                itemCount: 4,\\n                                itemWidth: 42,\\n                                itemHeight: 36,\\n                                itemsSpacing: 14,\\n                                itemDirection: 'right-to-left'\\n                              }\\n                            ]}\\n                            onClick={(day, event) => {\\n                              if (!day.value) {\\n                              } else if (lookerUser.user_attributes.permission_level === 'basic') {\\n                                setPaywallModal({\\n                                  'show': true,\\n                                  'permissionNeeded': 'see_drill_overlay'\\n                                });\\n                              } else {\\n                                corsApiCall(handleModalOpen, [day])\\n                                event.stopPropagation();\\n                              }\\n                            }}\\n                          />\\n                        </ApiHighlight>\\n                      </Box>\\n                    </Grid>\\n                  </Grid>\\n                </Box> :\\n                ''\\n            }\\n          </div>\\n        </Grid >\\n        {\\n          open ?\\n            <ModalTable\\n              {...props}\\n              open={open}\\n              onClose={handleModalClose}\\n              classes={classes}\\n              modalContent={modalContent}\\n            />\\n\\n            : ''\\n        }\\n      </Card>\\n    </div >\\n  )\\n}\\n//Filter Bar code\\nfunction FilterBar(props) {\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, classes,\\n    apiContent, fromDate, toDate, category, desiredField, handleFromDate, handleToDate, handleCategory, handleDesiredField } = props;\\n\\n  const [expanded, setExpanded] = useState(true);\\n\\n  const handleExpansionPanel = (event, newValue) => {\\n    setExpanded(expanded ? false : true);\\n  };\\n\\n  // console.log('FilterBar')\\n  // console.log('fromDate', fromDate)\\n  // console.log('toDate', toDate)\\n\\n  return (\\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} className={classes.w100} elevation={0}>\\n      <ExpansionPanelSummary\\n        expandIcon={<ExpandMore />}\\n        aria-controls=\\\"panel1a-content\\\"\\n        id=\\\"panel1a-header\\\"\\n      >\\n        <FilterList /><Typography className={`${classes.heading} ${classes.ml12}`}>Filter:</Typography>\\n\\n      </ExpansionPanelSummary>\\n      <ExpansionPanelDetails>\\n        <Grid container spacing={3}>\\n          {apiContent ?\\n            <>\\n              <Grid item sm={3}>\\n\\n                <ApiHighlight classes={classes}>\\n                  <FormControl className={classes.formControl}>\\n                    <InputLabel\\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\\n                    >\\n                      Metric</InputLabel>\\n                    <Select\\n                      labelId={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-Select')}`}\\n                      value={desiredField}\\n                      onChange={(event) => handleDesiredField(event.target.value)}\\n                    >\\n                      {lookerContent[0].desiredFields.map((item, index) => (\\n\\n                        <MenuItem\\n                          id={validIdHelper(`${item}-${index}`)}\\n                          key={validIdHelper(`${item}-${index}`)}\\n                          value={item}\\n                        >{item.substring(item.lastIndexOf(\\\".\\\") + 1, item.length).split(\\\"_\\\").map(item => item.charAt(0).toUpperCase() + item.substring(1)).join(\\\" \\\")}</MenuItem>\\n                      ))}\\n                    </Select>\\n                  </FormControl>\\n                </ApiHighlight>\\n              </Grid>\\n              <Grid item sm={3}>\\n                <ApiHighlight classes={classes}>\\n                  <FormControl className={classes.formControl}>\\n                    <InputLabel\\n                      id={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\\n                    >\\n                      Category</InputLabel>\\n                    <Select\\n                      labelId={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\\n                      id={`${validIdHelper(type + '-FilterBar-Category-Select')}`}\\n                      value={category}\\n                      onChange={(event) => handleCategory(event.target.value)}\\n                    >\\n                      {apiContent.uniqueCategories.map((item, index) => (\\n\\n                        <MenuItem\\n                          id={validIdHelper(`${item}-${index}`)}\\n                          key={validIdHelper(`${item}-${index}`)}\\n                          value={item}>{item}</MenuItem>\\n                      ))}\\n                    </Select>\\n                  </FormControl>\\n                </ApiHighlight>\\n              </Grid>\\n\\n              <Grid item sm={3}>\\n\\n                <ApiHighlight classes={classes}>\\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\\n                    <KeyboardDatePicker\\n                      disableToolbar\\n                      variant=\\\"inline\\\"\\n                      format=\\\"MM/dd/yyyy\\\"\\n                      margin=\\\"normal\\\"\\n                      id=\\\"fromDate\\\"\\n                      label=\\\"From date\\\"\\n                      value={fromDate}\\n                      onChange={handleFromDate}\\n                      KeyboardButtonProps={{\\n                        'aria-label': 'change date',\\n                      }}\\n                      minDate={apiContent[apiContent.length - 1][apiContent.inlineQuery.fields[0]]}\\n                      maxDate={apiContent[0][apiContent.inlineQuery.fields[0]]}\\n                    />\\n                  </MuiPickersUtilsProvider>\\n                </ApiHighlight>\\n              </Grid>\\n              <Grid item sm={3}>\\n                <ApiHighlight classes={classes}>\\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\\n                    <KeyboardDatePicker\\n                      disableToolbar\\n                      variant=\\\"inline\\\"\\n                      format=\\\"MM/dd/yyyy\\\"\\n                      margin=\\\"normal\\\"\\n                      id=\\\"toDate\\\"\\n                      label=\\\"To date\\\"\\n                      value={toDate}\\n                      onChange={handleToDate}\\n                      KeyboardButtonProps={{\\n                        'aria-label': 'change date',\\n                      }}\\n                      minDate={fromDate}\\n                      maxDate={toDate}\\n                    />\\n                  </MuiPickersUtilsProvider>\\n                </ApiHighlight>\\n              </Grid>\\n            </>\\n            : ''}\\n        </Grid>\\n      </ExpansionPanelDetails>\\n    </ExpansionPanel >\\n  )\\n}\\n\\nfunction incrementDate(dateInput, increment) {\\n  var dateFormatTotime = new Date(dateInput);\\n  var increasedDate = new Date(dateFormatTotime.getTime() + (increment * 86400000));\\n  return increasedDate.toISOString().split('T')[0];\\n}\";","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    overflow: 'scroll',\n    borderRadius: '8px'\n  },\n  card: {\n    minWidth: 275,\n    minHeight: 400,\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  ml24: {\n    marginLeft: 24\n  },\n  parentHoverVisibility: {\n    '&:hover $childHoverVisibility': {\n      visibility: 'visible'\n    }\n\n  },\n  childHoverVisibility: {\n    visibility: 'hidden'\n  },\n  faSm: {\n    fontSize: '.75em'\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  padding30: {\n    padding: 30\n  },\n  mr12: {\n    marginRight: 12\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  height100Percent: {\n    height: '100%'\n  },\n  padding20: {\n    padding: 20\n  },\n  positionFixedTopRight: {\n    position: 'fixed',\n    top: 88,\n    right: 24,\n    bottom: 0,\n    zIndex: 100,\n  },\n  codeFlyoutContainer: {\n    backgroundColor: 'rgb(40, 42, 54)',\n    overflow: 'scroll',\n    borderRadius: '0 8px 8px 0'\n  },\n  whiteSpaceNoWrap: {\n    whiteSpace: 'nowrap'\n  },\n  overflowHidden: {\n    overflow: 'hidden'\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  overflowYScroll: {\n    overflowY: 'scroll',\n    overflowX: 'hidden'\n  },\n  noContainerScroll: {\n    width: '100%',\n    margin: 0\n  }\n}));","import React from 'react';\nimport { Typography, Box } from '@material-ui/core'\nimport PropTypes from 'prop-types';\n\nexport function TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            <Box p={3}>{children}</Box>\n        </Typography>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nexport function a11yProps(index) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\n\n","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AppBar, Tabs, Tab, Typography, Box, Grid, Icon, CircularProgress, Card, Button } from '@material-ui/core'\nimport { TreeView, TreeItem } from '@material-ui/lab';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport CodeFlyout from '../CodeFlyout';\nimport rawSampleCode from '!!raw-loader!./ReportBuilder.js'; // eslint-disable-line import/no-webpack-loader-syntax\nimport useStyles from './styles.js';\nimport { TabPanel, a11yProps } from './helpers.js';\nimport '../../Home.css';\nimport { ApiHighlight, EmbedHighlight } from '../../Highlights/Highlight';\nimport AppContext from '../../../contexts/AppContext';\nimport { Loader } from '../../Accessories/Loader';\n\nimport { SwapVerticalCircleOutlined } from '@material-ui/icons';\nconst { validIdHelper } = require('../../../tools');\n\n//start of ReportBuilder Component\nexport default function ReportBuilder(props) {\n\n\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall, isReady } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession;\n\n  const topBarBottomBarHeight = 112;\n  const [iFrameExists, setIFrame] = useState(0);\n  // const [exploreIFrameExists, setExploreIFrame] = useState(0);\n  const [apiContent, setApiContent] = useState([]);\n  const [exploreObj, setExploreObj] = useState({});\n  const [clientSideCode, setClientSideCode] = useState('');\n  const [serverSideCode, setServerSideCode] = useState('');\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\n\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const [qid, setQid] = useState(null);\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type },\n    //activeTabValue, handleTabChange, lookerUser, lookerHost \n  } = props;\n\n  const demoComponentType = type;\n  const tabContent = [...lookerContent]\n\n  const handleChange = (event, newValue) => {\n    if (newValue == 1 && lookerUser.user_attributes.permission_level != 'premium') {\n      // handleChange(0)\n      setPaywallModal({\n        'show': true,\n        'permissionNeeded': 'explore'\n      });\n    } else {\n      setValue(newValue)\n    }\n  };\n\n  useEffect(() => {\n    if (isReady) {\n      corsApiCall(performLookerApiCalls, [lookerContent, !value])\n      setClientSideCode(rawSampleCode)\n    }\n  }, [lookerUser, value, isReady, value]);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n    setExpansionPanelHeight($('.MuiExpansionPanel-root:visible').innerHeight() || 0)\n  })\n\n\n  const action = async (contentType, contentId, secondaryAction, qid, exploreId, newReportEmbedContainer) => {\n\n    let iFrameArray = $(\".embedContainer:visible > iframe\")\n\n    let matchingIndex = 0;\n    for (let i = 0; i < iFrameArray.length; i++) {\n      if (iFrameArray[i].classList.contains(contentType) && iFrameArray[i].classList.contains(contentId)) {\n        iFrameArray[i].classList.remove('dNone')\n        matchingIndex = i;\n      } else {\n        iFrameArray[i].classList.add('dNone')\n      }\n    }\n\n    if (secondaryAction === 'edit' || secondaryAction === 'explore') {\n      //save qid to state and use in perform looker api calls\n      setQid(qid);\n      handleChange('edit', 1)\n    } else if (secondaryAction === 'delete') {\n      //remove iframe associated with content that was deleted\n      let indexOfDeletedContent;\n      for (let i = 0; i < iFrameArray.length; i++) {\n        if (iFrameArray[i].classList.contains(contentId)) {\n          indexOfDeletedContent = i;\n        }\n      }\n      let updatedIFrameArray = iFrameArray.slice()\n      updatedIFrameArray.splice(indexOfDeletedContent, 1)\n      for (let i = 0; i < updatedIFrameArray.length; i++) {\n        if (i === 0) {\n          updatedIFrameArray[i].classList.remove('dNone')\n          matchingIndex = i;\n        } else {\n          updatedIFrameArray[i].classList.add('dNone')\n        }\n      }\n      //append updated array\n      $(`#embedContainer-reportbuilder-14`).empty();\n      $(`#embedContainer-reportbuilder-14`).html(updatedIFrameArray);\n\n      let lookerResponse = await sdk.ok(sdk.delete_look(contentId));\n      corsApiCall(performLookerApiCalls, [lookerContent, 1])\n    }\n  }\n\n  const performLookerApiCalls = function (lookerContent, animateLoad) {\n    if (animateLoad) {\n      handleChange('refresh', 0)\n      setIFrame(0)\n      setApiContent([])\n    }\n\n    lookerContent.map(async lookerContent => {\n      if (value === 0 &&\n        lookerContent.type === 'folder') {\n\n        const sharedFolder = await sdk.ok(sdk.folder(lookerContent.id));\n        const embedUser = await sdk.ok(sdk.me())\n\n        for (let h = 0; h < sharedFolder.looks.length; h++) {\n          let look = await sdk.ok(sdk.look(sharedFolder.looks[h].id))\n          let clientId = look.query.client_id;\n          sharedFolder.looks[h].client_id = clientId;\n        }\n\n        let embeddedUserFolder = {}\n        if (lookerUser.user_attributes.permission_level === 'premium') {\n          let embedUserLooks = await sdk.ok(sdk.search_looks({ user_id: embedUser.id }))\n          if (embedUserLooks && embedUserLooks.length) {\n            let embedUserFolderId = embedUserLooks[0].folder_id || null;\n            embeddedUserFolder = await sdk.ok(sdk.folder(embedUserFolderId));\n            for (let i = 0; i < embeddedUserFolder.looks.length; i++) {\n              let look = await sdk.ok(sdk.look(embeddedUserFolder.looks[i].id));\n              let clientId = look.query.client_id;\n              embeddedUserFolder.looks[i].client_id = clientId;\n            }\n          }\n        }\n\n        let lookerResponseData = {\n          sharedFolder,\n          embeddedUserFolder\n        }\n\n        // console.log('lookerResponseData', lookerResponseData)\n\n        let looksToUse = [...lookerResponseData.sharedFolder.looks];\n        if (lookerUser.user_attributes.permission_level === 'premium' &&\n          Object.keys(lookerResponseData.embeddedUserFolder).length) {\n          looksToUse = [\n            ...looksToUse, ...lookerResponseData.embeddedUserFolder.looks\n          ]\n\n        }\n        let dashboardsToUse = [...lookerResponseData.sharedFolder.dashboards]\n        let objToUse = {\n          looks: looksToUse,\n          dashboards: dashboardsToUse\n        }\n        // console.log('objToUse', objToUse)\n        let iFrameArray = $(`.embedContainer.${validIdHelper(demoComponentType)} > iframe`);\n        if (objToUse.looks.length) {\n          objToUse.looks.map((item, index) => {\n\n            let lookId = item.id;\n            let lookIsRendered = false;\n            for (let i = 0; i < iFrameArray.length; i++) {\n              if (iFrameArray[i].classList.contains('look') && iFrameArray[i].classList.contains(lookId)) {\n                lookIsRendered = true;\n              }\n            }\n\n            if (!lookIsRendered) {\n              LookerEmbedSDK.createLookWithId(lookId)\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n                .withClassName('iframe')\n                .withClassName('look')\n                .withClassName(lookerResponseData.sharedFolder.looks.indexOf(item) > -1 ? \"shared\" : \"personal\")\n                .withClassName(index > 0 ? 'dNone' : 'oops')\n                .withClassName(lookId)\n                .build()\n                .connect()\n                .then((look) => {\n                  // setIFrame(1)\n                  LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\n\n\n                })\n                .catch((error) => {\n                  console.error('Connection error', error)\n                })\n            }\n\n            if (index === objToUse.looks.length - 1) {\n              setTimeout(() => setIFrame(1), 1000)\n            }\n          })\n        }\n\n        if (objToUse.dashboards.length) {\n          objToUse.dashboards.map((item, index) => {\n            let dashboardId = item.id\n            let dashboardIsRendered = false;\n            for (let i = 0; i < iFrameArray.length; i++) {\n              if (iFrameArray[i].classList.contains('dashboard') && iFrameArray[i].classList.contains(dashboardId)) {\n                dashboardIsRendered = true;\n              }\n            }\n            if (!dashboardIsRendered) {\n              LookerEmbedSDK.createDashboardWithId(dashboardId)\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n                .withClassName('iframe')\n                .withClassName('dashboard')\n                .withClassName(lookerResponseData.sharedFolder.dashboards.indexOf(item) > -1 ? \"shared\" : \"personal\")\n                .withClassName('dNone')\n                .withClassName(dashboardId)\n                .build()\n                .connect()\n                .then((dashboard) => {\n                  setTimeout(() => {\n                    // setIFrame(1)\n                  }, 1000)\n                  LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\n\n                })\n                .catch((error) => {\n                  console.error('Connection error', error)\n                })\n            }\n\n\n            if (index === objToUse.dashboards.length - 1) {\n              setTimeout(() => setIFrame(1), 1000)\n            }\n          })\n        }\n        setApiContent(objToUse)\n      } else if (lookerContent.type === 'explore' &&\n        lookerUser.user_attributes.permission_level === 'premium' &&\n        value === 1) {\n        // console.log('inside else ifff')\n        let exploreId = lookerContent.id;\n        // console.log('exploreId', exploreId)\n        $(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`)).html('');\n        //separate logic for embedding explore with qid vs. no qid\n        if (qid) {\n          // console.log('qid ifff')\n          LookerEmbedSDK.createExploreWithId(exploreId)\n            .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n            .withClassName('exploreIframe')\n            .withParams({\n              qid: qid\n            })\n            .on('explore:state:changed', (event) => {\n            })\n            .build()\n            .connect()\n            .then((explore) => {\n              console.log('explore', explore)\n              // setTimeout(() => {\n              setIFrame(1)\n              setExploreObj(explore)\n              // }, 1000)\n              LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\n\n              setQid(null)\n            })\n            .catch((error) => {\n              console.error('Connection error', error)\n            })\n        } else {\n          // console.log('qid else')\n          LookerEmbedSDK.createExploreWithId(exploreId)\n            .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n            .withClassName('exploreIframe')\n            .on('explore:state:changed', (event) => {\n            })\n            .build()\n            .connect()\n            .then((explore) => {\n              // console.log('explore', explore)\n              // setTimeout(() => {\n              setIFrame(1)\n              setExploreObj(explore)\n              // }, 1000)\n              LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\n\n              // setQid(null)\n            })\n            .catch((error) => {\n              console.error('Connection error', error)\n            })\n        }\n      }\n      // else console.log('ellse')\n    })\n  }\n\n  return (\n    <div className={`${classes.root} demoComponent`}\n      style={{ height }}>\n      <Card elevation={1} className={`\n      ${classes.padding30} \n      ${classes.height100Percent}\n      ${classes.overflowYScroll}`\n      }\n      >\n        <Grid container\n          key={validIdHelper(type)} >\n          <div className={classes.root}>\n            {iFrameExists ? '' :\n\n              <Loader classes={classes}\n                height={height}\n                expansionPanelHeight={expansionPanelHeight} />\n            }\n\n            {/* additional loading logic, need embedContainer to exist but want it hidden until iFrame has content...*/}\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\n              <AppBar position=\"static\" elevation={0}>\n                <Tabs\n                  className={classes.tabs}\n                  value={value}\n                  onChange={handleChange}\n                  aria-label=\"simple tabs example\">\n                  {tabContent.map((item, index) => (\n                    <Tab\n                      key={`${validIdHelper(demoComponentType + '-tab-' + index)}`}\n                      label={index == 1 ?\n                        <div>\n\n                          {lookerUser.user_attributes.permission_level != 'premium' ?\n                            <Icon className={`fa fa-lock ${classes.faSm} ${classes.mr12}`} /> : <Icon className={`fa fa-plus ${classes.faSm} ${classes.mr12}`} />}\n                          {item.label}\n                        </div> :\n                        item.label}\n                      className={value === 1 && index === 1 ? `${classes.hidden}` : index == 1 ? `${classes.mlAuto}` : ``}\n                      style={index === 1 ? {\n                        backgroundColor: '#5896E6',\n                        borderRadius: '4px',\n                        color: '#fff',\n                        opacity: '1.0'\n                      } : {}}\n                      {...a11yProps(index)} />\n                  ))}\n                </Tabs>\n              </AppBar>\n              <Box className=\"tabPanelContainer\">\n                <Grid container\n                  spacing={3}\n                  className={`${classes.noContainerScroll}`}>\n                  {codeShow ?\n                    <Grid item sm={6}\n                      className={`${classes.positionFixedTopRight}`}\n                    >\n                      <CodeFlyout {...props}\n                        classes={classes}\n                        lookerUser={lookerUser}\n                        height={height}\n                      />\n                    </Grid> : ''}\n                  {tabContent.map((tabContentItem, tabContentItemIndex) => (\n                    <TabPanel\n                      key={`${validIdHelper(demoComponentType + '-tabPanel-' + tabContentItemIndex)}`}\n                      value={value}\n                      index={tabContentItemIndex}\n                      style={{ width: '100%' }} //weird\n                    >\n                      <Grid container>\n                        {\n                          tabContentItemIndex === 0\n                            ?\n                            <React.Fragment\n                              key={`${validIdHelper(demoComponentType + '-outerFragment-' + tabContentItemIndex)}`}>\n                              <Grid item sm={4} >\n                                <ApiHighlight height={500} classes={classes}>\n                                  <TreeSideBar {...{\n                                    setPaywallModal,\n                                    classes,\n                                    demoComponentType,\n                                    tabContent,\n                                    tabContentItemIndex,\n                                    action,\n                                    apiContent,\n                                    ...props\n                                  }}\n                                  />\n                                </ApiHighlight>\n                              </Grid>\n                              <Grid item sm={8} >\n                                <EmbedHighlight classes={classes}>\n                                  <div\n                                    className={`embedContainer ${validIdHelper(demoComponentType)}`}\n                                    id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                    key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                  >\n                                  </div>\n                                </EmbedHighlight>\n                              </Grid>\n                            </React.Fragment>\n                            :\n                            <Grid item sm={12} >\n                              {/* couldn't get this to work */}\n                              {/* {Object.keys(exploreObj).length ?\n                                <EmbedHighlight classes={classes}>\n                                  <div\n                                    className=\"embedContainer\"\n                                    id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                    key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                  >\n                                  </div>\n                                </EmbedHighlight> :\n                                <Card className={`${classes.card} ${classes.flexCentered}`}\n                                  elevation={0}\n                                  mt={2}\n                                  style={{ height: height - 30 - ($('.MuiExpansionPanel-root:visible').innerHeight() || 0) }}>\n                                  <CircularProgress className={classes.circularProgress} />\n                                </Card>} */}\n                              <EmbedHighlight classes={classes}>\n                                <div\n                                  className=\"embedContainer\"\n                                  id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                  key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                >\n                                </div>\n                              </EmbedHighlight>\n                            </Grid>\n                        }\n                      </Grid>\n                    </TabPanel>\n                  ))}</Grid>\n              </Box>\n            </Box >\n          </div>\n        </Grid >\n      </Card>\n    </div >\n  )\n}\n\n\nfunction TreeSideBar(props) {\n\n\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession\n\n  const { staticContent, staticContent: { lookerContent }, classes, demoComponentType, tabContent, tabContentItemIndex, action, apiContent,\n    //lookerUser, setPaywallModal\n  } = props\n  const sharedFolderId = lookerContent[0].type === 'folder' ? lookerContent[0].id : '';\n  let treeCounter = 0;\n  const [selected, setSelected] = useState(2);\n  const expandedArr = Object.keys(apiContent).length ? [\"1\", \"\" + (2 + apiContent[Object.keys(apiContent)[0]].length)] : [];\n  const [expanded, setExpanded] = useState(expandedArr);\n\n  const handleToggle = (event, nodeIds) => {\n    setExpanded(nodeIds);\n  }\n\n  const handleSelect = (event, nodeIds) => {\n    setSelected(nodeIds);\n  };\n\n\n  useEffect(() => {\n    setExpanded(expandedArr);\n    if (selected !== 2) setSelected(2)\n    // let innerTreeItemArray = $(\".innerTreeItem\");\n    // console.log('innerTreeItemArray', innerTreeItemArray)\n    // for (let i = 0; i < innerTreeItemArray.length; i++) {\n    //   console.log('inside forrr', i)\n    //   if (innerTreeItemArray[i].classList.contains('Mui-selected')) {\n    //     console.log('inside iffff')\n    //     innerTreeItemArray[i].classList.remove('Mui-selected')\n    //   } else console.log('elllse')\n    // }\n  }, [apiContent]);\n\n\n  return (\n    <TreeView\n      className={classes.tree}\n      defaultCollapseIcon={<ExpandMoreIcon />}\n      defaultExpandIcon={<ChevronRightIcon />}\n      expanded={expanded}\n      onNodeToggle={handleToggle}\n      onNodeSelect={handleSelect}\n    // multiSelect={false}\n    >\n      {apiContent ? Object.keys(apiContent).map((key, outerIndex) => (\n        <React.Fragment\n          key={`${validIdHelper(demoComponentType + '-innerFragment-' + outerIndex)}`}>\n          <TreeItem\n            key={`${validIdHelper(demoComponentType + '-outerTreeItem-' + outerIndex)}`}\n            nodeId={\"\" + (treeCounter += 1)}\n            // treecounter={treeCounter}\n            label={_.capitalize(key)}\n            icon={<Icon className={`fa fa-folder ${classes.icon}`} />}\n            disabled={apiContent[key].length ? false : true}\n          >\n            {\n              apiContent[key].length ?\n                apiContent[key].map((item, index) => (\n                  <TreeItem\n                    key={`${validIdHelper(demoComponentType + '-innerTreeItem-' + treeCounter)}`}\n                    nodeId={\"\" + (treeCounter += 1)}\n                    treecounter={treeCounter}\n                    selected={selected === treeCounter}\n                    className={selected === treeCounter ? `Mui-selected innerTreeItem ${classes.whiteSpaceNoWrap}` : `innerTreeItem ${classes.whiteSpaceNoWrap}`}\n                    contentid={item.id}\n                    label={item.folder_id === sharedFolderId &&\n                      key === 'looks' ?\n                      <div\n                        id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                        key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                        className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}\n                      >\n                        {/* {item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title} */}\n                        <Grid container>\n                          <Grid item sm={8} className={`${classes.overflowHidden}`}>\n                            {item.title}</Grid>\n                          <Grid item sm={4}>\n                            <Button\n                              id={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\n                              key={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\n                              size=\"small\"\n                              className={`${classes.ml12} ${classes.childHoverVisibility}`}\n                              onClick={(event) => {\n                                if (lookerUser.user_attributes.permission_level === 'premium') {\n                                  action(\n                                    key.substring(0, key.length - 1),\n                                    item.id,\n                                    'explore',\n                                    item.client_id,\n                                    tabContent[tabContentItemIndex + 1].id,\n                                    validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\n                                  );\n                                  event.stopPropagation();\n                                } else {\n                                  // setPaywallModal();\n\n                                  setPaywallModal({\n                                    'show': true,\n                                    'permissionNeeded': 'explore'\n                                  });\n                                }\n                              }\n                              }\n                              color=\"default\"\n                            >\n                              {lookerUser.user_attributes.permission_level === 'premium' ? 'Explore' : <div> <Icon className={`fa fa-lock ${classes.faSm} ${classes.mr12}`} />Explore</div>}\n                            </Button>\n                          </Grid>\n                        </Grid>\n\n\n                      </div>\n                      : key === 'looks' ?\n                        <div\n                          id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                          key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                          className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}>\n                          <Grid container>\n                            <Grid item sm={6} className={`${classes.overflowHidden}`}>\n                              {/* {item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title} */}\n                              {item.title}\n                            </Grid>\n                            <Grid item sm={6}>\n                              <Button\n                                id={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\n                                key={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\n                                size=\"small\"\n                                className={`${classes.ml12} ${classes.childHoverVisibility}`}\n                                onClick={(event) => {\n                                  if (lookerUser.user_attributes.permission_level === 'premium') {\n                                    // setSelected(treeCounter);\n                                    action(\n                                      key.substring(0, key.length - 1),\n                                      item.id,\n                                      'edit',\n                                      item.client_id,\n                                      tabContent[tabContentItemIndex + 1].id,\n                                      validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\n                                    );\n                                    event.stopPropagation();\n                                  } else {\n                                    // setPaywallModal();\n\n                                    setPaywallModal({\n                                      'show': true,\n                                      'permissionNeeded': 'explore'\n                                    });\n                                  }\n                                }\n                                }\n                                color=\"primary\"\n                              >\n                                Edit\n                                                                                            </Button>\n                              <Button\n                                id={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\n                                key={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\n                                size=\"small\"\n                                className={`${classes.ml12} ${classes.childHoverVisibility}`}\n                                onClick={(event) => {\n                                  if (lookerUser.user_attributes.permission_level === 'premium') {\n                                    // setSelected(treeCounter);\n                                    action(\n                                      key.substring(0, key.length - 1),\n                                      item.id,\n                                      'delete',\n                                      item.client_id,\n                                      tabContent[tabContentItemIndex + 1].id,\n                                      validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\n                                    );\n                                    event.stopPropagation();\n                                  } else {\n                                    // setPaywallModal();\n\n                                    setPaywallModal({\n                                      'show': true,\n                                      'permissionNeeded': 'explore'\n                                    });\n                                  }\n                                }\n                                }\n                                color=\"secondary\"\n                              >\n                                Delete\n                                                                                            </Button>\n                            </Grid>\n                          </Grid>\n\n                        </div>\n                        : <Grid container><Grid item sm={12}>{item.title}</Grid></Grid>\n                    }\n                    onClick={() => {\n                      // setSelected(treeCounter)\n                      action(\n                        key.substring(0, key.length - 1), item.id)\n                    }} />\n\n                ))\n                :\n                ''\n            }\n          </TreeItem>\n\n        </React.Fragment>\n      )) : ''}\n    </TreeView>\n  )\n}","export default \"import $ from 'jquery';\\nimport _ from 'lodash'\\nimport React, { useState, useEffect, useContext } from 'react';\\nimport { AppBar, Tabs, Tab, Typography, Box, Grid, Icon, CircularProgress, Card, Button } from '@material-ui/core'\\nimport { TreeView, TreeItem } from '@material-ui/lab';\\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\\nimport CodeFlyout from '../CodeFlyout';\\nimport rawSampleCode from '!!raw-loader!./ReportBuilder.js'; // eslint-disable-line import/no-webpack-loader-syntax\\nimport useStyles from './styles.js';\\nimport { TabPanel, a11yProps } from './helpers.js';\\nimport '../../Home.css';\\nimport { ApiHighlight, EmbedHighlight } from '../../Highlights/Highlight';\\nimport AppContext from '../../../contexts/AppContext';\\nimport { Loader } from '../../Accessories/Loader';\\n\\nimport { SwapVerticalCircleOutlined } from '@material-ui/icons';\\nconst { validIdHelper } = require('../../../tools');\\n\\n//start of ReportBuilder Component\\nexport default function ReportBuilder(props) {\\n\\n\\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall, isReady } = useContext(AppContext)\\n  const { userProfile, lookerUser, lookerHost } = clientSession;\\n\\n  const topBarBottomBarHeight = 112;\\n  const [iFrameExists, setIFrame] = useState(0);\\n  // const [exploreIFrameExists, setExploreIFrame] = useState(0);\\n  const [apiContent, setApiContent] = useState([]);\\n  const [exploreObj, setExploreObj] = useState({});\\n  const [clientSideCode, setClientSideCode] = useState('');\\n  const [serverSideCode, setServerSideCode] = useState('');\\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\\n\\n  const classes = useStyles();\\n  const [value, setValue] = useState(0);\\n  const [qid, setQid] = useState(null);\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type },\\n    //activeTabValue, handleTabChange, lookerUser, lookerHost \\n  } = props;\\n\\n  const demoComponentType = type;\\n  const tabContent = [...lookerContent]\\n\\n  const handleChange = (event, newValue) => {\\n    if (newValue == 1 && lookerUser.user_attributes.permission_level != 'premium') {\\n      // handleChange(0)\\n      setPaywallModal({\\n        'show': true,\\n        'permissionNeeded': 'explore'\\n      });\\n    } else {\\n      setValue(newValue)\\n    }\\n  };\\n\\n  useEffect(() => {\\n    if (isReady) {\\n      corsApiCall(performLookerApiCalls, [lookerContent, !value])\\n      setClientSideCode(rawSampleCode)\\n    }\\n  }, [lookerUser, value, isReady, value]);\\n\\n  useEffect(() => {\\n    window.addEventListener(\\\"resize\\\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\\n    setExpansionPanelHeight($('.MuiExpansionPanel-root:visible').innerHeight() || 0)\\n  })\\n\\n\\n  const action = async (contentType, contentId, secondaryAction, qid, exploreId, newReportEmbedContainer) => {\\n\\n    let iFrameArray = $(\\\".embedContainer:visible > iframe\\\")\\n\\n    let matchingIndex = 0;\\n    for (let i = 0; i < iFrameArray.length; i++) {\\n      if (iFrameArray[i].classList.contains(contentType) && iFrameArray[i].classList.contains(contentId)) {\\n        iFrameArray[i].classList.remove('dNone')\\n        matchingIndex = i;\\n      } else {\\n        iFrameArray[i].classList.add('dNone')\\n      }\\n    }\\n\\n    if (secondaryAction === 'edit' || secondaryAction === 'explore') {\\n      //save qid to state and use in perform looker api calls\\n      setQid(qid);\\n      handleChange('edit', 1)\\n    } else if (secondaryAction === 'delete') {\\n      //remove iframe associated with content that was deleted\\n      let indexOfDeletedContent;\\n      for (let i = 0; i < iFrameArray.length; i++) {\\n        if (iFrameArray[i].classList.contains(contentId)) {\\n          indexOfDeletedContent = i;\\n        }\\n      }\\n      let updatedIFrameArray = iFrameArray.slice()\\n      updatedIFrameArray.splice(indexOfDeletedContent, 1)\\n      for (let i = 0; i < updatedIFrameArray.length; i++) {\\n        if (i === 0) {\\n          updatedIFrameArray[i].classList.remove('dNone')\\n          matchingIndex = i;\\n        } else {\\n          updatedIFrameArray[i].classList.add('dNone')\\n        }\\n      }\\n      //append updated array\\n      $(`#embedContainer-reportbuilder-14`).empty();\\n      $(`#embedContainer-reportbuilder-14`).html(updatedIFrameArray);\\n\\n      let lookerResponse = await sdk.ok(sdk.delete_look(contentId));\\n      corsApiCall(performLookerApiCalls, [lookerContent, 1])\\n    }\\n  }\\n\\n  const performLookerApiCalls = function (lookerContent, animateLoad) {\\n    if (animateLoad) {\\n      handleChange('refresh', 0)\\n      setIFrame(0)\\n      setApiContent([])\\n    }\\n\\n    lookerContent.map(async lookerContent => {\\n      if (value === 0 &&\\n        lookerContent.type === 'folder') {\\n\\n        const sharedFolder = await sdk.ok(sdk.folder(lookerContent.id));\\n        const embedUser = await sdk.ok(sdk.me())\\n\\n        for (let h = 0; h < sharedFolder.looks.length; h++) {\\n          let look = await sdk.ok(sdk.look(sharedFolder.looks[h].id))\\n          let clientId = look.query.client_id;\\n          sharedFolder.looks[h].client_id = clientId;\\n        }\\n\\n        let embeddedUserFolder = {}\\n        if (lookerUser.user_attributes.permission_level === 'premium') {\\n          let embedUserLooks = await sdk.ok(sdk.search_looks({ user_id: embedUser.id }))\\n          if (embedUserLooks && embedUserLooks.length) {\\n            let embedUserFolderId = embedUserLooks[0].folder_id || null;\\n            embeddedUserFolder = await sdk.ok(sdk.folder(embedUserFolderId));\\n            for (let i = 0; i < embeddedUserFolder.looks.length; i++) {\\n              let look = await sdk.ok(sdk.look(embeddedUserFolder.looks[i].id));\\n              let clientId = look.query.client_id;\\n              embeddedUserFolder.looks[i].client_id = clientId;\\n            }\\n          }\\n        }\\n\\n        let lookerResponseData = {\\n          sharedFolder,\\n          embeddedUserFolder\\n        }\\n\\n        // console.log('lookerResponseData', lookerResponseData)\\n\\n        let looksToUse = [...lookerResponseData.sharedFolder.looks];\\n        if (lookerUser.user_attributes.permission_level === 'premium' &&\\n          Object.keys(lookerResponseData.embeddedUserFolder).length) {\\n          looksToUse = [\\n            ...looksToUse, ...lookerResponseData.embeddedUserFolder.looks\\n          ]\\n\\n        }\\n        let dashboardsToUse = [...lookerResponseData.sharedFolder.dashboards]\\n        let objToUse = {\\n          looks: looksToUse,\\n          dashboards: dashboardsToUse\\n        }\\n        // console.log('objToUse', objToUse)\\n        let iFrameArray = $(`.embedContainer.${validIdHelper(demoComponentType)} > iframe`);\\n        if (objToUse.looks.length) {\\n          objToUse.looks.map((item, index) => {\\n\\n            let lookId = item.id;\\n            let lookIsRendered = false;\\n            for (let i = 0; i < iFrameArray.length; i++) {\\n              if (iFrameArray[i].classList.contains('look') && iFrameArray[i].classList.contains(lookId)) {\\n                lookIsRendered = true;\\n              }\\n            }\\n\\n            if (!lookIsRendered) {\\n              LookerEmbedSDK.createLookWithId(lookId)\\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\\n                .withClassName('iframe')\\n                .withClassName('look')\\n                .withClassName(lookerResponseData.sharedFolder.looks.indexOf(item) > -1 ? \\\"shared\\\" : \\\"personal\\\")\\n                .withClassName(index > 0 ? 'dNone' : 'oops')\\n                .withClassName(lookId)\\n                .build()\\n                .connect()\\n                .then((look) => {\\n                  // setIFrame(1)\\n                  LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\\n\\n\\n                })\\n                .catch((error) => {\\n                  console.error('Connection error', error)\\n                })\\n            }\\n\\n            if (index === objToUse.looks.length - 1) {\\n              setTimeout(() => setIFrame(1), 1000)\\n            }\\n          })\\n        }\\n\\n        if (objToUse.dashboards.length) {\\n          objToUse.dashboards.map((item, index) => {\\n            let dashboardId = item.id\\n            let dashboardIsRendered = false;\\n            for (let i = 0; i < iFrameArray.length; i++) {\\n              if (iFrameArray[i].classList.contains('dashboard') && iFrameArray[i].classList.contains(dashboardId)) {\\n                dashboardIsRendered = true;\\n              }\\n            }\\n            if (!dashboardIsRendered) {\\n              LookerEmbedSDK.createDashboardWithId(dashboardId)\\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\\n                .withClassName('iframe')\\n                .withClassName('dashboard')\\n                .withClassName(lookerResponseData.sharedFolder.dashboards.indexOf(item) > -1 ? \\\"shared\\\" : \\\"personal\\\")\\n                .withClassName('dNone')\\n                .withClassName(dashboardId)\\n                .build()\\n                .connect()\\n                .then((dashboard) => {\\n                  setTimeout(() => {\\n                    // setIFrame(1)\\n                  }, 1000)\\n                  LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\\n\\n                })\\n                .catch((error) => {\\n                  console.error('Connection error', error)\\n                })\\n            }\\n\\n\\n            if (index === objToUse.dashboards.length - 1) {\\n              setTimeout(() => setIFrame(1), 1000)\\n            }\\n          })\\n        }\\n        setApiContent(objToUse)\\n      } else if (lookerContent.type === 'explore' &&\\n        lookerUser.user_attributes.permission_level === 'premium' &&\\n        value === 1) {\\n        // console.log('inside else ifff')\\n        let exploreId = lookerContent.id;\\n        // console.log('exploreId', exploreId)\\n        $(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`)).html('');\\n        //separate logic for embedding explore with qid vs. no qid\\n        if (qid) {\\n          // console.log('qid ifff')\\n          LookerEmbedSDK.createExploreWithId(exploreId)\\n            .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\\n            .withClassName('exploreIframe')\\n            .withParams({\\n              qid: qid\\n            })\\n            .on('explore:state:changed', (event) => {\\n            })\\n            .build()\\n            .connect()\\n            .then((explore) => {\\n              console.log('explore', explore)\\n              // setTimeout(() => {\\n              setIFrame(1)\\n              setExploreObj(explore)\\n              // }, 1000)\\n              LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\\n\\n              setQid(null)\\n            })\\n            .catch((error) => {\\n              console.error('Connection error', error)\\n            })\\n        } else {\\n          // console.log('qid else')\\n          LookerEmbedSDK.createExploreWithId(exploreId)\\n            .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\\n            .withClassName('exploreIframe')\\n            .on('explore:state:changed', (event) => {\\n            })\\n            .build()\\n            .connect()\\n            .then((explore) => {\\n              // console.log('explore', explore)\\n              // setTimeout(() => {\\n              setIFrame(1)\\n              setExploreObj(explore)\\n              // }, 1000)\\n              LookerEmbedSDK.init(`${clientSession.lookerBaseUrl}`);\\n\\n              // setQid(null)\\n            })\\n            .catch((error) => {\\n              console.error('Connection error', error)\\n            })\\n        }\\n      }\\n      // else console.log('ellse')\\n    })\\n  }\\n\\n  return (\\n    <div className={`${classes.root} demoComponent`}\\n      style={{ height }}>\\n      <Card elevation={1} className={`\\n      ${classes.padding30} \\n      ${classes.height100Percent}\\n      ${classes.overflowYScroll}`\\n      }\\n      >\\n        <Grid container\\n          key={validIdHelper(type)} >\\n          <div className={classes.root}>\\n            {iFrameExists ? '' :\\n\\n              <Loader classes={classes}\\n                height={height}\\n                expansionPanelHeight={expansionPanelHeight} />\\n            }\\n\\n            {/* additional loading logic, need embedContainer to exist but want it hidden until iFrame has content...*/}\\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\\n              <AppBar position=\\\"static\\\" elevation={0}>\\n                <Tabs\\n                  className={classes.tabs}\\n                  value={value}\\n                  onChange={handleChange}\\n                  aria-label=\\\"simple tabs example\\\">\\n                  {tabContent.map((item, index) => (\\n                    <Tab\\n                      key={`${validIdHelper(demoComponentType + '-tab-' + index)}`}\\n                      label={index == 1 ?\\n                        <div>\\n\\n                          {lookerUser.user_attributes.permission_level != 'premium' ?\\n                            <Icon className={`fa fa-lock ${classes.faSm} ${classes.mr12}`} /> : <Icon className={`fa fa-plus ${classes.faSm} ${classes.mr12}`} />}\\n                          {item.label}\\n                        </div> :\\n                        item.label}\\n                      className={value === 1 && index === 1 ? `${classes.hidden}` : index == 1 ? `${classes.mlAuto}` : ``}\\n                      style={index === 1 ? {\\n                        backgroundColor: '#5896E6',\\n                        borderRadius: '4px',\\n                        color: '#fff',\\n                        opacity: '1.0'\\n                      } : {}}\\n                      {...a11yProps(index)} />\\n                  ))}\\n                </Tabs>\\n              </AppBar>\\n              <Box className=\\\"tabPanelContainer\\\">\\n                <Grid container\\n                  spacing={3}\\n                  className={`${classes.noContainerScroll}`}>\\n                  {codeShow ?\\n                    <Grid item sm={6}\\n                      className={`${classes.positionFixedTopRight}`}\\n                    >\\n                      <CodeFlyout {...props}\\n                        classes={classes}\\n                        lookerUser={lookerUser}\\n                        height={height}\\n                      />\\n                    </Grid> : ''}\\n                  {tabContent.map((tabContentItem, tabContentItemIndex) => (\\n                    <TabPanel\\n                      key={`${validIdHelper(demoComponentType + '-tabPanel-' + tabContentItemIndex)}`}\\n                      value={value}\\n                      index={tabContentItemIndex}\\n                      style={{ width: '100%' }} //weird\\n                    >\\n                      <Grid container>\\n                        {\\n                          tabContentItemIndex === 0\\n                            ?\\n                            <React.Fragment\\n                              key={`${validIdHelper(demoComponentType + '-outerFragment-' + tabContentItemIndex)}`}>\\n                              <Grid item sm={4} >\\n                                <ApiHighlight height={500} classes={classes}>\\n                                  <TreeSideBar {...{\\n                                    setPaywallModal,\\n                                    classes,\\n                                    demoComponentType,\\n                                    tabContent,\\n                                    tabContentItemIndex,\\n                                    action,\\n                                    apiContent,\\n                                    ...props\\n                                  }}\\n                                  />\\n                                </ApiHighlight>\\n                              </Grid>\\n                              <Grid item sm={8} >\\n                                <EmbedHighlight classes={classes}>\\n                                  <div\\n                                    className={`embedContainer ${validIdHelper(demoComponentType)}`}\\n                                    id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                                    key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                                  >\\n                                  </div>\\n                                </EmbedHighlight>\\n                              </Grid>\\n                            </React.Fragment>\\n                            :\\n                            <Grid item sm={12} >\\n                              {/* couldn't get this to work */}\\n                              {/* {Object.keys(exploreObj).length ?\\n                                <EmbedHighlight classes={classes}>\\n                                  <div\\n                                    className=\\\"embedContainer\\\"\\n                                    id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                                    key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                                  >\\n                                  </div>\\n                                </EmbedHighlight> :\\n                                <Card className={`${classes.card} ${classes.flexCentered}`}\\n                                  elevation={0}\\n                                  mt={2}\\n                                  style={{ height: height - 30 - ($('.MuiExpansionPanel-root:visible').innerHeight() || 0) }}>\\n                                  <CircularProgress className={classes.circularProgress} />\\n                                </Card>} */}\\n                              <EmbedHighlight classes={classes}>\\n                                <div\\n                                  className=\\\"embedContainer\\\"\\n                                  id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                                  key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                                >\\n                                </div>\\n                              </EmbedHighlight>\\n                            </Grid>\\n                        }\\n                      </Grid>\\n                    </TabPanel>\\n                  ))}</Grid>\\n              </Box>\\n            </Box >\\n          </div>\\n        </Grid >\\n      </Card>\\n    </div >\\n  )\\n}\\n\\n\\nfunction TreeSideBar(props) {\\n\\n\\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall } = useContext(AppContext)\\n  const { userProfile, lookerUser, lookerHost } = clientSession\\n\\n  const { staticContent, staticContent: { lookerContent }, classes, demoComponentType, tabContent, tabContentItemIndex, action, apiContent,\\n    //lookerUser, setPaywallModal\\n  } = props\\n  const sharedFolderId = lookerContent[0].type === 'folder' ? lookerContent[0].id : '';\\n  let treeCounter = 0;\\n  const [selected, setSelected] = useState(2);\\n  const expandedArr = Object.keys(apiContent).length ? [\\\"1\\\", \\\"\\\" + (2 + apiContent[Object.keys(apiContent)[0]].length)] : [];\\n  const [expanded, setExpanded] = useState(expandedArr);\\n\\n  const handleToggle = (event, nodeIds) => {\\n    setExpanded(nodeIds);\\n  }\\n\\n  const handleSelect = (event, nodeIds) => {\\n    setSelected(nodeIds);\\n  };\\n\\n\\n  useEffect(() => {\\n    setExpanded(expandedArr);\\n    if (selected !== 2) setSelected(2)\\n    // let innerTreeItemArray = $(\\\".innerTreeItem\\\");\\n    // console.log('innerTreeItemArray', innerTreeItemArray)\\n    // for (let i = 0; i < innerTreeItemArray.length; i++) {\\n    //   console.log('inside forrr', i)\\n    //   if (innerTreeItemArray[i].classList.contains('Mui-selected')) {\\n    //     console.log('inside iffff')\\n    //     innerTreeItemArray[i].classList.remove('Mui-selected')\\n    //   } else console.log('elllse')\\n    // }\\n  }, [apiContent]);\\n\\n\\n  return (\\n    <TreeView\\n      className={classes.tree}\\n      defaultCollapseIcon={<ExpandMoreIcon />}\\n      defaultExpandIcon={<ChevronRightIcon />}\\n      expanded={expanded}\\n      onNodeToggle={handleToggle}\\n      onNodeSelect={handleSelect}\\n    // multiSelect={false}\\n    >\\n      {apiContent ? Object.keys(apiContent).map((key, outerIndex) => (\\n        <React.Fragment\\n          key={`${validIdHelper(demoComponentType + '-innerFragment-' + outerIndex)}`}>\\n          <TreeItem\\n            key={`${validIdHelper(demoComponentType + '-outerTreeItem-' + outerIndex)}`}\\n            nodeId={\\\"\\\" + (treeCounter += 1)}\\n            // treecounter={treeCounter}\\n            label={_.capitalize(key)}\\n            icon={<Icon className={`fa fa-folder ${classes.icon}`} />}\\n            disabled={apiContent[key].length ? false : true}\\n          >\\n            {\\n              apiContent[key].length ?\\n                apiContent[key].map((item, index) => (\\n                  <TreeItem\\n                    key={`${validIdHelper(demoComponentType + '-innerTreeItem-' + treeCounter)}`}\\n                    nodeId={\\\"\\\" + (treeCounter += 1)}\\n                    treecounter={treeCounter}\\n                    selected={selected === treeCounter}\\n                    className={selected === treeCounter ? `Mui-selected innerTreeItem ${classes.whiteSpaceNoWrap}` : `innerTreeItem ${classes.whiteSpaceNoWrap}`}\\n                    contentid={item.id}\\n                    label={item.folder_id === sharedFolderId &&\\n                      key === 'looks' ?\\n                      <div\\n                        id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\\n                        key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\\n                        className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}\\n                      >\\n                        {/* {item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title} */}\\n                        <Grid container>\\n                          <Grid item sm={8} className={`${classes.overflowHidden}`}>\\n                            {item.title}</Grid>\\n                          <Grid item sm={4}>\\n                            <Button\\n                              id={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\\n                              key={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\\n                              size=\\\"small\\\"\\n                              className={`${classes.ml12} ${classes.childHoverVisibility}`}\\n                              onClick={(event) => {\\n                                if (lookerUser.user_attributes.permission_level === 'premium') {\\n                                  action(\\n                                    key.substring(0, key.length - 1),\\n                                    item.id,\\n                                    'explore',\\n                                    item.client_id,\\n                                    tabContent[tabContentItemIndex + 1].id,\\n                                    validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\\n                                  );\\n                                  event.stopPropagation();\\n                                } else {\\n                                  // setPaywallModal();\\n\\n                                  setPaywallModal({\\n                                    'show': true,\\n                                    'permissionNeeded': 'explore'\\n                                  });\\n                                }\\n                              }\\n                              }\\n                              color=\\\"default\\\"\\n                            >\\n                              {lookerUser.user_attributes.permission_level === 'premium' ? 'Explore' : <div> <Icon className={`fa fa-lock ${classes.faSm} ${classes.mr12}`} />Explore</div>}\\n                            </Button>\\n                          </Grid>\\n                        </Grid>\\n\\n\\n                      </div>\\n                      : key === 'looks' ?\\n                        <div\\n                          id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\\n                          key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\\n                          className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}>\\n                          <Grid container>\\n                            <Grid item sm={6} className={`${classes.overflowHidden}`}>\\n                              {/* {item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title} */}\\n                              {item.title}\\n                            </Grid>\\n                            <Grid item sm={6}>\\n                              <Button\\n                                id={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\\n                                key={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\\n                                size=\\\"small\\\"\\n                                className={`${classes.ml12} ${classes.childHoverVisibility}`}\\n                                onClick={(event) => {\\n                                  if (lookerUser.user_attributes.permission_level === 'premium') {\\n                                    // setSelected(treeCounter);\\n                                    action(\\n                                      key.substring(0, key.length - 1),\\n                                      item.id,\\n                                      'edit',\\n                                      item.client_id,\\n                                      tabContent[tabContentItemIndex + 1].id,\\n                                      validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\\n                                    );\\n                                    event.stopPropagation();\\n                                  } else {\\n                                    // setPaywallModal();\\n\\n                                    setPaywallModal({\\n                                      'show': true,\\n                                      'permissionNeeded': 'explore'\\n                                    });\\n                                  }\\n                                }\\n                                }\\n                                color=\\\"primary\\\"\\n                              >\\n                                Edit\\n                                                                                            </Button>\\n                              <Button\\n                                id={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\\n                                key={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\\n                                size=\\\"small\\\"\\n                                className={`${classes.ml12} ${classes.childHoverVisibility}`}\\n                                onClick={(event) => {\\n                                  if (lookerUser.user_attributes.permission_level === 'premium') {\\n                                    // setSelected(treeCounter);\\n                                    action(\\n                                      key.substring(0, key.length - 1),\\n                                      item.id,\\n                                      'delete',\\n                                      item.client_id,\\n                                      tabContent[tabContentItemIndex + 1].id,\\n                                      validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\\n                                    );\\n                                    event.stopPropagation();\\n                                  } else {\\n                                    // setPaywallModal();\\n\\n                                    setPaywallModal({\\n                                      'show': true,\\n                                      'permissionNeeded': 'explore'\\n                                    });\\n                                  }\\n                                }\\n                                }\\n                                color=\\\"secondary\\\"\\n                              >\\n                                Delete\\n                                                                                            </Button>\\n                            </Grid>\\n                          </Grid>\\n\\n                        </div>\\n                        : <Grid container><Grid item sm={12}>{item.title}</Grid></Grid>\\n                    }\\n                    onClick={() => {\\n                      // setSelected(treeCounter)\\n                      action(\\n                        key.substring(0, key.length - 1), item.id)\\n                    }} />\\n\\n                ))\\n                :\\n                ''\\n            }\\n          </TreeItem>\\n\\n        </React.Fragment>\\n      )) : ''}\\n    </TreeView>\\n  )\\n}\";","import { makeStyles } from '@material-ui/core/styles';\nimport { grey, orange } from '@material-ui/core/colors';\n\nconst greyPrimary = grey[400];\nconst greySecondary = grey[100];\nconst orangePrimary = orange[400];\nconst orangeSecondary = orange[100];\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    overflow: 'scroll',\n    borderRadius: '8px'\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  // table: {\n  //   minWidth: 650,\n  // },\n  // tableContainer: {\n  //   maxHeight: 650,\n  // },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  card: {\n    minWidth: 275,\n    minHeight: 400\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  bluePrimary: {\n    backgroundColor: 'rgba(69, 149, 236, 1)'\n  },\n  blueSecondary: {\n    backgroundColor: 'rgba(69, 149, 236, .5)',\n  },\n  orangePrimary: {\n    backgroundColor: 'rgba(243, 167, 89, 1)'\n  },\n  orangeSecondary: {\n    backgroundColor: 'rgba(243, 167, 89, .5)'\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  bottomBarSpacer: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  maxHeight600: {\n    maxHeight: 600,\n    overflow: 'scroll'\n  },\n  padding30: {\n    padding: 30\n  },\n  m12: {\n    margin: 12\n  },\n  m6: {\n    margin: 6\n  },\n  height100Percent: {\n    height: '100%',\n    overflow: 'scroll'\n  },\n  padding20: {\n    padding: 20\n  },\n  positionFixedTopRight: {\n    position: 'fixed',\n    top: 88,\n    right: 24,\n    bottom: 0,\n    zIndex: 100,\n  },\n  codeFlyoutContainer: {\n    backgroundColor: 'rgb(40, 42, 54)',\n    overflow: 'scroll',\n    borderRadius: '0 8px 8px 0'\n  },\n  padding10: {\n    padding: 10\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  overflowYScroll: {\n    overflowY: 'scroll',\n    overflowX: 'hidden'\n  },\n  noContainerScroll: {\n    width: '100%',\n    margin: 0\n  }\n}));","import React from 'react';\nimport { Typography, Box } from '@material-ui/core'\nimport PropTypes from 'prop-types';\n\nexport function TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            <Box p={3}>{children}</Box>\n        </Typography>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nexport function a11yProps(index) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\n\nexport function descendingComparator(a, b, orderBy) {\n    if (a[orderBy] && b[orderBy] && b[orderBy].value < a[orderBy].value) {\n        return -1;\n    }\n    if (a[orderBy] && b[orderBy] && b[orderBy].value > a[orderBy].value) {\n        return 1;\n    }\n    return 0;\n}\n\nexport function getComparator(order, orderBy) {\n    return order === 'desc'\n        ? (a, b) => descendingComparator(a, b, orderBy)\n        : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n}","import $ from 'jquery';\nimport _ from 'lodash';\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  AppBar, Tabs, Tab, Typography, Box, Grid, Icon, CircularProgress, Card, Button,\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, InputLabel, MenuItem, FormControl,\n  Select, Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow,\n  TableSortLabel, FormControlLabel, Switch, Chip, Divider\n} from '@material-ui/core'\nimport { ExpandMore, Search, Done } from '@material-ui/icons';\nimport CodeFlyout from '../CodeFlyout';\nimport rawSampleCode from '!!raw-loader!./QueryBuilder.js'; // eslint-disable-line import/no-webpack-loader-syntax\nimport useStyles from './styles.js';\nimport { ApiHighlight } from '../../Highlights/Highlight';\nimport { TabPanel, a11yProps, descendingComparator, getComparator, stableSort } from './helpers.js';\nimport AppContext from '../../../contexts/AppContext';\nimport { lookerUserTimeHorizonMap } from '../../../LookerHelpers/defaults';\nimport { Loader } from '../../Accessories/Loader';\n\n\nconst { validIdHelper, prettifyString } = require('../../../tools');\n\nexport default function QueryBuilder(props) {\n  // console.log('QueryBuilder')\n\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession\n\n\n  const topBarBottomBarHeight = 112;\n  const sideBarWidth = 240 + 152; //24 + 24 + 30 + 30 + 12 + 12 + 10 + 10\n  const [value, setValue] = useState(0);\n  const [apiContent, setApiContent] = useState({});\n  const [clientSideCode, setClientSideCode] = useState('');\n  const [serverSideCode, setServerSideCode] = useState('');\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const [width, setWidth] = useState((window.innerWidth - sideBarWidth));\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\n\n  const classes = useStyles();\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, } = props;\n\n\n  // const handleChange = (event, newValue) => {\n  //   handleTabChange(0);\n  //   setValue(newValue);\n  // };\n\n  useEffect(() => {\n    // call this is filterBar instead to make field chip dynamic\n    // lookerContent.map(lookerContent => {\n    //   setTimeout(() => performLookerApiCalls(lookerContent.queryBody, lookerContent.resultFormat), 100);\n    // })\n    setClientSideCode(rawSampleCode);\n    // setApiContent([])\n  }, [lookerContent, lookerUser])\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => {\n      setHeight((window.innerHeight - topBarBottomBarHeight))\n      setWidth((window.innerWidth - sideBarWidth))\n      setExpansionPanelHeight($('.MuiExpansionPanel-root:visible').innerHeight() || 0)\n\n    });\n  })\n\n\n  const performLookerApiCalls = async (newQuery, resultFormat) => {\n    let apiContentCopy = { ...apiContent }\n    apiContentCopy.status = 'running';\n    setApiContent(apiContentCopy)\n\n    let timer = Date.now();\n\n    let lookerCreateQueryResponseData = await sdk.ok(sdk.create_query(newQuery))\n    let lookerCreateTaskResponseData = await sdk.ok(sdk.create_query_task({\n      body: {\n        query_id: lookerCreateQueryResponseData.id,\n        result_format: resultFormat || 'json_detail'//lookerContent[0].resultFormat || 'json'\n      }\n    }))\n\n    let taskInterval = setInterval(async () => {\n      let lookerCheckTaskResponseData = await sdk.ok(sdk.query_task_results(lookerCreateTaskResponseData.id, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }));\n\n      if (lookerCheckTaskResponseData.status === 'complete') {\n        clearInterval(taskInterval);\n        setApiContent(lookerCheckTaskResponseData)\n        // setServerSideCode(lookerCreateTaskResponseData.code)\n      }\n\n      //time out after 30 seconds\n      if ((timer + (30 * 1000)) < Date.now()) {\n        clearInterval()\n        setApiContent([])\n      }\n    }, 1000)\n  }\n\n  return (\n    <div className={`${classes.root} demoComponent`}\n      style={{ height }}>\n      <Card elevation={1} className={`\n      ${classes.padding30} \n      ${classes.height100Percent}\n      ${classes.overflowYScroll}`\n      }\n      >\n        <Grid container\n          key={validIdHelper(type)} >\n          <div className={`${classes.root}`}>\n            <Grid item sm={12}>\n              <FilterBar {...props}\n                classes={classes}\n                action={performLookerApiCalls}\n                corsApiCall={corsApiCall}\n              />\n            </Grid>\n            {apiContent.status === 'running' ?\n\n              <Loader classes={classes}\n                height={height}\n                expansionPanelHeight={expansionPanelHeight} />\n\n              : apiContent.data && apiContent.data.length ?\n                <Box>\n                  <Grid container\n                    spacing={3}\n                    className={`${classes.noContainerScroll}`}>\n                    {codeShow ?\n                      <Grid item sm={6}\n                        className={`${classes.positionFixedTopRight}`}\n                      >\n                        <CodeFlyout {...props}\n                          classes={classes}\n                          lookerUser={lookerUser}\n                          height={height}\n                        />\n                      </Grid> : ''}\n                    <Divider className={classes.divider} />\n                    <Grid item sm={12}>\n                      <Box className={`${classes.w100}`} mt={2}>\n                        < EnhancedTable\n                          {...props}\n                          classes={classes}\n                          rows={apiContent.data}\n                          lookerContent={lookerContent}\n                          width={width}\n                        />\n                      </Box>\n                    </Grid>\n                  </Grid>\n                </Box>\n                :\n                <Grid item sm={12} >\n                  <Typography variant=\"h6\" component=\"h6\" className={`${classes.gridTitle} ${classes.textCenter}`}>\n                    No results found, try a new query<br />\n                  </Typography>\n                </Grid>\n            }\n          </div >\n        </Grid >\n      </Card>\n    </div >\n  )\n}\n/**\n * seems inconsistent that filterbar performs performLookerApiCalls here??\n */\n\nfunction FilterBar(props) {\n  // console.log('FilterBar');\n\n\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall, isReady } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession\n\n  const { staticContent, staticContent: { lookerContent }, classes, action, //lookerUser, corsApiCall \n  } = props;\n\n\n\n  let measureCounter = 0;\n  let dimensionCounter = 0;\n\n\n  const initializeFieldChipDataHelper = () => {\n    let initializedFields = lookerContent[0].queryBody.fields.map((item, index) => {\n      return {\n        key: 'fieldChipData' + index,\n        label: prettifyString(item.substring(item.lastIndexOf('.') + 1, item.length)),\n        datalabel: item,\n        selected: item === 'users.state' || item === 'users.country' || item === 'order_items.total_sale_price' ? true : false,\n        fieldType: lookerContent[0].fieldType[item]\n      }\n    })\n    return initializedFields;\n  }\n\n  const [expanded, setExpanded] = useState(true);\n  const [fieldsChipData, setFieldsChipData] = useState(lookerContent[0].queryBody ? initializeFieldChipDataHelper() : '');\n  const [queryModified, setQueryModified] = useState(true); //set to true initially\n  const [queryShouldRun, setQueryShouldRun] = useState(false); //for lookerUser useEffect\n  const [filtersData, setFilterData] = useState(lookerContent[0].queryBody ? Object.keys(lookerContent[0].queryBody.filters).map((key, index) => {\n    return {\n      key: 'filter' + index,\n      label: key,\n      value: lookerContent[0].queryBody.filters[key],\n      type: lookerContent[0].filterType[key]\n    }\n  }) : '')\n\n  const handleExpansionPanel = (event, newValue) => {\n    setExpanded(expanded ? false : true);\n  };\n\n  const handleFieldChipClick = (chip, index) => {\n    let updatedFieldsChipData = [...fieldsChipData]\n    updatedFieldsChipData[index].selected = updatedFieldsChipData[index].selected === false ? true : false\n    setFieldsChipData(updatedFieldsChipData)\n    setQueryModified(true)\n  }\n\n  const handleSelectChange = (index, newValue) => {\n    let updatedFiltersData = [...filtersData]\n    updatedFiltersData[index].value = newValue;\n    setFilterData(updatedFiltersData)\n    setQueryModified(true)\n  }\n\n  const handleQuerySubmit = (event) => {\n    if (queryModified || queryShouldRun) {\n      let newFields = fieldsChipData.filter(chip => chip.selected).map(item => item.datalabel);\n      let currentFilters = {}; //needs to be object\n      filtersData.map((item, index) => {\n        currentFilters[item.label] = item.value\n      })\n      let newQueryObj = { ...lookerContent[0].queryBody };\n      newQueryObj.fields = newFields;\n      newQueryObj.filters = currentFilters;\n\n      corsApiCall(action, [newQueryObj, lookerContent[0].resultFormat]);\n\n      setQueryModified(false)\n      setQueryShouldRun(false)\n    } //else console.log('elllse')\n  }\n\n\n\n  useEffect(() => {\n    // console.log('useEffect lookerUser')\n    if (isReady) {\n      let updatedFiltersData = [...filtersData]\n      updatedFiltersData[3].value = lookerUserTimeHorizonMap[lookerUser.user_attributes.permission_level] || \"182 days\";\n      setFilterData(updatedFiltersData);\n      setFieldsChipData(initializeFieldChipDataHelper())\n\n      setQueryShouldRun(true);\n\n    }\n  }, [lookerUser, isReady]);\n\n  useEffect(() => {\n    // console.log('useEffect queryShouldRun')\n    if (queryShouldRun) {\n      handleQuerySubmit();\n      setQueryModified(false);\n      setQueryShouldRun(false);\n    }\n  }, [queryShouldRun])\n\n\n  const datePermissionMap = {\n    'basic': [\"1 week\", \"1 month\", \"3 months\", \"last 182 days\"]\n  }\n  datePermissionMap.advanced = [...datePermissionMap.basic, \"last 365 days\"]\n  datePermissionMap.premium = [...datePermissionMap.advanced, \"last 730 days\"]\n\n  return (\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} elevation={0}>\n      <ExpansionPanelSummary\n        expandIcon={<ExpandMore />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <Search /><Typography className={`${classes.heading} ${classes.ml12}`}>Build Query:</Typography>\n        {/* <Typography className={classes.heading}>Build Query:</Typography> */}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <Grid container spacing={3}>\n          <Grid item sm={12}>\n            <Typography variant=\"subtitle1\">\n              Select Metrics:\n      {fieldsChipData.length ?\n                fieldsChipData.map((item, index) => {\n                  return (\n                    item.fieldType === 'measure' ?\n                      <Chip\n                        key={item.label}\n                        // key={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\n                        measurecounter={measureCounter += 1}\n                        className={item.selected ? `${classes.orangePrimary} ${classes.m6}` : `${classes.m6}`}\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\n                        datalabel={item.label}\n                        onClick={() => handleFieldChipClick(item, index)}\n                        icon={item.selected ? <Done className={classes.dBlock} /> : <Done className={classes.dNone} />}\n                      /> : ''\n                  )\n                }) : ''\n              }<br />\n            </Typography>\n          </Grid>\n          <Grid item sm={12}>\n            <Typography variant=\"subtitle1\">\n              Group By:\n                          {fieldsChipData.length ?\n                fieldsChipData.map((item, index) => {\n                  return (\n                    item.fieldType === 'dimension' ?\n                      <Chip\n                        key={item.label}\n                        dimensioncounter={dimensionCounter += 1}\n                        className={item.selected ? `${classes.bluePrimary} ${classes.m6}` : `${classes.m6}`}\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\n                        datalabel={item.label}\n                        onClick={() => handleFieldChipClick(item, index)}\n                        icon={item.selected ? <Done className={classes.dBlock} /> : <Done className={classes.dNone} />}\n                      /> : ''\n                  )\n                }) : ''\n              }<br />\n            </Typography>\n          </Grid>\n\n          <Grid item sm={3}>\n            <Typography variant=\"subtitle1\">\n              Filter By:\n                      </Typography>\n            {filtersData.length ? filtersData.map((item, index) => {\n              return (\n                <FormControl className={item.value.length ? classes.formControl : classes.hidden} key={validIdHelper(`${item.label}FormControl`)}>\n                  {\n                    item.type === 'yesno' ?\n                      <>\n                        <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\n                        <Select\n                          labelId={validIdHelper(`${item.label}FilterLabel`)}\n                          id={validIdHelper(`${item.label}FilterSelect`)}\n                          value={item.value}\n                          onChange={(event) => handleSelectChange(index, event.target.value)}\n                        >\n                          <MenuItem value=\"Yes\">Yes</MenuItem>\n                          <MenuItem value=\"No\">No</MenuItem>\n                          <MenuItem value=\"All\">All</MenuItem>\n                        </Select>\n                      </>\n                      : item.type === 'date' ?\n                        <>\n                          <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\n\n                          <Select\n                            labelId={validIdHelper(`${item.label}FilterLabel`)}\n                            id={validIdHelper(`${item.label}FilterSelect`)}\n                            value={item.value || '6 months'}\n                            onChange={(event) => handleSelectChange(index, event.target.value)}\n                          >\n                            {lookerUser.user_attributes.permission_level ? datePermissionMap[lookerUser.user_attributes.permission_level].map(item => (\n                              <MenuItem key={validIdHelper(item)} value={item}>{_.capitalize(item)}</MenuItem>\n                            )) : ''}\n                          </Select>\n                        </>\n                        : ''\n                  }\n                </FormControl>\n              )\n            }) : ''}\n          </Grid>\n          <Grid item sm={9}>\n            <br />\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              size=\"large\"\n              onClick={handleQuerySubmit}\n              disabled={queryModified ? false : true}\n            >Run Query</Button></Grid>\n        </Grid>\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  )\n}\n\nfunction EnhancedTableHead(props) {\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, rows } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {Object.keys(rows[0]).map((key, index) => (\n          <TableCell\n            key={validIdHelper(key + '-TableHead-TableCell-' + index)}\n            id={validIdHelper(key + '-TableHead-TableCell-' + index)}\n            align={key.numeric ? 'right' : 'left'}\n            padding={key.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === key ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === key}\n              direction={orderBy === key ? order : 'asc'}\n              onClick={createSortHandler(key)}\n            >\n              {prettifyString(key.substring(key.lastIndexOf('.') + 1, key.length))}\n              {orderBy === key ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  // numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  // onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nfunction EnhancedTable(props) {\n  const { rows, classes, lookerContent, width } = props;\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState(Object.keys(rows[0])[0]);\n  const [page, setPage] = React.useState(0);\n  const [dense, setDense] = React.useState(true);\n  const [rowsPerPage, setRowsPerPage] = React.useState(25);\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const handleChangeDense = (event) => {\n    setDense(event.target.checked);\n  };\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n  return (\n    <div className={`${classes.root} ${classes.padding10}`}>\n      <ApiHighlight classes={classes} >\n        <TableContainer style={{ maxWidth: width }}>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size={dense ? 'small' : 'medium'}\n            aria-label=\"enhanced table\"\n          >\n            <EnhancedTableHead\n              {...props}\n              classes={classes}\n              order={order}\n              orderBy={orderBy}\n              onRequestSort={handleRequestSort}\n              rowCount={rows.length}\n            />\n            <TableBody>\n              {stableSort(rows, getComparator(order, orderBy))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, index) => {\n                  return (\n                    <TableRow\n                      hover\n                      key={validIdHelper('TableRow-' + index)}\n                      id={validIdHelper('TableRow-' + index)}>\n                      {Object.keys(row).map((key, index) => (\n                        <TableCell\n                          key={validIdHelper(key + '-TableBody-TableCell-' + index)}\n                          id={validIdHelper(key + '-TableBody-TableCell-' + index)}\n                          className={lookerContent[0].fieldType[key] === 'dimension' ? classes.blueSecondary : classes.orangeSecondary}\n                          align=\"right\">\n                          {row[key].rendered ? row[key].rendered : row[key].value}\n                        </TableCell>\n                      ))}\n                    </TableRow>\n                  );\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </ApiHighlight>\n      <Grid container>\n        <Grid item sm={6}>\n          <FormControlLabel\n            control={<Switch checked={dense} onChange={handleChangeDense} />}\n            label=\"Compact\"\n          /></Grid>\n        <Grid item sm={6}>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 25, 50]}\n            component=\"div\"\n            count={rows.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          /></Grid>\n      </Grid>\n      <div className={classes.bottomBarSpacer} />\n    </div>\n  );\n}","export default \"import $ from 'jquery';\\nimport _ from 'lodash';\\nimport React, { useState, useEffect, useContext } from 'react';\\nimport PropTypes from 'prop-types';\\nimport {\\n  AppBar, Tabs, Tab, Typography, Box, Grid, Icon, CircularProgress, Card, Button,\\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, InputLabel, MenuItem, FormControl,\\n  Select, Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow,\\n  TableSortLabel, FormControlLabel, Switch, Chip, Divider\\n} from '@material-ui/core'\\nimport { ExpandMore, Search, Done } from '@material-ui/icons';\\nimport CodeFlyout from '../CodeFlyout';\\nimport rawSampleCode from '!!raw-loader!./QueryBuilder.js'; // eslint-disable-line import/no-webpack-loader-syntax\\nimport useStyles from './styles.js';\\nimport { ApiHighlight } from '../../Highlights/Highlight';\\nimport { TabPanel, a11yProps, descendingComparator, getComparator, stableSort } from './helpers.js';\\nimport AppContext from '../../../contexts/AppContext';\\nimport { lookerUserTimeHorizonMap } from '../../../LookerHelpers/defaults';\\nimport { Loader } from '../../Accessories/Loader';\\n\\n\\nconst { validIdHelper, prettifyString } = require('../../../tools');\\n\\nexport default function QueryBuilder(props) {\\n  // console.log('QueryBuilder')\\n\\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall } = useContext(AppContext)\\n  const { userProfile, lookerUser, lookerHost } = clientSession\\n\\n\\n  const topBarBottomBarHeight = 112;\\n  const sideBarWidth = 240 + 152; //24 + 24 + 30 + 30 + 12 + 12 + 10 + 10\\n  const [value, setValue] = useState(0);\\n  const [apiContent, setApiContent] = useState({});\\n  const [clientSideCode, setClientSideCode] = useState('');\\n  const [serverSideCode, setServerSideCode] = useState('');\\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\\n  const [width, setWidth] = useState((window.innerWidth - sideBarWidth));\\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\\n\\n  const classes = useStyles();\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, } = props;\\n\\n\\n  // const handleChange = (event, newValue) => {\\n  //   handleTabChange(0);\\n  //   setValue(newValue);\\n  // };\\n\\n  useEffect(() => {\\n    // call this is filterBar instead to make field chip dynamic\\n    // lookerContent.map(lookerContent => {\\n    //   setTimeout(() => performLookerApiCalls(lookerContent.queryBody, lookerContent.resultFormat), 100);\\n    // })\\n    setClientSideCode(rawSampleCode);\\n    // setApiContent([])\\n  }, [lookerContent, lookerUser])\\n\\n  useEffect(() => {\\n    window.addEventListener(\\\"resize\\\", () => {\\n      setHeight((window.innerHeight - topBarBottomBarHeight))\\n      setWidth((window.innerWidth - sideBarWidth))\\n      setExpansionPanelHeight($('.MuiExpansionPanel-root:visible').innerHeight() || 0)\\n\\n    });\\n  })\\n\\n\\n  const performLookerApiCalls = async (newQuery, resultFormat) => {\\n    let apiContentCopy = { ...apiContent }\\n    apiContentCopy.status = 'running';\\n    setApiContent(apiContentCopy)\\n\\n    let timer = Date.now();\\n\\n    let lookerCreateQueryResponseData = await sdk.ok(sdk.create_query(newQuery))\\n    let lookerCreateTaskResponseData = await sdk.ok(sdk.create_query_task({\\n      body: {\\n        query_id: lookerCreateQueryResponseData.id,\\n        result_format: resultFormat || 'json_detail'//lookerContent[0].resultFormat || 'json'\\n      }\\n    }))\\n\\n    let taskInterval = setInterval(async () => {\\n      let lookerCheckTaskResponseData = await sdk.ok(sdk.query_task_results(lookerCreateTaskResponseData.id, {\\n        method: 'GET',\\n        headers: {\\n          Accept: 'application/json',\\n          'Content-Type': 'application/json'\\n        }\\n      }));\\n\\n      if (lookerCheckTaskResponseData.status === 'complete') {\\n        clearInterval(taskInterval);\\n        setApiContent(lookerCheckTaskResponseData)\\n        // setServerSideCode(lookerCreateTaskResponseData.code)\\n      }\\n\\n      //time out after 30 seconds\\n      if ((timer + (30 * 1000)) < Date.now()) {\\n        clearInterval()\\n        setApiContent([])\\n      }\\n    }, 1000)\\n  }\\n\\n  return (\\n    <div className={`${classes.root} demoComponent`}\\n      style={{ height }}>\\n      <Card elevation={1} className={`\\n      ${classes.padding30} \\n      ${classes.height100Percent}\\n      ${classes.overflowYScroll}`\\n      }\\n      >\\n        <Grid container\\n          key={validIdHelper(type)} >\\n          <div className={`${classes.root}`}>\\n            <Grid item sm={12}>\\n              <FilterBar {...props}\\n                classes={classes}\\n                action={performLookerApiCalls}\\n                corsApiCall={corsApiCall}\\n              />\\n            </Grid>\\n            {apiContent.status === 'running' ?\\n\\n              <Loader classes={classes}\\n                height={height}\\n                expansionPanelHeight={expansionPanelHeight} />\\n\\n              : apiContent.data && apiContent.data.length ?\\n                <Box>\\n                  <Grid container\\n                    spacing={3}\\n                    className={`${classes.noContainerScroll}`}>\\n                    {codeShow ?\\n                      <Grid item sm={6}\\n                        className={`${classes.positionFixedTopRight}`}\\n                      >\\n                        <CodeFlyout {...props}\\n                          classes={classes}\\n                          lookerUser={lookerUser}\\n                          height={height}\\n                        />\\n                      </Grid> : ''}\\n                    <Divider className={classes.divider} />\\n                    <Grid item sm={12}>\\n                      <Box className={`${classes.w100}`} mt={2}>\\n                        < EnhancedTable\\n                          {...props}\\n                          classes={classes}\\n                          rows={apiContent.data}\\n                          lookerContent={lookerContent}\\n                          width={width}\\n                        />\\n                      </Box>\\n                    </Grid>\\n                  </Grid>\\n                </Box>\\n                :\\n                <Grid item sm={12} >\\n                  <Typography variant=\\\"h6\\\" component=\\\"h6\\\" className={`${classes.gridTitle} ${classes.textCenter}`}>\\n                    No results found, try a new query<br />\\n                  </Typography>\\n                </Grid>\\n            }\\n          </div >\\n        </Grid >\\n      </Card>\\n    </div >\\n  )\\n}\\n/**\\n * seems inconsistent that filterbar performs performLookerApiCalls here??\\n */\\n\\nfunction FilterBar(props) {\\n  // console.log('FilterBar');\\n\\n\\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall, isReady } = useContext(AppContext)\\n  const { userProfile, lookerUser, lookerHost } = clientSession\\n\\n  const { staticContent, staticContent: { lookerContent }, classes, action, //lookerUser, corsApiCall \\n  } = props;\\n\\n\\n\\n  let measureCounter = 0;\\n  let dimensionCounter = 0;\\n\\n\\n  const initializeFieldChipDataHelper = () => {\\n    let initializedFields = lookerContent[0].queryBody.fields.map((item, index) => {\\n      return {\\n        key: 'fieldChipData' + index,\\n        label: prettifyString(item.substring(item.lastIndexOf('.') + 1, item.length)),\\n        datalabel: item,\\n        selected: item === 'users.state' || item === 'users.country' || item === 'order_items.total_sale_price' ? true : false,\\n        fieldType: lookerContent[0].fieldType[item]\\n      }\\n    })\\n    return initializedFields;\\n  }\\n\\n  const [expanded, setExpanded] = useState(true);\\n  const [fieldsChipData, setFieldsChipData] = useState(lookerContent[0].queryBody ? initializeFieldChipDataHelper() : '');\\n  const [queryModified, setQueryModified] = useState(true); //set to true initially\\n  const [queryShouldRun, setQueryShouldRun] = useState(false); //for lookerUser useEffect\\n  const [filtersData, setFilterData] = useState(lookerContent[0].queryBody ? Object.keys(lookerContent[0].queryBody.filters).map((key, index) => {\\n    return {\\n      key: 'filter' + index,\\n      label: key,\\n      value: lookerContent[0].queryBody.filters[key],\\n      type: lookerContent[0].filterType[key]\\n    }\\n  }) : '')\\n\\n  const handleExpansionPanel = (event, newValue) => {\\n    setExpanded(expanded ? false : true);\\n  };\\n\\n  const handleFieldChipClick = (chip, index) => {\\n    let updatedFieldsChipData = [...fieldsChipData]\\n    updatedFieldsChipData[index].selected = updatedFieldsChipData[index].selected === false ? true : false\\n    setFieldsChipData(updatedFieldsChipData)\\n    setQueryModified(true)\\n  }\\n\\n  const handleSelectChange = (index, newValue) => {\\n    let updatedFiltersData = [...filtersData]\\n    updatedFiltersData[index].value = newValue;\\n    setFilterData(updatedFiltersData)\\n    setQueryModified(true)\\n  }\\n\\n  const handleQuerySubmit = (event) => {\\n    if (queryModified || queryShouldRun) {\\n      let newFields = fieldsChipData.filter(chip => chip.selected).map(item => item.datalabel);\\n      let currentFilters = {}; //needs to be object\\n      filtersData.map((item, index) => {\\n        currentFilters[item.label] = item.value\\n      })\\n      let newQueryObj = { ...lookerContent[0].queryBody };\\n      newQueryObj.fields = newFields;\\n      newQueryObj.filters = currentFilters;\\n\\n      corsApiCall(action, [newQueryObj, lookerContent[0].resultFormat]);\\n\\n      setQueryModified(false)\\n      setQueryShouldRun(false)\\n    } //else console.log('elllse')\\n  }\\n\\n\\n\\n  useEffect(() => {\\n    // console.log('useEffect lookerUser')\\n    if (isReady) {\\n      let updatedFiltersData = [...filtersData]\\n      updatedFiltersData[3].value = lookerUserTimeHorizonMap[lookerUser.user_attributes.permission_level] || \\\"182 days\\\";\\n      setFilterData(updatedFiltersData);\\n      setFieldsChipData(initializeFieldChipDataHelper())\\n\\n      setQueryShouldRun(true);\\n\\n    }\\n  }, [lookerUser, isReady]);\\n\\n  useEffect(() => {\\n    // console.log('useEffect queryShouldRun')\\n    if (queryShouldRun) {\\n      handleQuerySubmit();\\n      setQueryModified(false);\\n      setQueryShouldRun(false);\\n    }\\n  }, [queryShouldRun])\\n\\n\\n  const datePermissionMap = {\\n    'basic': [\\\"1 week\\\", \\\"1 month\\\", \\\"3 months\\\", \\\"last 182 days\\\"]\\n  }\\n  datePermissionMap.advanced = [...datePermissionMap.basic, \\\"last 365 days\\\"]\\n  datePermissionMap.premium = [...datePermissionMap.advanced, \\\"last 730 days\\\"]\\n\\n  return (\\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} elevation={0}>\\n      <ExpansionPanelSummary\\n        expandIcon={<ExpandMore />}\\n        aria-controls=\\\"panel1a-content\\\"\\n        id=\\\"panel1a-header\\\"\\n      >\\n        <Search /><Typography className={`${classes.heading} ${classes.ml12}`}>Build Query:</Typography>\\n        {/* <Typography className={classes.heading}>Build Query:</Typography> */}\\n      </ExpansionPanelSummary>\\n      <ExpansionPanelDetails>\\n        <Grid container spacing={3}>\\n          <Grid item sm={12}>\\n            <Typography variant=\\\"subtitle1\\\">\\n              Select Metrics:\\n      {fieldsChipData.length ?\\n                fieldsChipData.map((item, index) => {\\n                  return (\\n                    item.fieldType === 'measure' ?\\n                      <Chip\\n                        key={item.label}\\n                        // key={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\\n                        measurecounter={measureCounter += 1}\\n                        className={item.selected ? `${classes.orangePrimary} ${classes.m6}` : `${classes.m6}`}\\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\\n                        datalabel={item.label}\\n                        onClick={() => handleFieldChipClick(item, index)}\\n                        icon={item.selected ? <Done className={classes.dBlock} /> : <Done className={classes.dNone} />}\\n                      /> : ''\\n                  )\\n                }) : ''\\n              }<br />\\n            </Typography>\\n          </Grid>\\n          <Grid item sm={12}>\\n            <Typography variant=\\\"subtitle1\\\">\\n              Group By:\\n                          {fieldsChipData.length ?\\n                fieldsChipData.map((item, index) => {\\n                  return (\\n                    item.fieldType === 'dimension' ?\\n                      <Chip\\n                        key={item.label}\\n                        dimensioncounter={dimensionCounter += 1}\\n                        className={item.selected ? `${classes.bluePrimary} ${classes.m6}` : `${classes.m6}`}\\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\\n                        datalabel={item.label}\\n                        onClick={() => handleFieldChipClick(item, index)}\\n                        icon={item.selected ? <Done className={classes.dBlock} /> : <Done className={classes.dNone} />}\\n                      /> : ''\\n                  )\\n                }) : ''\\n              }<br />\\n            </Typography>\\n          </Grid>\\n\\n          <Grid item sm={3}>\\n            <Typography variant=\\\"subtitle1\\\">\\n              Filter By:\\n                      </Typography>\\n            {filtersData.length ? filtersData.map((item, index) => {\\n              return (\\n                <FormControl className={item.value.length ? classes.formControl : classes.hidden} key={validIdHelper(`${item.label}FormControl`)}>\\n                  {\\n                    item.type === 'yesno' ?\\n                      <>\\n                        <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\\n                        <Select\\n                          labelId={validIdHelper(`${item.label}FilterLabel`)}\\n                          id={validIdHelper(`${item.label}FilterSelect`)}\\n                          value={item.value}\\n                          onChange={(event) => handleSelectChange(index, event.target.value)}\\n                        >\\n                          <MenuItem value=\\\"Yes\\\">Yes</MenuItem>\\n                          <MenuItem value=\\\"No\\\">No</MenuItem>\\n                          <MenuItem value=\\\"All\\\">All</MenuItem>\\n                        </Select>\\n                      </>\\n                      : item.type === 'date' ?\\n                        <>\\n                          <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\\n\\n                          <Select\\n                            labelId={validIdHelper(`${item.label}FilterLabel`)}\\n                            id={validIdHelper(`${item.label}FilterSelect`)}\\n                            value={item.value || '6 months'}\\n                            onChange={(event) => handleSelectChange(index, event.target.value)}\\n                          >\\n                            {lookerUser.user_attributes.permission_level ? datePermissionMap[lookerUser.user_attributes.permission_level].map(item => (\\n                              <MenuItem key={validIdHelper(item)} value={item}>{_.capitalize(item)}</MenuItem>\\n                            )) : ''}\\n                          </Select>\\n                        </>\\n                        : ''\\n                  }\\n                </FormControl>\\n              )\\n            }) : ''}\\n          </Grid>\\n          <Grid item sm={9}>\\n            <br />\\n            <Button\\n              color=\\\"primary\\\"\\n              variant=\\\"contained\\\"\\n              size=\\\"large\\\"\\n              onClick={handleQuerySubmit}\\n              disabled={queryModified ? false : true}\\n            >Run Query</Button></Grid>\\n        </Grid>\\n      </ExpansionPanelDetails>\\n    </ExpansionPanel>\\n  )\\n}\\n\\nfunction EnhancedTableHead(props) {\\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, rows } = props;\\n  const createSortHandler = (property) => (event) => {\\n    onRequestSort(event, property);\\n  };\\n\\n  return (\\n    <TableHead>\\n      <TableRow>\\n        {Object.keys(rows[0]).map((key, index) => (\\n          <TableCell\\n            key={validIdHelper(key + '-TableHead-TableCell-' + index)}\\n            id={validIdHelper(key + '-TableHead-TableCell-' + index)}\\n            align={key.numeric ? 'right' : 'left'}\\n            padding={key.disablePadding ? 'none' : 'default'}\\n            sortDirection={orderBy === key ? order : false}\\n          >\\n            <TableSortLabel\\n              active={orderBy === key}\\n              direction={orderBy === key ? order : 'asc'}\\n              onClick={createSortHandler(key)}\\n            >\\n              {prettifyString(key.substring(key.lastIndexOf('.') + 1, key.length))}\\n              {orderBy === key ? (\\n                <span className={classes.visuallyHidden}>\\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\\n                </span>\\n              ) : null}\\n            </TableSortLabel>\\n          </TableCell>\\n        ))}\\n      </TableRow>\\n    </TableHead>\\n  );\\n}\\n\\nEnhancedTableHead.propTypes = {\\n  classes: PropTypes.object.isRequired,\\n  // numSelected: PropTypes.number.isRequired,\\n  onRequestSort: PropTypes.func.isRequired,\\n  // onSelectAllClick: PropTypes.func.isRequired,\\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\\n  orderBy: PropTypes.string.isRequired,\\n  rowCount: PropTypes.number.isRequired,\\n};\\n\\nfunction EnhancedTable(props) {\\n  const { rows, classes, lookerContent, width } = props;\\n  const [order, setOrder] = React.useState('asc');\\n  const [orderBy, setOrderBy] = React.useState(Object.keys(rows[0])[0]);\\n  const [page, setPage] = React.useState(0);\\n  const [dense, setDense] = React.useState(true);\\n  const [rowsPerPage, setRowsPerPage] = React.useState(25);\\n\\n  const handleRequestSort = (event, property) => {\\n    const isAsc = orderBy === property && order === 'asc';\\n    setOrder(isAsc ? 'desc' : 'asc');\\n    setOrderBy(property);\\n  };\\n\\n  const handleChangePage = (event, newPage) => {\\n    setPage(newPage);\\n  };\\n\\n  const handleChangeRowsPerPage = (event) => {\\n    setRowsPerPage(parseInt(event.target.value, 10));\\n    setPage(0);\\n  };\\n\\n  const handleChangeDense = (event) => {\\n    setDense(event.target.checked);\\n  };\\n\\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\\n  return (\\n    <div className={`${classes.root} ${classes.padding10}`}>\\n      <ApiHighlight classes={classes} >\\n        <TableContainer style={{ maxWidth: width }}>\\n          <Table\\n            className={classes.table}\\n            aria-labelledby=\\\"tableTitle\\\"\\n            size={dense ? 'small' : 'medium'}\\n            aria-label=\\\"enhanced table\\\"\\n          >\\n            <EnhancedTableHead\\n              {...props}\\n              classes={classes}\\n              order={order}\\n              orderBy={orderBy}\\n              onRequestSort={handleRequestSort}\\n              rowCount={rows.length}\\n            />\\n            <TableBody>\\n              {stableSort(rows, getComparator(order, orderBy))\\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\\n                .map((row, index) => {\\n                  return (\\n                    <TableRow\\n                      hover\\n                      key={validIdHelper('TableRow-' + index)}\\n                      id={validIdHelper('TableRow-' + index)}>\\n                      {Object.keys(row).map((key, index) => (\\n                        <TableCell\\n                          key={validIdHelper(key + '-TableBody-TableCell-' + index)}\\n                          id={validIdHelper(key + '-TableBody-TableCell-' + index)}\\n                          className={lookerContent[0].fieldType[key] === 'dimension' ? classes.blueSecondary : classes.orangeSecondary}\\n                          align=\\\"right\\\">\\n                          {row[key].rendered ? row[key].rendered : row[key].value}\\n                        </TableCell>\\n                      ))}\\n                    </TableRow>\\n                  );\\n                })}\\n              {emptyRows > 0 && (\\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\\n                  <TableCell colSpan={6} />\\n                </TableRow>\\n              )}\\n            </TableBody>\\n          </Table>\\n        </TableContainer>\\n      </ApiHighlight>\\n      <Grid container>\\n        <Grid item sm={6}>\\n          <FormControlLabel\\n            control={<Switch checked={dense} onChange={handleChangeDense} />}\\n            label=\\\"Compact\\\"\\n          /></Grid>\\n        <Grid item sm={6}>\\n          <TablePagination\\n            rowsPerPageOptions={[5, 10, 25, 50]}\\n            component=\\\"div\\\"\\n            count={rows.length}\\n            rowsPerPage={rowsPerPage}\\n            page={page}\\n            onChangePage={handleChangePage}\\n            onChangeRowsPerPage={handleChangeRowsPerPage}\\n          /></Grid>\\n      </Grid>\\n      <div className={classes.bottomBarSpacer} />\\n    </div>\\n  );\\n}\";","import _ from 'lodash'\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport AppContext from '../../contexts/AppContext';\nimport { checkToken } from '../../AuthUtils/auth';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { CssBaseline } from '@material-ui/core/';\nimport clsx from 'clsx';\nimport { lookerUserPermissions, lookerUserTimeHorizonMap } from '../../LookerHelpers/defaults';\nimport UsecaseContent from '../../usecaseContent.json';\n\nimport TopBar from './TopBar';\nimport LeftDrawer from './LeftDrawer';\nimport MonetizationModal from '../Demo/MonetizationModal/MonetizationModal';\n\nimport SplashPage from '../Demo/SplashPage/SplashPage';\nimport Dashboard from '../Demo/Dashboard/Dashboard';\n// import { Button } from \"@monorepo/components\";\n// import { Dashboard } from \"@pbl-demo/components\"\nimport { Button } from \"@pbl-demo/components\";\n\nimport CustomVis from '../Demo/CustomVis/CustomVis';\nimport ReportBuilder from '../Demo/ReportBuilder/ReportBuilder';\nimport QueryBuilder from '../Demo/QueryBuilder/QueryBuilder';\nimport '../Home.css';\nimport { useStyles, defaultTheme, atomTheme } from './styles.js';\n\nconst { validIdHelper, usecaseHelper } = require('../../tools');\n\nexport default function Home(props) {\n  // console.log(\"Home\")\n  let { setClientSession, clientSession, sdk, setSdk, isReady } = useContext(AppContext)\n  let { democomponent } = useParams();\n  const classes = useStyles();\n\n  const didMountRef = useRef(false)\n  const [drawerOpen, setDrawerOpen] = useState(window.innerWidth > 768 ? true : false);\n  const [activeUsecase, setActiveUsecase] = useState(usecaseHelper(UsecaseContent));\n  const [highlightShow, setHighlightShow] = useState(false);\n  const [codeShow, setCodeShow] = useState(false);\n  const [payWallModal, setPaywallModal] = useState({});\n  const [selectedMenuItem, setSelectedMenuItem] = useState(democomponent);\n\n  const handleSwitchLookerUser = async (newValue, property) => {\n\n    let newLookerUser = { ...clientSession.lookerUser }\n    if (property === 'brand') {\n      newLookerUser.user_attributes.brand = newValue\n    } else if (property === 'permission') {\n      newLookerUser.permissions = lookerUserPermissions[newValue] || lookerUserPermissions['basic']\n      newLookerUser.user_attributes.permission_level = newValue\n      newLookerUser.user_attributes.time_horizon = lookerUserTimeHorizonMap[newValue]\n    }\n\n    const lookerUserResponse = await fetch('/updatelookeruser', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newLookerUser)\n    })\n\n    let lookerUserResponseData = await lookerUserResponse.json();\n    setClientSession(lookerUserResponseData.session);\n  }\n\n\n  const corsApiCall = async (func, args = []) => {\n    // console.log(\"corsApiCall\");\n\n    let checkTokenRsp = await checkToken(clientSession.lookerApiToken.expires_in);\n    if (checkTokenRsp.sdk) {\n      setSdk(checkTokenRsp.sdk)\n    }\n    if (checkTokenRsp.clientSession) {\n      setClientSession(checkTokenRsp.clientSession)\n    }\n    let res = func(...args)\n    return res\n  }\n\n  //componentDidMount\n  useEffect(() => {\n    const usecaseFromUrl = usecaseHelper(UsecaseContent);\n    setActiveUsecase(usecaseFromUrl);\n\n    LookerEmbedSDK.init(clientSession.lookerBaseUrl, '/auth')\n    window.addEventListener(\"resize\", () => {\n      setDrawerOpen(window.innerWidth > 768 ? true : false)\n    });\n\n  }, [])\n\n  //componentDidUpdate\n  useEffect(() => {\n    if (didMountRef.current) {\n      // doStuff()\n    } else didMountRef.current = true\n  })\n\n\n  useEffect(() => {\n\n    if (highlightShow) setHighlightShow(!highlightShow);\n    if (codeShow) setCodeShow(!codeShow);\n\n    setSelectedMenuItem(democomponent)\n  }, [democomponent])\n\n  const themeMap = {\n    \"atom\": atomTheme,\n  }\n\n  const demoComponentMap = {\n    \"home\": SplashPage,\n    \"inventoryoverview\": Dashboard,\n    \"webanalytics\": Dashboard,\n    \"salesoverview\": Dashboard,\n    \"salescalendar\": CustomVis,\n    \"querybuilder\": QueryBuilder,\n    \"savedreports\": ReportBuilder,\n  };\n\n\n  const DemoComponent = demoComponentMap[selectedMenuItem];\n  const DemoComponentContent = _.find(UsecaseContent[activeUsecase].demoComponents, (o) => {\n    return selectedMenuItem === validIdHelper(_.lowerCase(o.label));\n  });\n\n\n  return (\n    <div className={classes.root} >\n\n      <AppContext.Provider value={{\n        clientSession, setClientSession,\n        payWallModal, setPaywallModal,\n        handleSwitchLookerUser,\n        drawerOpen, setDrawerOpen,\n        activeUsecase,\n        selectedMenuItem,\n        highlightShow, setHighlightShow,\n        codeShow, setCodeShow,\n        sdk,\n        corsApiCall,\n        atomTheme,\n        isReady\n      }}>\n        <ThemeProvider theme={activeUsecase ? themeMap[activeUsecase] : defaultTheme}>\n          <CssBaseline />\n          <TopBar />\n          <MonetizationModal />\n          <LeftDrawer />\n          <main\n            className={clsx(classes.content, {\n              [classes.contentShift]: drawerOpen,\n            })}\n          >\n\n            <div className={classes.drawerHeader} />\n            <Button>Hello world?????</Button>\n            {DemoComponentContent ? <DemoComponent staticContent={DemoComponentContent} /> : ''}\n          </main>\n        </ThemeProvider>\n      </AppContext.Provider>\n    </div>\n  )\n}","import React, { Component, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types'\nimport { BrowserRouter as Router, Switch, Route, Redirect, useParams } from \"react-router-dom\";\nimport AppContext from './contexts/AppContext';\nimport { checkForExistingSession, createSdkHelper } from './AuthUtils/auth';\nimport SignIn from './components/SignIn/SignIn';\nimport Home from './components/Home/Home';\n\n\nfunction App(props) {\n\n  const [clientSession, setClientSession] = useState({});\n  const [sdk, setSdk] = useState();\n  const [initialHref, setInitialHref] = useState();\n  const [isReady, setIsReady] = useState(false);\n\n  //onload\n  useEffect(() => {\n    async function fetchSession() {\n\n      const sessionResponse = await checkForExistingSession();\n      if (sessionResponse.session && sessionResponse.session.userProfile) {\n\n        const lookerBaseUrl = sessionResponse.lookerBaseUrl ? sessionResponse.lookerBaseUrl : '';\n        const accessToken = sessionResponse.lookerApiToken ? sessionResponse.lookerApiToken.api_user_token : '';\n        const sdk = createSdkHelper({ accessToken, lookerBaseUrl })\n\n        setClientSession(sessionResponse.session)\n        setSdk(sdk)\n      }\n    }\n    fetchSession(); //make async call\n  }, [])\n\n  useEffect(() => {\n    if (clientSession && sdk) setIsReady(true)\n    else if (clientSession.userProfile) {\n      const lookerBaseUrl = clientSession.lookerBaseUrl ? clientSession.lookerBaseUrl : '';\n      const accessToken = clientSession.lookerApiToken ? clientSession.lookerApiToken.api_user_token : '';\n      const sdk = createSdkHelper({ accessToken, lookerBaseUrl })\n      setSdk(sdk)\n    }\n    // else setIsReady(false)\n  }, [clientSession, sdk])\n\n\n  return (\n    < Router >\n      <AppContext.Provider value={{\n        clientSession, setClientSession,\n        sdk, setSdk,\n        initialHref, setInitialHref,\n        isReady\n      }}>\n        <Switch>\n          <PrivateRoute\n            path='/analytics/:democomponent?'\n            // exact\n            isSignedIn={clientSession.userProfile ? true : false}\n            component={Home}\n            setInitialHref={setInitialHref}\n            initialHref={initialHref}\n          >\n          </PrivateRoute>\n          <PublicRoute\n            path='/'\n            exact\n            isSignedIn={clientSession.userProfile ? true : false}\n            component={SignIn}\n            initialHref={initialHref}>\n          </PublicRoute>\n          {/* catach all route */}\n          <Route render={() => <Redirect to=\"/\" />} />\n        </Switch>\n      </AppContext.Provider>\n    </Router >\n  )\n}\n\nApp.propTypes = {\n\n}\n\nexport default App\n\nconst PrivateRoute = ({\n  component: Component,\n  isSignedIn,\n  setInitialHref,\n  ...rest }) => {\n\n  if (!isSignedIn) setInitialHref(window.location.href);\n  else setInitialHref()\n\n  return (\n\n    <Route exact\n      {...rest} render={(props) => (\n        (isSignedIn) ?\n          <Component {...props} />\n          : <Redirect\n            to=\"/\"\n          />\n      )} />\n  );\n};\n\n\nconst PublicRoute = ({ component: Component,\n  isSignedIn,\n  // restricted, \n  initialHref,\n  ...rest }) => {\n\n\n  const demoComponentMap = {\n    \"home\": \"SplashPage\",\n    \"inventoryoverview\": \"Dashboard\",\n    \"webanalytics\": \"Dashboard\",\n    \"salesoverview\": \"Dashboard\",\n    \"salescalendar\": \"CustomVis\",\n    \"querybuilder\": \"QueryBuilder\",\n    \"savedreports\": \"ReportBuilder\",\n  };\n\n  let urlToUse = '/analytics/home';\n  if (initialHref) {\n    let initialHrefArr = initialHref.split('/');\n    let lastTwoHrefArr = initialHrefArr.slice(-2);\n    let lastOneHrefArr = initialHrefArr.slice(-1);\n\n    if (demoComponentMap.hasOwnProperty(lastOneHrefArr)) urlToUse = lastTwoHrefArr.join('/');\n  }\n\n  return (\n    // restricted = false meaning public route\n    // restricted = true meaning restricted route\n    <Route exact\n      {...rest} render={(props) => (\n        (isSignedIn) ?\n          <Redirect\n            to={urlToUse}\n          />\n          : <Component {...props} />\n      )} />\n  );\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = {\n  makeid: (length) => {\n    var result = '';\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  },\n\n\n  validIdHelper: (str) => {\n    // console.log('validIdHelper')\n    // console.log('str', str)\n    //need to replace special characters that may be associated with id...\n    return str.replace(/[^a-zA-Z0-9-.#]/g, \"\")\n  },\n\n  prettifyString: (str) => {\n    var i, frags = str.split('_');\n    for (i = 0; i < frags.length; i++) {\n      frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);\n    }\n    return frags.join(' ');\n  },\n\n  getUrlVars: (url) => {\n    var hash;\n    var myJson = {};\n    var hashes = url.slice(url.indexOf('?') + 1).split('&');\n    for (var i = 0; i < hashes.length; i++) {\n      hash = hashes[i].split('=');\n      myJson[hash[0]] = hash[1];\n      // If you want to get in native datatypes\n      // myJson[hash[0]] = JSON.parse(hash[1]); \n    }\n    return myJson;\n  },\n\n\n  decodeHtml: (html) => {\n    var txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  },\n\n\n  usecaseHelper: (usecaseContent) => {\n    let keyArr = Object.keys(usecaseContent);\n    let url = window.location.href;\n    for (let i = 0; i < keyArr.length; i++) {\n      if (url.indexOf(keyArr[i]) > -1) {\n        return keyArr[i];\n      }\n    }\n    return 'atom';\n  }\n}","export default __webpack_public_path__ + \"static/media/atom_logo_black.fdcf1447.svg\";","module.exports = {\n  initialLookerUser: {\n    \"external_user_id\": \"\",\n    \"first_name\": \"\",\n    \"last_name\": \"\",\n    \"session_length\": 86400,\n    \"force_logout_login\": true,\n    \"external_group_id\": \"\",\n    \"group_ids\": [\n      4\n    ],\n    \"permissions\": [\n      \"access_data\",\n      \"see_looks\",\n      \"see_user_dashboards\",\n      \"see_lookml_dashboards\",\n      \"download_with_limit\"\n    ],\n    \"models\": [\n      \"atom_fashion\"\n    ],\n    \"user_attributes\": {\n      \"locale\": \"en_US\",\n      \"country\": \"USA\",\n      \"brand\": \"Calvin Klein\",\n      \"time_horizon\": \"last 182 days\",\n      \"permission_level\": \"basic\"\n    }\n  },\n  lookerUserAttributeBrandOptions: [\n    {\n      \"label\": \"Columbia\"\n    },\n    {\n      \"label\": \"Calvin Klein\"\n    },\n    {\n      \"label\": \"Carhartt\"\n    },\n    {\n      \"label\": \"Levi's\"\n    },\n    {\n      \"label\": \"Dockers\"\n    }\n  ],\n  lookerUserPermissions: {\n    \"basic\": [\n      \"access_data\",\n      \"see_looks\",\n      \"see_user_dashboards\",\n      \"see_lookml_dashboards\",\n      \"download_with_limit\"\n    ],\n    \"advanced\": [\n      \"access_data\",\n      \"see_looks\",\n      \"see_user_dashboards\",\n      \"see_lookml_dashboards\",\n      \"download_with_limit\",\n      \"schedule_look_emails\",\n      \"schedule_external_look_emails\",\n      \"create_alerts\",\n      \"see_drill_overlay\"\n    ],\n    \"premium\": [\n      \"access_data\",\n      \"see_looks\",\n      \"see_user_dashboards\",\n      \"see_lookml_dashboards\",\n      \"download_with_limit\",\n      \"schedule_look_emails\",\n      \"schedule_external_look_emails\",\n      \"create_alerts\",\n      \"see_drill_overlay\",\n      \"save_content\",\n      \"embed_browse_spaces\",\n      \"schedule_look_emails\",\n      \"send_to_sftp\",\n      \"send_to_s3\",\n      \"send_outgoing_webhook\",\n      \"send_to_integration\",\n      \"download_without_limit\",\n      \"explore\",\n      \"see_sql\"\n    ]\n  },\n  lookerUserTimeHorizonMap: {\n    \"basic\": \"last 182 days\",\n    \"advanced\": \"last 365 days\",\n    \"premium\": \"last 730 days\"\n  }\n}","var map = {\n\t\"./atom_background1.jpg\": 910,\n\t\"./atom_background2.jpg\": 911,\n\t\"./atom_background3.jpg\": 912,\n\t\"./atom_background4.jpg\": 913,\n\t\"./atom_splash_blog.jpg\": 914,\n\t\"./atom_splash_inventory.jpg\": 915,\n\t\"./atom_splash_trends.jpg\": 916\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 909;","export default __webpack_public_path__ + \"static/media/atom_background1.29b503d4.jpg\";","export default __webpack_public_path__ + \"static/media/atom_background2.1229c8ed.jpg\";","export default __webpack_public_path__ + \"static/media/atom_background3.fab43a80.jpg\";","export default __webpack_public_path__ + \"static/media/atom_background4.e2be32a1.jpg\";","export default __webpack_public_path__ + \"static/media/atom_splash_blog.610f4012.jpg\";","export default __webpack_public_path__ + \"static/media/atom_splash_inventory.2258ef83.jpg\";","export default __webpack_public_path__ + \"static/media/atom_splash_trends.f5b46203.jpg\";","var map = {\n\t\"./atom_logo_black.svg\": 501\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 917;","var map = {\n\t\"./atom.svg\": 933,\n\t\"./atom_logo_black.svg\": 501,\n\t\"./atom_logo_white.svg\": 934\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 932;","export default __webpack_public_path__ + \"static/media/atom.c18adbdf.svg\";","export default __webpack_public_path__ + \"static/media/atom_logo_white.32d39877.svg\";"],"sourceRoot":""}