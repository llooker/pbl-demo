{"version":3,"sources":["tools.js","images/logo_text.svg","images sync /^/.//background.*/.jpg$","images/background1.jpg","images/background2.jpg","images/background3.jpg","images/background4.jpg","images/logo.svg","config/theme.js","components/Home/styles.js","../../shared/components/Accessories/Highlight.js","../../shared/components/NaturalLanguage.js","../../shared/components/VectorThumbnail.js","../../shared/components/PopularAnalysis.js","../../shared/components/Accessories/Loader.js","../../shared/components/Accessories/CodeFlyout.js","../../shared/components/Accessories/UserPermissionsModal.js","../../shared/components/Accessories/NumberToColoredPercent.js","../../shared/components/styles.js","../../shared/components/PDFViewer.js","../../shared/components/Explore/EmbeddedExplore.js","../../shared/components/UserMenu.js","../../shared/components/Filters/AutoComplete.js","../../shared/components/Filters/ToggleTile.js","../../shared/components/Filters/ToggleVisColor.js","../../shared/components/Filters/SwitchTheme.js","../../shared/components/Filters/CheckboxSvgMapRegion.js","../../shared/components/Filters/helpers.js","../../shared/components/Filters/MapFilter.js","../../shared/components/Filters/RangeSlider.js","../../shared/components/Filters/ToggleApi.js","../../shared/components/Filters/Dropdown.js","../../shared/components/Filters/ToggleButton.js","../../shared/components/TopBar.js","../../shared/components/BottomBar.js","../../shared/components/SparkLine.js","../../shared/components/SplashPage.js","../../shared/components/SignIn.js","../../shared/components/TopDrawer.js","../../shared/components/LeftDrawer.js","../../shared/components/Dashboard/FilterBarChildren.js","../../shared/components/Dashboard/FilterBar.js","../../shared/components/Dashboard/EmbeddedDashboardContainer.js","../../shared/components/Dashboard/helpers.js","../../shared/components/Dashboard/Dashboard.js","../../shared/components/TrendItem.js","config/Demo/SplashPageContent.js","../../shared/components/Welcome.js","../../shared/components/EmbeddedQuery.js","config/Demo/InventoryOverviewContent.js","components/Demo/QueryBuilder/helpers.js","components/Demo/styles.js","config/SignInContent.js","config/UserPermissionsContent.js","config/TopBarContent.js","components/Demo/QueryBuilder/QueryBuilder.js","config/Demo/QueryBuilderContent.js","components/Demo/ReportBuilder/helpers.js","components/Demo/ReportBuilder/TreeSideBar.js","components/Demo/ReportBuilder/ReportBuilder.js","config/Demo/ReportBuilderContent.js","components/Material/ModalTable.js","components/Demo/SalesCalendar/SalesCalendar.js","config/Demo/SalesCalendarContent.js","config/Demo/SalesOverviewContent.js","config/Demo/WebAnalyticsContent.js","components/Home/Home.js","App.js","serviceWorker.js","index.js","../../vision/src/contexts/AppContext.js","../../shared/utils/tools.js","contexts/AppContext.js","../../shared/utils/errorHandler.js","../../shared/utils/pblsession.js","../../shared/utils/auth.js"],"names":["module","exports","makeid","length","result","characters","charactersLength","i","charAt","Math","floor","random","validIdHelper","str","replace","prettifyString","frags","split","toUpperCase","slice","join","getUrlVars","url","hash","myJson","hashes","indexOf","decodeHtml","html","txt","document","createElement","innerHTML","value","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","packageNameTheme","createMuiTheme","palette","primary","main","grey","secondary","fill","useStyles","makeStyles","theme","root","display","backgroundColor","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","zIndex","menuButton","marginRight","spacing","hide","drawerHeader","alignItems","padding","mixins","toolbar","justifyContent","leftDrawer","width","flexShrink","leftDrawerPaper","borderRight","leftContent","flexGrow","marginLeft","leftContentShift","easeOut","enteringScreen","topDrawer","height","topDrawerPaper","topContent","marginTop","topContentShift","title","tabs","divider","dNone","dBlock","relative","position","absolute","right0","right","top0","top","right24","top24","ml12","mr12","mt12","highlightLegend","bottom","left","tree","maxWidth","parentHoverVisibility","visibility","childHoverVisibility","fontSize1em","fontSize","padding10","mt5","mb5","marginBottom","paper","background","border","boxShadow","shadows","list","nested","paddingLeft","mlAuto","mrAuto","appBarBottom","hidden","rightRoundedTab","borderRadius","roundedTab","paddingBottom30","paddingBottom","mtAuto","mb10","modalPopover","overflow","modalCard","flexDirection","cursor","transform","inlineList","noWrap","whiteSpace","index","Highlight","children","color","margin","style","useContext","appContextMap","highlightShow","ApiHighlight","props","classes","Chip","size","label","className","align","EmbedHighlight","EmbedMethodHighlight","require","NaturalLanguage","lookerContentItem","inlineQuery","useState","undefined","apiContent","setApiContent","clientSession","sdk","corsApiCall","isReady","lookerUser","userProfile","useEffect","isSubscribed","runInlineQuery","then","response","a","ok","run_inline_query","result_format","resultFormat","body","clientLookerResponse","upOrDownArrow","change","Grid","item","sm","Fragment","Typography","variant","inlineQueriesMap","parseInt","toFixed","greenPos","redNeg","VectorThumbnail","vectorItem","svg","setSvg","getThumbnail","content_thumbnail","type","resourceType","resource_id","blob","Blob","URL","createObjectURL","container","cursorPointer","component","Link","to","maxHeight60","textCenter","overflowHidden","src","Divider","mb12","Loader","Card","card","flexCentered","elevation","mt","CircularProgress","circularProgress","CodeFlyout","codeShow","setCodeShow","positionTopRight","ClickAwayListener","onClickAway","Fade","in","padding20","codeFlyoutContainer","textAlign","onClick","CodeSnippet","language","dracula","showLineNumbers","JSON","stringify","getModalStyle","UserPermissionsModal","content","payWallModal","setPaywallModal","handleSwitchLookerUser","React","modalStyle","permissionLevels","modalPermissionsMap","Modal","modal","open","show","onClose","padding30","key","user_attributes","permission_level","CardContent","_","capitalize","Rating","name","readOnly","fontStyle","List","ListItem","dense","ListItemIcon","Check","ListItemText","CardActions","disableSpacing","Button","fullWidth","borderColor","NumberToColoredPercent","val","positive_good","colors","abs_val","up","down","val_formatted","abs","toLocaleString","minimumFractionDigits","icon","redPrimary","red","greenPrimary","green","redLight","greenLight","lightGrey","topBarBottomBarHeight","w100","skeleton","minWidth","minHeight","minHeight680","maxHeight200","maxHeight","mt30","mb30","height800","maxHeight100","maxHeight400","minHeight200","fontWeight","overflowY","overflowX","verticalAlign","typography","pxToRem","fontWeightRegular","clip","validateContent","UserMenu","history","useHistory","setClientSession","setIsReady","setSdk","anchorEl","setAnchorEl","brand","selectedBrand","setSelectedBrand","rowLevelAttribute","handleClose","newValue","property","endSession","push","zIndex1500","IconButton","aria-label","aria-controls","aria-haspopup","event","currentTarget","Avatar","alt","imageUrl","substring","keepMounted","Boolean","MenuItem","autoFocus","allowModal","menuItemLabel","Autocomplete","options","getOptionLabel","option","onChange","target","innerText","renderInput","params","TextField","autoCompleteLabel","loadingText","disableautofocus","onKeyDown","stopPropagation","AutoComplete","filterItem","action","setDynamicSearch","setOpen","setValue","alternateName","Array","isArray","renderOption","handleRenderOption","newValueToUse","filterName","flexWrap","InputLabelProps","disableShrink","shrink","onInputChange","debounce","apiDrivenSearch","onOpen","inputValue","matches","match","parts","parse","highlightStyle","part","highlight","text","trend","ToggleTile","helperFunctionMapper","lightThemeToggleValue","fontThemeSelectValue","tileToggleValue","setTileToggleValue","ToggleButtonGroup","exclusive","tileLookUp","ToggleVisColor","visColorToggleValue","setVisColorToggleValue","dot","SwitchTheme","setLightThemeToggleValue","Switch","checked","inputProps","CheckboxSVGMap","prototype","toggleLocation","location","this","setState","prevState","selectedLocations","regionFromStateClicked","find","locations","statesWithinRegionClicked","filter","region","allUniqueRegions","allUniqueRegionsFromSelectedLocations","j","regionsNotCurrentlySelected","differenceBy","allRegionsNotSelected","statesNotWithinRegionsClicked","attributes","componentDidMount","customUsa","Usa","lifetimeRevenueTierMap","lifetimeRevenueTierIconMap","SentimentDissatisfied","SentimentSatisfied","SentimentVerySatisfied","MapFilter","regionValue","setRegionValue","heading","verticalAlignTop","allUniqueRegionsFromSelectedLocationsCommaSep","RangeSlider","sliderValue","setSliderValue","Slider","valueLabelDisplay","aria-labelledby","onChangeCommitted","min","max","disabled","ToggleApi","lifetimeRevenueTierValue","setLifetimeRevenueTierValue","ageTier","Icon","w33","Dropdown","selectValue","setSelectValue","processing","setProcessing","successMessage","setSuccessMessage","FormControl","formControl","w90","InputLabel","Select","labelId","method","secondaryComponent","caseResponse","status","message","setTimeout","gutterBottom","TopBar","packageName","drawerOpen","setDrawerOpen","dynamicSearch","hasOwnProperty","retrieveAutocompleteOptions","autoComplteInfo","autocomplete","queryToUse","filters","lookerResponseData","apiContentObj","queryResultsForDropdown","formattedLabel","field","toString","filterNamesUrlsMap","ThemeProvider","AppBar","clsx","Toolbar","edge","KeyboardArrowDown","ChevronLeft","Menu","avatar","avatarStyle","p30","pathname","search","encodeURIComponent","bgColor","Badge","badgeContent","AddAlert","usermenu","BottomBar","setHighlightShow","startIcon","HighlightOutlined","Code","SparkLine","dataObjForSparkline","data","dataArrForDataObj","fields","thisDataItem","y","isNaN","labelText","chipFormat","padding15","lookerCardShadow","xScale","format","precision","yScale","stacked","reverse","axisLeft","orient","tickSize","tickPadding","tickRotation","axisBottom","enablePoints","enableGridX","enableGridY","visColor","animate","errorHandler","SignIn","initialUser","logo","logoStyle","backgroundImageStyle","responseGoogle","writeNewSession","profileObj","session","report","googleClientId","process","signInCard","signInCardCopy","copyHeader","copyBody","clientId","buttonText","onSuccess","onFailure","cookiePolicy","copyFooter","TopDrawer","DemoComponentsContentArr","Drawer","anchor","MenuList","selectedMenuItem","orderedDemoComponentsForMenu","orderBy","orderedDemoComponentsForMenuObj","expandedTreeItemsArr","cumulativePusher","menuCategory","outerItem","outerIndex","disablePadding","innerIndex","MatchingIconComponent","button","selected","lowerCase","LeftDrawer","FilterBarChildren","customFilterAction","lookerContent","FilterBar","staticContent","makeShiftDrawerOpen","setMakeShiftDrawerOpen","filterBarWidth","animatedGridItem","Box","EmbeddedDashboardContainer","dynamicFieldLookUp","handleTileToggle","dashboardOptions","filteredLayout","layouts","dashboard_layout_components","row","elements","dashboard_element_id","newDashboardLayout","methodName","handleVisColorToggle","isThemeableDashboard","newColorSeries","newDashboardElements","vis_config","series_colors","innerKey","custom_color","map_value_colors","series_cell_visualizations","header_font_color","map_tile_provider","handleThemeChange","themeName","jsonQuery","desiredFilterName","desiredProperty","Dashboard","demoComponentType","iFrameExists","setIFrame","dashboardObj","setDashboardObj","setDashboardOptions","window","innerHeight","setHeight","setFontThemeSelectValue","expansionPanelHeight","setExpansionPanelHeight","hiddenFilterValue","setHiddenFilterValue","dynamicVisConfigFilterItem","darkThemeBackgroundColor","useLocation","paletteToUse","default","themeToUse","useMemo","helperResponse","setOptions","console","log","performLookerApiCalls","tileResponse","visColorResponse","tileToggleFilterItem","visColorFilterItem","addEventListener","modifiedBaseUrl","lookerBaseUrl","lastIndexOf","LookerEmbedSDK","init","dynamicTheme","$","dashboardId","createDashboardWithId","appendTo","withClassName","withNext","withTheme","withParams","on","dashboard","keyName","dashboard_filters","keyValue","drillMenuClick","build","connect","catch","error","asyncApiContentObj","Promise","all","trends","useCallback","newFilterValue","updateFilters","run","includes","cancel","queryString","positionRelative","height100Percent","paddingTB15","inlineListPaddingTop10","trendItem","TrendItem","fieldsOfInterest","formattedText","numberToColoredPercent","bestWorstAnalysis","overflowScroll","givenName","inlineQueries","revenueByWeek","visitsByWeek","bounceRateByWeek","averageTimeByWeek","embeddedQuery","fetchData","idToUse","queryUrl","origin","fetch","json","createExploreWithUrl","getElementById","explore","overflowYScroll","alignContent","justify","maxHeight80Percent","popularAnalysis","vectors","SplashPageContent","HomeIcon","lookerHost","noContainerScroll","ComponentToRender","gridWidth","tilesFilter","visConfigFilter","themeColorFilter","themeFontFilter","InventoryOverivewContent","TableChartOutlinedIcon","descendingComparator","b","getComparator","order","stableSort","array","comparator","stabilizedThis","el","sort","opacity","backgroundImageInt","backgroundImage","SignInContent","userTimeHorizonMap","TopBarContent","AppContext","measureCounter","dimensionCounter","initializeFieldChipDataHelper","queryBody","datalabel","fieldType","expanded","setExpanded","fieldsChipData","setFieldsChipData","queryModified","setQueryModified","queryShouldRun","setQueryShouldRun","filterType","filtersData","setFilterData","handleFieldChipClick","chip","updatedFieldsChipData","handleSelectChange","updatedFiltersData","handleQuerySubmit","newFields","currentFilters","newQueryObj","datePermissionMap","advanced","basic","premium","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpandMore","ExpansionPanelDetails","measurecounter","orangePrimary","m6","Done","dimensioncounter","bluePrimary","EnhancedTableHead","onSelectAllClick","onRequestSort","numSelected","rowCount","rows","TableHead","TableRow","TableCell","numeric","sortDirection","TableSortLabel","active","direction","visuallyHidden","EnhancedTable","setOrder","setOrderBy","page","setPage","setDense","rowsPerPage","setRowsPerPage","emptyRows","TableContainer","Table","table","TableBody","hover","blueSecondary","orangeSecondary","rendered","colSpan","FormControlLabel","control","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","bottomBarSpacer","QueryBuilderContent","SearchIcon","innerWidth","setWidth","newQuery","apiContentCopy","timer","Date","now","create_query","lookerCreateQueryResponseData","create_query_task","query_id","lookerCreateTaskResponseData","taskInterval","setInterval","query_task_results","headers","Accept","lookerCheckTaskResponseData","clearInterval","gridTitle","TabPanel","other","role","p","TreeSideBar","tabContent","tabContentItemIndex","sharedFolderId","treeCounter","setSelected","expandedArr","TreeView","defaultCollapseIcon","defaultExpandIcon","ChevronRight","onNodeSelect","TreeItem","nodeId","Folder","treecounter","aria-selected","contentid","folder_id","labelRoot","client_id","Lock","ReportBuilderContent","LibraryBooksOutlinedIcon","setExploreObj","qid","setQid","handleChange","contentType","contentId","secondaryAction","exploreId","newReportEmbedContainer","iFrameArray","classList","contains","remove","add","delete_look","animateLoad","folder","sharedFolder","me","embedUser","h","looks","look","query","embeddedUserFolder","search_looks","user_id","embedUserLooks","embedUserFolderId","looksToUse","dashboardsToUse","dashboards","objToUse","reports","lookId","lookIsRendered","createLookWithId","dashboardIsRendered","createExploreWithId","Tabs","Tab","Add","tabContentItem","ModalTable","modalContent","aria-describedby","Paper","stickyHeader","round","fromDate","toDate","category","desiredField","handleFromDate","handleToDate","handleCategory","handleDesiredField","Accordion","AccordionSummary","FilterList","AccordionDetails","desiredFields","uniqueCategories","utils","DateFnsUtils","disableToolbar","KeyboardButtonProps","minDate","maxDate","incrementDate","dateInput","increment","dateFormatTotime","getTime","toISOString","SalesCalendarContent","DateRangeOutlinedIcon","setFromDate","setToDate","setCategory","setDesiredField","setModalContent","handleModalOpen","activeTabValue","handleTabChange","day","originalInlineQueryCopy","total","limit","modalObj","filterData","uniqueDates","Set","filteredAndReducedForAll","uniqueDate","reduce","acc","thisObj","newValueAsDate","addDays","from","emptyColor","yearSpacing","monthBorderColor","dayBorderWidth","dayBorderColor","legends","translateY","itemCount","itemWidth","itemHeight","itemsSpacing","itemDirection","SalesOverviewContent","VisibilityOutlinedIcon","WebAnalyticsContent","ShowChartIcon","Home","democomponent","useParams","didMountRef","useRef","setSelectedMenuItem","currentPermissionLevel","demoComponentsContentArr","demoComponent","requiredPermissionLevel","topBarContent","correspondingComponentContent","ActiveDemoComponent","newLookerUser","permissions","time_horizon","lookerUserResponse","lookerUserResponseData","func","args","checkToken","lookerApiToken","expires_in","res","current","ActiveDemoComponentContent","Provider","CssBaseline","App","initialHref","setInitialHref","checkForExistingSession","createSdkHelper","accessToken","api_user_token","err","setUser","fetchSession","access_token","authSession","path","isSignedIn","exact","render","PrivateRoute","Component","rest","href","PublicRoute","demoComponentMap","startCase","urlToUse","initialHrefArr","lastTwoHrefArr","lastOneHrefArr","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister","createContext","AppContextAtom","AppContextVision","object","schema","errors","forEach","StackdriverErrorReporter","start","projectId","service","PblSessionEmbed","isAuthenticated","activeToken","setToken","fetchToken","settings","transport","BrowserTransport","AuthToken","token","isActive","getToken","mode","credentials","Authorization","AuthSession","sessionResponse","sessionResponseData","newSession","newSessionResponse","newSessionResponseData","endSessionResponse","pblsession","DefaultSettings","base_url","Looker40SDK"],"mappings":"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","file":"static/js/main.3e479e71.chunk.js","sourcesContent":["module.exports = {\n  makeid: (length) => {\n    var result = '';\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  },\n\n\n  validIdHelper: (str) => {\n    // console.log('validIdHelper')\n    // console.log('str', str)\n    //need to replace special characters that may be associated with id...\n    return str.replace(/[^a-zA-Z0-9-.#]/g, \"\")\n  },\n\n  prettifyString: (str) => {\n    var i, frags = str.split('_');\n    for (i = 0; i < frags.length; i++) {\n      frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);\n    }\n    return frags.join(' ');\n  },\n\n  getUrlVars: (url) => {\n    var hash;\n    var myJson = {};\n    var hashes = url.slice(url.indexOf('?') + 1).split('&');\n    for (var i = 0; i < hashes.length; i++) {\n      hash = hashes[i].split('=');\n      myJson[hash[0]] = hash[1];\n      // If you want to get in native datatypes\n      // myJson[hash[0]] = JSON.parse(hash[1]); \n    }\n    return myJson;\n  },\n  decodeHtml: (html) => {\n    var txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  }\n}","export default __webpack_public_path__ + \"static/media/logo_text.fdcf1447.svg\";","var map = {\n\t\"./background1.jpg\": 1309,\n\t\"./background2.jpg\": 1310,\n\t\"./background3.jpg\": 1311,\n\t\"./background4.jpg\": 1312\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1308;","export default __webpack_public_path__ + \"static/media/background1.29b503d4.jpg\";","export default __webpack_public_path__ + \"static/media/background2.1229c8ed.jpg\";","export default __webpack_public_path__ + \"static/media/background3.fab43a80.jpg\";","export default __webpack_public_path__ + \"static/media/background4.e2be32a1.jpg\";","export default __webpack_public_path__ + \"static/media/logo.c18adbdf.svg\";","import { createMuiTheme } from '@material-ui/core/styles'\nimport { grey } from '@material-ui/core/colors';\n\nexport const packageNameTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: grey[900],\n    },\n    secondary: {\n      main: grey[400],\n    },\n    fill: {\n      main: \"#343D4E\"\n    },\n  },\n})","import { packageNameTheme } from '../../config/theme.js'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = 240;\nconst topDrawerHeight = 50;\nexport const useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    backgroundColor: 'rgb(229, 229, 229)'\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    zIndex: 1201,\n    backgroundColor: packageNameTheme.palette.fill.main\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  leftDrawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  leftDrawerPaper: {\n    width: drawerWidth,\n    borderRight: 'none',\n    backgroundColor: 'transparent'\n  },\n  leftContent: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  leftContentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n  //top drawer\n  topDrawer: {\n    // width: '100%',\n    height: topDrawerHeight,\n    flexShrink: 0,\n  },\n  topDrawerPaper: {\n    width: '100%',\n    backgroundColor: 'transparent'\n  },\n  topContent: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginTop: 0,\n  },\n  topContentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginTop: topDrawerHeight,\n  },\n  title: {\n    flexGrow: 1,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  relative: {\n    position: 'relative'\n  },\n  absolute: {\n    position: 'absolute'\n  },\n  right0: {\n    right: 0\n  },\n  top0: {\n    top: 0\n  },\n  right24: {\n    right: 24\n  },\n  top24: {\n    top: 24\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  mr12: {\n    marginRight: 12\n  },\n  mt12: {\n    marginTop: 12\n  },\n  highlightLegend: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2),\n    zIndex: 1200\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400\n  },\n  parentHoverVisibility: {\n    '&:hover $childHoverVisibility': {\n      visibility: 'visible'\n    }\n\n  },\n  childHoverVisibility: {\n    visibility: 'hidden'\n  },\n  fontSize1em: {\n    fontSize: '1em'\n  },\n  padding10: {\n    padding: 10\n  },\n  mt5: {\n    marginTop: 5\n  },\n  mb5: {\n    marginBottom: 5\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  list: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: 'transparent'\n    // theme.palette.background.paper,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  appBarBottom: {\n    top: 'auto',\n    bottom: 0,\n    backgroundColor: 'rgb(229, 229, 229)'\n  },\n  hidden: {\n    visibility: 'hidden'\n  },\n  rightRoundedTab: {\n    borderRadius: '0 100px 100px 0'\n  },\n  roundedTab: {\n    borderRadius: '100px'\n  },\n  paddingBottom30: {\n    paddingBottom: 30\n  },\n  mtAuto: {\n    marginTop: 'auto'\n  },\n  mb10: {\n    marginBottom: 10\n  },\n  modalPopover: {\n    position: 'absolute',\n    width: 1000,\n    height: 604,\n    overflow: 'scroll',\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(2, 4, 3),\n  },\n  modalCard: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    overflow: 'scroll',\n    cursor: 'pointer',\n    '&:hover': {\n      transform: 'scale(1.05)',\n      transition: 'transform .2s'\n    }\n  },\n  inlineList: {\n    display: 'flex',\n    flexDirection: 'row',\n    padding: 0,\n  },\n  noWrap: {\n    whiteSpace: \"nowrap\"\n  }\n}), { index: 1 });\n\n","import React, { useContext } from 'react';\nimport { Chip } from '@material-ui/core';\nimport { appContextMap } from '../../utils/tools';\n\n// maybe move this to config?\nexport const API_COLOR = '#A142F4'\nexport const API_BACKGROUND_COLOR = 'rgba(161, 66, 244, 0.1)'\nexport const EMBED_COLOR = '#12B5CB'\nexport const EMBED_BACKGROUND_COLOR = 'rgba(18, 181, 203, 0.1)'\nexport const EMBED_METHOD_COLOR = '#297AF4'\nexport const EMBED_METHOD_BACKGROUND_COLOR = 'rgba(41, 122, 244, 0.1)'\n\nfunction Highlight({ children, color, height, width, margin, id, backgroundColor, ...props }) {\n  const { highlightShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  var style = {};\n  if (highlightShow) {\n    style = {\n      ...style,\n      border: `3px solid ${color}`,\n      backgroundColor: `${backgroundColor}`,\n      borderRadius: `4px`,\n      position: 'relative',\n    }\n  } else {\n    style = {\n      border: `3px solid transparent`,\n      backgroundColor: `transparent`,\n    }\n  }\n\n  if (height) { style['height'] = height }\n  if (width) { style['width'] = width }\n  if (margin) { style['margin'] = margin }\n\n\n  return (\n    <div id={id} style={style}\n    // {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport function ApiHighlight({ ...props }) {\n  const { highlightShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]); //useContext(AppContext)\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={API_COLOR} backgroundColor={API_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"API\"}\n      className={highlightShow ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{ backgroundColor: \"#A142F4\", color: '#fff', top: '-10px', right: '10px', position: 'absolute' }}\n    />\n    {children}\n\n  </Highlight>\n}\n\nexport function EmbedHighlight({ ...props }) {\n  const { highlightShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]); //useContext(AppContext)\n\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={EMBED_COLOR} backgroundColor={EMBED_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"Embed\"}\n      className={highlightShow ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{\n        backgroundColor: \"#12B5CB\",\n        color: '#fff',\n        top: '-10px',\n        right: '10px',\n        position: 'absolute',\n      }}\n    />\n    {children}\n\n  </Highlight>\n}\n\nexport function EmbedMethodHighlight({ ...props }) {\n  const { highlightShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]); //useContext(AppContext)\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={EMBED_METHOD_COLOR} backgroundColor={EMBED_METHOD_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"Embed Method\"}\n      className={highlightShow ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{\n        backgroundColor: \"#297AF4\",\n        color: '#fff',\n        top: '-10px',\n        right: '10px',\n        position: 'absolute'\n      }}\n    />\n    {children}\n\n  </Highlight>\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Typography, Grid, Chip } from '@material-ui/core';\nimport { ApiHighlight } from './Accessories/Highlight';\nconst { validIdHelper, decodeHtml, appContextMap } = require('../utils/tools');\n\n\nexport function NaturalLanguage({ lookerContentItem, inlineQuery, index, classes }) {\n\n  const [apiContent, setApiContent] = useState(undefined);\n  const { clientSession, sdk, corsApiCall, isReady } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { userProfile, lookerUser } = clientSession;\n\n  useEffect(() => {\n    if (isReady) {\n      let isSubscribed = true\n      corsApiCall(runInlineQuery).then(response => {\n        if (isSubscribed) {\n          setApiContent(response)\n        }\n      })\n      return () => isSubscribed = false\n    }\n  }, [lookerUser, isReady])\n\n  const runInlineQuery = async () => {\n    let clientLookerResponse = await sdk.ok(sdk.run_inline_query({ result_format: lookerContentItem.resultFormat || 'json', body: inlineQuery }));\n    return clientLookerResponse[0];\n  }\n\n  const upOrDownArrow = apiContent ? apiContent.change > 0 ? `&uarr;` : `&darr;` : '';\n\n  return (\n    <Grid item sm={12}>\n      {apiContent ?\n        <React.Fragment >\n          <ApiHighlight classes={classes} >\n            <Typography variant=\"subtitle1\" display=\"inline\">\n              Your {lookerContentItem.inlineQueriesMap[index]} category, <b>{apiContent['products.category']}</b>, is {apiContent.change > 0 ? 'up ' : 'down '}\n            </Typography>\n            <Chip size=\"small\"\n              label={`${decodeHtml(upOrDownArrow)} ${parseInt(apiContent.change * 100).toFixed(0)}% `}\n              className={apiContent.change > 0 ? classes.greenPos : classes.redNeg}\n              display=\"inline\"\n            />\n            <Typography variant=\"subtitle1\" display=\"inline\">\n              &nbsp;over the past week.\n        </Typography>\n          </ApiHighlight>\n        </React.Fragment>\n        : <div style={{ height: '56px' }}></div>\n      }\n    </Grid >\n  );\n}\n\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { Typography, Grid, Divider } from '@material-ui/core';\nimport { ApiHighlight } from './Accessories/Highlight';\nimport { appContextMap } from '../utils/tools';\n\nexport function VectorThumbnail({ lookerContentItem, classes, vectorItem, index }) {\n  // console.log('VectorThumbnail')\n\n  const [svg, setSvg] = useState(undefined)\n  const { clientSession, sdk, corsApiCall, isReady } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n  const { userProfile, lookerUser } = clientSession;\n\n  useEffect(() => {\n    let isSubscribed = true\n    if (isReady) {\n      corsApiCall(getThumbnail).then(response => {\n        // console.log({ response })\n        if (isSubscribed) {\n          setSvg(response)\n        }\n      })\n    }\n    return () => isSubscribed = false\n  }, [lookerUser, isReady])\n\n  const getThumbnail = async () => {\n    let clientLookerResponse = await sdk.ok(sdk.content_thumbnail({ type: vectorItem.resourceType, resource_id: vectorItem.id }));\n    const blob = new Blob([clientLookerResponse], { type: 'image/svg+xml' });\n    let url = URL.createObjectURL(blob);\n    return url;\n  }\n\n  return (\n    <Grid container\n      className={`${classes.cursorPointer}`}\n      spacing={3}\n      component={Link}\n      to={vectorItem.url}\n    >\n      {svg ?\n        <>\n          <Grid item sm={1} />\n          <Grid item sm={6}>\n            <ApiHighlight classes={classes}>\n              <div\n                className={` ${classes.maxHeight60} ${classes.textCenter} ${classes.cursorPointer} ${classes.overflowHidden}`}\n              >\n                <img\n                  src={svg}\n                  style={{ width: '100%' }}\n                />\n\n              </div>\n            </ApiHighlight>\n          </Grid>\n          <Grid item sm={4}>\n            <Typography variant=\"subtitle1\"  >{vectorItem.label}</Typography>\n          </Grid>\n          {index < 2 ?\n            <Grid item sm={12}>\n              <Divider className={`${classes.divider} ${classes.mb12} ${classes.mt12}`} />\n            </Grid> : ''}\n        </>\n        :\n        ''\n      }\n    </Grid >\n  );\n}","import React, { useState } from 'react';\nimport { Typography, Card, Grid } from '@material-ui/core';\nimport { VectorThumbnail } from './VectorThumbnail';\n\nconst { validIdHelper } = require('../utils/tools');\n\nexport function PopularAnalysis({ lookerContentItem, classes }) {\n  const [apiContent, setApiContent] = useState([]);\n\n  return (\n\n    <Card className={`${classes.padding15} ${classes.overflowHidden} ${classes.lookerCardShadow}`}>\n      <div\n        className={`${classes.overflowYScroll}`}\n        style={{ height: lookerContentItem.height }}\n      >\n        <Grid container\n          spacing={3}>\n          <Grid item sm={12}>\n            <Typography variant=\"h6\" align=\"center\" color=\"secondary\">\n              Helpful Dashboards\n          </Typography></Grid>\n          {lookerContentItem.vectors.map((vectorItem, index) => {\n            return (\n              <VectorThumbnail\n                key={`${validIdHelper('vectorThumbnail-splashPage-' + index)}`}\n                {...{ lookerContentItem, vectorItem, classes, index }}\n              />\n            )\n          }\n          )}\n        </Grid>\n      </div >\n    </Card>\n  );\n}\n","import React from 'react'\nimport { Grid, CircularProgress, Card } from '@material-ui/core'\n\n\nexport function Loader({ classes, height, hide }) {\n  return (\n    hide ? \"\" :\n      <Grid item sm={12} style={{ height }\n      } >\n        <Card className={`${classes.card} ${classes.flexCentered}`}\n          elevation={0}\n          mt={2}\n          style={{ height: `${height}px` }}\n        >\n          <CircularProgress className={classes.circularProgress} />\n        </Card>\n      </Grid >\n  )\n}\n","import React, { useContext } from 'react';\nimport { Typography, Grid, Fade, ClickAwayListener } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { dracula } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport { appContextMap } from '../../utils/tools';\n\nexport const CodeFlyout = (props) => {\n  // console.log(\"CodeFlyout\")\n  const { codeShow, setCodeShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { classes, lookerUser, height } = props;\n\n  return (\n\n    codeShow ?\n      <Grid item sm={6}\n        className={`${classes.positionTopRight} test`}>\n        <ClickAwayListener onClickAway={() => setCodeShow()}>\n          <Fade in={true}>\n            {\n              Object.keys(lookerUser).length ?\n                <Grid container spacing={3}\n                  className={`${classes.padding20} ${classes.codeFlyoutContainer}`}\n                  style={{ height }}\n                >\n                  <Grid item sm={11}>\n                    <Typography variant=\"h6\" className={` ${classes.mrAuto}`} style={{ color: 'white' }}>\n                      Looker User Object\n              </Typography>\n                  </Grid>\n                  <Grid item sm={1}\n                    style={{ textAlign: 'right' }}\n                  >\n                    <CloseIcon style={{ color: 'white', cursor: 'pointer' }} onClick={() => setCodeShow()} />\n                  </Grid>\n                  <Grid item sm={12}>\n                    <CodeSnippet code={lookerUser} />\n                  </Grid>\n                </Grid> : ''\n            }\n          </Fade >\n        </ClickAwayListener >\n      </Grid>\n      : \"\"\n\n  )\n}\n\nfunction CodeSnippet(props) {\n  const { code } = props\n  return (\n    <SyntaxHighlighter language=\"json\" style={dracula} showLineNumbers={true} >\n      {typeof code === \"object\" ? JSON.stringify(code, true, 4) : code}\n    </SyntaxHighlighter>)\n}","import _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Modal, Fade, Grid, Card, CardContent, CardActions, Button, Typography, Divider, List, ListItem, ListItemText } from '@material-ui/core';\nimport { Rating } from '@material-ui/lab'\nimport { ListItemIcon } from '@material-ui/core'; //already declared\nimport { Check } from '@material-ui/icons';\nimport { appContextMap, validIdHelper } from '../../utils/tools';\n\nfunction getModalStyle() {\n  const top = 10 //+ rand();\n  const left = 50 //+ rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${left}%, -${top}%)`,\n  };\n}\n\nexport const UserPermissionsModal = ({ content, classes }) => {\n  // console.log('MonetizationModal');\n  // console.log({ content })\n  const { clientSession, payWallModal, setPaywallModal, handleSwitchLookerUser } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const [modalStyle] = React.useState(getModalStyle);\n  const { permissionLevels, modalPermissionsMap } = content;\n\n  return (\n    < Modal\n      className={`${classes.modal} `}\n      open={payWallModal.show || false}\n      onClose={() => setPaywallModal({})}\n    >\n      <Fade in={payWallModal.show || false}>\n        <div\n          style={modalStyle}\n          className={`${classes.modalPopover} ${classes.padding30}`}\n        >\n          <Grid container\n            spacing={3}>\n            {Object.keys(permissionLevels).map((key, index) => {\n              return (\n                <Grid item sm={12 / Object.keys(permissionLevels).length}\n                  key={validIdHelper(`monetizationModal-gridItem-${key}`)}\n                >\n                  <Card className={`${classes.modalCard} ${classes[key]}`}\n                    elevation={1}\n                    style={key === clientSession.lookerUser.user_attributes.permission_level ? {\n                      backgroundColor: '#5F6BD8',\n                      color: '#ffffff',\n                      height: 519\n                    } : {\n                        height: 519\n                      }}\n                    onClick={() => {\n                      handleSwitchLookerUser(key, 'permission')\n                      setPaywallModal({})\n                    }}>\n                    <CardContent>\n                      <Typography variant=\"h6\">\n                        {_.capitalize(key)}\n                      </Typography>\n                      <Typography>\n                        <Rating\n                          name=\"read-only\"\n                          value={5 - Object.keys(permissionLevels).length + index + 1}\n                          readOnly /></Typography>\n                      <Typography variant=\"subtitle1\" style={{ fontStyle: 'italic' }}>\n                        {modalPermissionsMap[key].title}\n                      </Typography>\n\n                      <Divider className={`${classes.divider} `} />\n\n                      <List>\n                        {\n                          modalPermissionsMap[key].list.map((item, index) => (\n                            <ListItem dense={true}\n                              key={`monetizationModal-ListItem-${key}-${index}`}\n                            >\n                              <ListItemIcon\n                              >\n                                <Check fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary={item} />\n                            </ListItem>\n                          ))\n                        }\n                      </List>\n                    </CardContent>\n                    <CardActions disableSpacing={false}>\n                      <Button\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        fullWidth\n                        onClick={() => {\n                          handleSwitchLookerUser(key, 'permission')\n                          setPaywallModal({})\n                        }}\n                        style={key === clientSession.lookerUser.user_attributes.permission_level ? { color: '#ffffff', borderColor: \"#ffffff\" } : {}}>\n                        {key === clientSession.lookerUser.user_attributes.permission_level ? \"Active\" :\n                          Object.keys(modalPermissionsMap).indexOf(clientSession.lookerUser.user_attributes.permission_level) < Object.keys(modalPermissionsMap).indexOf(key) ?\n                            'Upgrade' :\n                            'Switch'}\n                      </Button>\n                    </CardActions>\n                  </Card>\n                </Grid>\n              )\n            })}\n          </Grid>\n        </div >\n      </Fade >\n    </Modal >\n  );\n}\n","import React from 'react';\n\nexport function NumberToColoredPercent({ val, positive_good, abs_val }) {\n\n  // console.log(\"NumberToColoredPercent\")\n  // console.log({ val })\n\n  const colors = {\n    up: (positive_good) ? 'green' : 'red',\n    down: (positive_good) ? 'red' : 'green'\n  }\n  const color = (val < 0) ? colors.down : (val > 0) ? colors.up : 'black'\n  const val_formatted = Math.abs(val).toLocaleString(\"en\", { style: \"percent\", minimumFractionDigits: 2 })\n  const icon = (val < 0) ? '' : (val > 0) ? '' : ''\n\n  return (<>\n    <font\n      color={color}\n    >\n      {`${icon} ${val_formatted}`}\n    </font>\n  </>\n  )\n}","import { makeStyles } from '@material-ui/core/styles';\nimport { red, green, grey } from '@material-ui/core/colors';\nconst redPrimary = red[500];\nconst greenPrimary = green[500];\nconst redLight = red[100];\nconst greenLight = green[100];\nconst lightGrey = grey[200];\n\nexport const topBarBottomBarHeight = 140;\nexport const additionalHeightForFlyout = 15; //hack for now\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    overflow: 'scroll',\n    borderRadius: 8\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  card: {\n    minWidth: 275,\n  },\n  padding30: {\n    padding: 30\n  },\n  minHeight680: {\n    minHeight: 680,\n  },\n  maxHeight200: {\n    maxHeight: 200,\n    height: 200,\n    overflow: 'hidden'\n  },\n  mt30: {\n    marginTop: 30\n  },\n  mb30: {\n    marginBottom: 30\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  cursorPointer: {\n    cursor: 'pointer'\n  },\n  border: {\n    border: '1px solid black'\n  },\n  height800: {\n    height: 800\n  },\n  maxHeight100: {\n    maxHeight: 100,\n    height: 100,\n  },\n  maxHeight400: {\n    maxHeight: 400,\n    height: 400,\n  },\n  minHeight200: {\n    minHeight: 200,\n    overflow: 'scroll'\n  },\n  redNeg: {\n    backgroundColor: redLight,\n    color: redPrimary,\n    fontWeight: 800\n  },\n  greenPos: {\n    backgroundColor: greenLight,\n    color: greenPrimary,\n    fontWeight: 800\n  },\n  padding30: {\n    padding: 30\n  },\n  mb12: {\n    marginBottom: 12\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  overflowHidden: {\n    overflow: 'hidden'\n  },\n  overflowVisible: {\n    overflow: 'visible'\n  },\n  maxHeight150: {\n    maxHeight: 150,\n    height: 150,\n  },\n  minHeight150: {\n    minHeight: 150,\n    overflow: 'scroll'\n  },\n  maxHeight75: {\n    maxHeight: 75,\n    height: 75,\n  },\n  overflowYScroll: {\n    overflowY: 'scroll',\n    overflowX: 'hidden'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  padding20: {\n    padding: 20\n  },\n  codeFlyoutContainer: {\n    backgroundColor: 'rgb(40, 42, 54)',\n    overflow: 'scroll',\n    borderRadius: '0 8px 8px 0'\n  },\n  height100Percent: {\n    height: '100%'\n  },\n  noContainerScroll: {\n    width: '100%',\n    margin: 0\n  },\n  lookerCardShadow: {\n    border: 'none',\n    borderRadius: '6px',\n    boxShadow: 'rgba(0, 0, 0, 0.11) 0px 2px 12px, rgba(0, 0, 0, 0.04) 0px 1px 4px'\n  },\n  maxHeight60: {\n    maxHeight: 60,\n    height: 60,\n  },\n  maxHeight350: {\n    maxHeight: 350,\n    height: 350,\n  },\n  maxHeight80Percent: {\n    maxHeight: '80%',\n    height: '80%'\n  },\n  faSm: {\n    fontSize: '.75em'\n  },\n  mr12: {\n    marginRight: 12\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  dot: {\n    height: \"25px\",\n    width: \"25px\",\n    borderRadius: \"50%\",\n    display: \"inline-block\"\n  },\n  borderRadius0: { borderRadius: 0 },\n  w33: {\n    width: \"33%\"\n  },\n  verticalAlignTop: {\n    verticalAlign: 'top'\n  },\n  padding10: {\n    padding: 10\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  bluePrimary: {\n    backgroundColor: 'rgba(69, 149, 236, 1)'\n  },\n  blueSecondary: {\n    backgroundColor: 'rgba(69, 149, 236, .5)',\n  },\n  orangePrimary: {\n    backgroundColor: 'rgba(243, 167, 89, 1)'\n  },\n  orangeSecondary: {\n    backgroundColor: 'rgba(243, 167, 89, .5)'\n  },\n  bottomBarSpacer: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  maxHeight600: {\n    maxHeight: 600,\n    overflow: 'scroll'\n  },\n  m12: {\n    margin: 12\n  },\n  m6: {\n    margin: 6\n  },\n  small: {\n    width: theme.spacing(3),\n    height: theme.spacing(3),\n  },\n  signInCard: {\n    minWidth: 350,\n    minHeight: 500,\n    left: '75%',\n    top: '50%',\n    transform: `translate(-75%, -50%)`,\n    position: 'absolute',\n    textAlign: 'center',\n    backgroundColor: lightGrey\n  },\n  signInCardCopy: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: `translate(-50%, -50%)`,\n    margin: '0',\n    width: '80%',\n  },\n  paddingTB15: {\n    padding: \"15px 0\"\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  w90: {\n    width: '90%'\n  },\n  animatedGridItem: { transition: \"2s\" },\n  inlineList: {\n    display: 'flex',\n    flexDirection: 'row',\n    padding: 0,\n  },\n  inlineListPaddingTop10: {\n    display: 'flex',\n    flexDirection: 'row',\n    padding: 10,\n  },\n  padding15: { padding: 15 }\n}));","import _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Box, Grid, Card } from '@material-ui/core'\nimport { Loader, CodeFlyout } from '@pbl-demo/components/Accessories'\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from './styles.js';\nimport { useLocation } from \"react-router-dom\";\nimport queryString from 'query-string';\n\nconst { validIdHelper, appContextMap, validateContent } = require('../utils/tools');\n\nexport const PDFViewer = (props) => {\n  const [iFrameExists, setIFrame] = useState(1);\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const { clientSession: { lookerUser, lookerHost } } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { staticContent: { lookerContent, type, schema } } = props;\n  const demoComponentType = type;\n  const classes = useStyles();\n  let location = useLocation();\n  const [pdfToUse, setPdfToUse] = useState(lookerContent[0].pdf);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n  }, [lookerContent]);\n\n  validateContent(lookerContent[0], schema)\n\n  useEffect(() => {\n    let params = queryString.parse(location.search);\n    let paramMatchesPDFUrl = params.pdf_url ? true : false;\n\n    if (paramMatchesPDFUrl) {\n      setPdfToUse(params[\"pdf_url\"]);\n    }\n\n  }, [location.search])\n\n  return (\n    <div className={`${classes.root} ${classes.positionRelative}`}\n      style={{ height }}\n    >\n      <Card elevation={1} className={`${classes.padding15} ${classes.height100Percent} ${classes.overflowScroll}`}\n      >\n        <Grid container\n          key={validIdHelper(type)}>\n          <div className={classes.root}>\n\n            <Loader\n              hide={iFrameExists}\n              classes={classes}\n              height={height} />\n\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\n              <Grid container\n                spacing={3}\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}\n                className={`${classes.noContainerScroll}`}\n              >\n\n                <CodeFlyout {...props}\n                  classes={classes}\n                  lookerUser={lookerUser}\n                  height={height - additionalHeightForFlyout}\n                />\n                {pdfToUse ?\n                  <object data={pdfToUse} type=\"application/pdf\" className={`${classes.minHeight680} ${classes.w100}`}>\n                    <iframe src={`https://docs.google.com/viewer?url=${pdfToUse}&embedded=true`} style={{ height: \"100%\", width: \"100%\" }}></iframe>\n                  </object> : \"\"}\n\n              </Grid>\n            </Box >\n          </div >\n        </Grid >\n      </Card >\n    </div >\n  )\n}","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Box, Grid, Card } from '@material-ui/core'\nimport { Loader, CodeFlyout, EmbedHighlight } from '@pbl-demo/components/Accessories'\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from '@pbl-demo/components/styles';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport { createEmbeddedExplore } from './helpers'\nconst { validIdHelper, appContextMap, validateContent } = require('../../utils/tools');\n\nexport const EmbeddedExplore = ({ staticContent: { lookerContent, type, schema } }) => {\n  // console.log(\"EmbeddedExplore\")\n  const [iFrameExists, setIFrame] = useState(1);\n  const [apiContent, setApiContent] = useState(undefined);\n  const [exploreObj, setExploreObj] = useState({});\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const { clientSession, clientSession: { lookerUser, lookerHost }, isReady, sdk, corsApiCall, selectedMenuItem } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const demoComponentType = type;\n  const classes = useStyles();\n\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n  }, [lookerContent]);\n\n  useEffect(() => {\n    if (isReady) {\n      corsApiCall(performLookerApiCalls, [[...lookerContent]])\n      setApiContent(undefined);\n    }\n  }, [lookerUser, isReady, selectedMenuItem])\n\n  // needed to copy from home to make it work\n  useEffect(() => {\n    let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n    LookerEmbedSDK.init(modifiedBaseUrl, '/auth')\n  }, [])\n\n  const performLookerApiCalls = (lookerContent) => {\n    // console.log(\"performLookerApiCalls\")\n    // console.log({ lookerContent })\n    $(`.embedContainer.${validIdHelper(type)}:visible`).html('')\n\n    lookerContent.map(async lookerContentItem => {\n      if (lookerContentItem.type === \"explore\") {\n        let embeddedExplore = await createEmbeddedExplore({\n          \"LookerEmbedSDK\": LookerEmbedSDK,\n          lookerContentItem,\n          containerId: validIdHelper(`#embedContainer-${demoComponentType}-${lookerContentItem.id}`),\n          clientSession\n        });\n        // console.log({ embeddedExplore })\n        setIFrame(embeddedExplore.iframe);\n        setExploreObj(embeddedExplore.exploreObj)\n      }\n    })\n  }\n\n  const helperFunctionMapper = async ({ newValue, item }) => {\n    // console.log(\"helperFunctionMapper\");\n    // console.log({ newValue })\n    // console.log({ item })\n    if (newValue === \"Saved Queries\") {\n      //   //copy and exclude qid\n      const lookerContentCopy = lookerContent.map(({ qid, ...rest }) => rest)\n      performLookerApiCalls(lookerContentCopy);\n    } else {\n      performLookerApiCalls(lookerContent);\n    }\n  }\n\n  return (\n    <div className={`${classes.root} ${classes.positionRelative}`}\n      style={{ height }}\n    >\n      <Card elevation={1}\n        className={`${classes.padding15} ${classes.height100Percent} ${classes.overflowScroll}`}\n      >\n        <Grid container\n          key={validIdHelper(type)}>\n          <div className={classes.root}>\n            <Loader\n              hide={iFrameExists}\n              classes={classes}\n              height={height} />\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\n              <Grid container\n                spacing={3}\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}\n                className={`${classes.noContainerScroll}`}\n              >\n                <CodeFlyout\n                  classes={classes}\n                  lookerUser={lookerUser}\n                  height={height - additionalHeightForFlyout}\n                />\n\n                {lookerContent[0].actions ?\n                  <Grid container>\n                    {lookerContent[0].actions.map(item => {\n                      let Component = item.component\n                      return (\n                        <Grid item sm={item.gridWith}>\n                          <Component classes={classes} item={item} helperFunctionMapper={helperFunctionMapper} />\n                        </Grid>\n                      )\n                    })}\n                  </Grid>\n                  : \"\"}\n\n\n                <Grid item\n                  sm={12}\n                >\n                  <Box className={`${classes.w100} ${classes.padding10}`} mt={lookerContent[0].filter || lookerContent[0].dynamicFieldLookUp ? 2 : 0}>\n                    <EmbedHighlight classes={classes}>\n                      <div\n                        className={`embedContainer ${validIdHelper(type)}`}\n                        id={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent[0].id}`)}\n                        key={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent[0].id}`)}\n                      >\n                      </div>\n                    </EmbedHighlight>\n                  </Box>\n                </Grid>\n              </Grid>\n            </Box >\n          </div >\n        </Grid >\n      </Card >\n    </div >\n  )\n}","import _ from 'lodash';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory, } from \"react-router-dom\";\nimport { IconButton, Menu, MenuItem, Typography, Divider, TextField, Avatar } from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { appContextMap, validIdHelper, endSession } from '../utils'\n\n\nexport const UserMenu = ({ classes, content }) => {\n  // console.log(\"UserMenu\");\n  // console.log({ content })\n\n  let history = useHistory();\n  let { setPaywallModal, clientSession, setClientSession, handleSwitchLookerUser, setIsReady, setSdk } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [selectedBrand, setSelectedBrand] = useState(clientSession.lookerUser.user_attributes.brand || '');\n  const { permissionLevels, rowLevelAttribute } = content\n\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (newValue, property) => {\n    setAnchorEl(null);\n    if (newValue == null) {\n      setIsReady(false);\n      endSession();\n      setClientSession({})\n      setSdk()\n      history.push(\"/\");\n    } else if (newValue === 'modal') {\n      setPaywallModal({\n        'show': true,\n        'permissionNeeded': 'explore'\n      })\n    } else if (typeof newValue === 'string') {\n      handleSwitchLookerUser(newValue, property)\n    }\n  };\n  useEffect(() => {\n    setSelectedBrand(clientSession.lookerUser.user_attributes.brand || '')\n  }, [clientSession.lookerUser]);\n\n  return (\n    <div className={`${classes.zIndex1500}`}>\n      <IconButton\n        aria-label=\"account of current user\"\n        aria-controls=\"menu-appbar\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        color=\"inherit\"\n      >\n        <Avatar alt={clientSession.userProfile.name} src={clientSession.userProfile.imageUrl} className={classes.mr12} />\n\n        <Typography>\n          {typeof clientSession.lookerUser.user_attributes.permission_level === 'string' ?\n            clientSession.lookerUser.user_attributes.permission_level.charAt(0).toUpperCase() + clientSession.lookerUser.user_attributes.permission_level.substring(1) : ''}\n        </Typography>\n      </IconButton>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <MenuItem autoFocus={false}>Select User Level</MenuItem>\n\n        {Object.keys(permissionLevels).map(key => {\n          return (<MenuItem\n            key={validIdHelper(`$lookerUserPermission-MenuItem-${key}`)}\n            autoFocus={false}\n            onClick={() => handleClose(key, 'permission')}>{_.capitalize(key)}</MenuItem>)\n        })}\n\n        <Divider className={classes.divider} />\n        <MenuItem onClick={() => handleClose(null)}>Sign Out</MenuItem>\n        <Divider className={classes.divider} />\n        {content.allowModal ?\n          <MenuItem onClick={() => handleClose('modal')}>Show Monetization Modal</MenuItem> : \"\"}\n        {Object.keys(rowLevelAttribute).length ? <div>\n          <Divider className={classes.divider} />\n          <MenuItem>{rowLevelAttribute.menuItemLabel}: {selectedBrand}</MenuItem>\n          <MenuItem>\n            <Autocomplete\n              id=\"combo-box-usermenu\"\n              options={rowLevelAttribute.options || []}\n              getOptionLabel={(option) => option.label}\n              style={{ width: 300 }}\n              onChange={(event) => handleClose((event.target.innerText || ''), 'brand')}\n              renderInput={(params) => <TextField {...params}\n                label={rowLevelAttribute.autoCompleteLabel}\n                variant=\"outlined\"\n              />}\n              loadingText=\"Loading...\"\n              disableautofocus=\"true\"\n              onKeyDown={(event) => event.stopPropagation()}\n            />\n          </MenuItem></div> : \"\"}\n      </Menu>\n    </div>\n  );\n}\n","import _, { filter } from 'lodash';\nimport React, { useState, useEffect } from 'react';\nimport { Typography, Grid, TextField } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport { ApiHighlight } from '../Accessories/Highlight';\nimport { NumberToColoredPercent } from '../Accessories';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport parse from \"autosuggest-highlight/parse\";\nimport match from \"autosuggest-highlight/match\";\n\nconst { validIdHelper } = require('../../utils/tools');\n\nexport const AutoComplete = ({ filterItem, apiContent, classes, action, setDynamicSearch }) => {\n  // console.log(\"AutoComplete\");\n  // console.log({ filterItem })\n  // console.log({ apiContent })\n\n  const [open, setOpen] = useState(false)\n  const [value, setValue] = useState(null);\n\n\n  return (\n    filterItem ?\n      <ApiHighlight\n        key={validIdHelper(`dashEmbed-${filterItem.label}`)}\n        classes={classes} >\n        <Typography>\n          {filterItem.label ? filterItem.label : \"\"}\n        </Typography>\n        <Autocomplete\n          id={`combo-box-dashboard-${filterItem.label || filterItem.alternateName}`}\n          options={Array.isArray(apiContent) ?\n            apiContent :\n            []}\n          renderOption={handleRenderOption} // highlighter\n          getOptionLabel={option => typeof option === 'string' ? option : option.label}\n          onChange={(event, newValue) => {\n            let newValueToUse = '';\n            if (newValue && newValue.value) newValueToUse = newValue.value\n            else if (newValue && newValue.label) newValueToUse = newValue.label\n            action(\n              filterItem.filterName,\n              newValueToUse)\n            // console.log({ newValueToUse })\n            // if (filterItem.apiDrivenSearch) {\n            //   //match email\n            //   let email = newValue && newValue.label && newValue.label.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi);\n            //   newValueToUse = email.length ? email[0] : newValueToUse\n            //   console.log({ newValueToUse })\n            //   setValue(newValueToUse)\n            // } else \n            setValue(newValue && newValue.label ? newValue.label : null)\n          }}\n          renderInput={(params) =>\n            < TextField\n              {...params}\n              label={open || value ? \"\" : filterItem.alternateName ?\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  flexWrap: 'wrap',\n                }}><SearchIcon />\n                  {filterItem.alternateName}</div> :\n                filterItem.filterName\n              }\n              InputLabelProps={filterItem.disableShrink ? { shrink: false } : {}}\n              variant=\"outlined\"\n            />\n          }\n          loadingText=\"Loading...\"\n          style={filterItem.style ? { ...filterItem.style } : {}}\n          onInputChange={_.debounce((event) => {\n            if (filterItem.apiDrivenSearch && event.target.value) setDynamicSearch(event.target.value)\n          }, 1000)}\n          size={filterItem.size ? filterItem.size : \"medium\"}\n          onOpen={() => { setOpen(true) }}\n          onClose={() => { setOpen(false) }}\n          value={value}\n        />\n      </ApiHighlight> : \"\"\n  )\n}\n\nconst handleRenderOption = (option, { inputValue }) => {\n  const matches = match(option.label, inputValue);\n  const parts = parse(option.label, matches);\n\n  const highlightStyle = {\n    fontWeight: 700,\n    backgroundColor: \"lightyellow\",\n    padding: \"5px 2px\"\n  };\n\n  return (\n    <div>\n      {parts.map((part, index) => (\n        <span key={index} style={part.highlight ? highlightStyle : {}}>\n          {part.text}\n        </span>\n      ))}\n      {option.trend &&\n        <NumberToColoredPercent\n          val={option.trend}\n          positive_good={true}\n          abs_val={Math.abs(option.trend)}\n        />\n      }\n    </div>\n  );\n};\n\nexport default handleRenderOption;","import _ from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { Typography } from '@material-ui/core'\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport const ToggleTile = ({ classes, filterItem, helperFunctionMapper, lightThemeToggleValue, fontThemeSelectValue }) => {\n  // console.log(\"ToggleTile\")\n  // console.log({ classes })\n  // console.log({ filterItem })\n  // console.log({ helperFunctionMapper })\n\n  const [tileToggleValue, setTileToggleValue] = useState(filterItem ? filterItem.options[0] : \"\");\n\n  useEffect(() => {\n    setTileToggleValue(filterItem ? filterItem.options[0] : \"\")\n  }, [fontThemeSelectValue, lightThemeToggleValue])\n  return (\n    <EmbedMethodHighlight classes={classes} >\n      <Typography\n      >\n        {filterItem.label}\n      </Typography>\n      <ToggleButtonGroup\n        value={tileToggleValue}\n        exclusive\n        onChange={(event, newValue) => {\n          setTileToggleValue(newValue)\n          helperFunctionMapper(event, newValue, filterItem)\n        }}\n        aria-label=\"text alignment\"\n      >\n        {Object.keys(filterItem.tileLookUp).map(key => {\n          return (\n            <ToggleButton\n              key={validIdHelper(`dynamicDashTileToggle-${key}`)}\n              value={key}\n              aria-label=\"left aligned\">\n              {key}\n            </ToggleButton>\n          )\n        })}\n      </ToggleButtonGroup>\n    </EmbedMethodHighlight>\n  )\n}\n","import _ from 'lodash';\nimport React, { useState, useEffect } from 'react';\nimport { Typography } from '@material-ui/core'\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport const ToggleVisColor = ({ classes, filterItem, helperFunctionMapper, lightThemeToggleValue, fontThemeSelectValue }) => {\n  // console.log(\"ToggleVisColor\")\n  // console.log({ classes })\n  // console.log({ filterItem })\n  // console.log({ helperFunctionMapper })\n\n  const [visColorToggleValue, setVisColorToggleValue] = useState(filterItem ? filterItem.options[1] : \"\");\n\n\n  useEffect(() => {\n    setVisColorToggleValue(filterItem ? filterItem.options[1] : \"\")\n  }, [fontThemeSelectValue, lightThemeToggleValue])\n\n  return (\n\n    <EmbedMethodHighlight classes={classes} >\n      <Typography\n      >{filterItem.label}</Typography>\n      <ToggleButtonGroup\n        value={visColorToggleValue}\n        exclusive\n        onChange={(event, newValue) => {\n          setVisColorToggleValue(newValue)\n          helperFunctionMapper(event, newValue, filterItem)\n        }}\n        aria-label=\"text alignment\"\n      >\n        {Object.keys(filterItem.colors).map(key => {\n          return (\n            <ToggleButton\n              key={validIdHelper(`dynamicDashVisConfigToggle-${key}`)}\n              value={key} aria-label=\"left aligned\">\n              <span className={`${classes.dot}`} style={{\n                backgroundColor: (filterItem.colors[key][filterItem.colors[key].length - 2]\n                  || key)\n              }}></span>\n            </ToggleButton>\n          )\n        })}\n      </ToggleButtonGroup>\n    </EmbedMethodHighlight>\n  )\n}\n","import React, { useState } from 'react';\nimport { Typography, Grid, Switch } from '@material-ui/core'\nimport { EmbedHighlight } from '../Accessories/Highlight';\n\nexport const SwitchTheme = ({ classes, filterItem, helperFunctionMapper }) => {\n  const [lightThemeToggleValue, setLightThemeToggleValue] = useState(true);\n\n  return (\n    <EmbedHighlight classes={classes} >\n      <Typography\n      >{lightThemeToggleValue ? \"Light mode\" : \"Dark mode\"}</Typography>\n\n      <Switch\n        checked={!lightThemeToggleValue}\n        onChange={(event, newValue) => {\n          setLightThemeToggleValue(!event.target.checked)\n          helperFunctionMapper(event, !event.target.checked, filterItem)\n        }}\n        color=\"primary\"\n        name=\"light theme toggle\"\n        inputProps={{ 'aria-label': 'primary checkbox' }}\n      />\n\n    </EmbedHighlight>\n  )\n}\n","import { CheckboxSVGMap } from \"react-svg-map\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport _ from 'lodash'\n\nCheckboxSVGMap.prototype.toggleLocation = function toggleLocation(event) {\n  const location = event.target;\n  // console.log('location', location)\n  // console.log('this.props.map', this.props.map)\n\n  this.setState(prevState => {\n\n    // Copy old state\n    let selectedLocations = [...prevState.selectedLocations];\n    // console.log('selectedLocations', selectedLocations)\n    // console.log('selectedLocations.length', selectedLocations.length)\n\n    //get region associated with states\n    let regionFromStateClicked = _.find(this.props.map.locations, { id: location.id })\n    //all states belonging to region clicked\n    let statesWithinRegionClicked = _.filter(this.props.map.locations, { region: regionFromStateClicked.region })\n\n    //get all unique regions\n    let allUniqueRegions = [];\n    for (let i = 0; i < this.props.map.locations.length; i++) {\n      if (allUniqueRegions.indexOf(this.props.map.locations[i].region) == -1) {\n        allUniqueRegions.push(this.props.map.locations[i].region)\n      }\n    }\n    //get unique regions only from selected locations\n    let allUniqueRegionsFromSelectedLocations = [];\n    for (let j = 0; j < selectedLocations.length; j++) {\n      if (allUniqueRegionsFromSelectedLocations.indexOf(selectedLocations[j].region) == -1) {\n        allUniqueRegionsFromSelectedLocations.push(selectedLocations[j].region)\n      }\n    }\n    //determine which regions are not currently selected\n    let regionsNotCurrentlySelected = _.differenceBy(allUniqueRegions, allUniqueRegionsFromSelectedLocations);\n    let allRegionsNotSelected = [...regionsNotCurrentlySelected, regionFromStateClicked.region];\n    //filter all locations, for all the regions that have not been selected :D\n    let statesNotWithinRegionsClicked = _.filter(this.props.map.locations, (location) => {\n      return allRegionsNotSelected.indexOf(location.region) == -1\n    });\n\n    if (location.attributes['aria-checked'].value === 'true') {\n      // Delete location\n      selectedLocations = statesNotWithinRegionsClicked;\n    } else {\n      // Add location\n      selectedLocations.push(...statesWithinRegionClicked);\n    }\n\n    // Call onChange event handler\n    if (this.props.onChange) {\n      this.props.onChange(selectedLocations);\n    }\n\n    // Return new state\n    return { selectedLocations };\n  });\n}\n\nCheckboxSVGMap.prototype.componentDidMount = function componentDidMount() {\n  //override components for all states to be selected initially\n  this.setState({ selectedLocations: this.props.map.locations });\n}\n\nexport { CheckboxSVGMap as CheckboxSVGMap } \n","import Usa from \"@svg-maps/usa\";\nimport {\n  SentimentDissatisfied, SentimentSatisfied, SentimentVerySatisfied,\n} from '@material-ui/icons';\n\nexport const customUsa = {\n  ...Usa,\n  label: \"Custom map label\",\n  locations: Usa.locations.map(location => {\n    // Modify each location\n    switch (location.name) {\n      //9\n      case \"Connecticut\":\n      case \"Maine\":\n      case \"Massachusetts\":\n      case \"New Hampshire\":\n      case \"Rhode Island\":\n      case \"Vermont\":\n      case \"New Jersey\":\n      case \"New York\":\n      case \"Pennsylvania\":\n      case \"Delaware\":\n        return { ...location, region: \"Northeast\" }\n      //12\n      case \"Illinois\":\n      case \"Indiana\":\n      case \"Michigan\":\n      case \"Ohio\":\n      case \"Wisconsin\":\n      case \"Iowa\":\n      case \"Kansas\":\n      case \"Minnesota\":\n      case \"Missouri\":\n      case \"Nebraska\":\n      case \"North Dakota\":\n      case \"South Dakota\":\n        return { ...location, region: \"Midwest\" }\n      //16\n      case \"Florida\":\n      case \"Georgia\":\n      case \"Maryland\":\n      case \"North Carolina\":\n      case \"South Carolina\":\n      case \"Virginia\":\n      case \"District of Columbia\":\n      case \"Washington, DC\":\n      case \"West Virginia\":\n      case \"Alabama\":\n      case \"Kentucky\":\n      case \"Mississippi\":\n      case \"Tennessee\":\n      case \"Arkansas\":\n      case \"Louisiana\":\n      case \"Oklahoma\":\n      case \"Texas\":\n        return { ...location, region: \"South\" }\n      //8\n      case \"Arizona\":\n      case \"Colorado\":\n      case \"Idaho\":\n      case \"Montana\":\n      case \"Nevada\":\n      case \"New Mexico\":\n      case \"Utah\":\n      case \"Wyoming\":\n        return { ...location, region: \"Mountain\" }\n      //5\n      case \"Alaska\":\n      case \"California\":\n      case \"Hawaii\":\n      case \"Oregon\":\n      case \"Washington\":\n        return { ...location, region: \"Pacific\" }\n      // default:\n      //   return location\n    }\n  })\n}\nexport const lifetimeRevenueTierMap = {\n  \"0 to 99\": \"low\",\n  \"100 to 499\": \"medium\",\n  \"500 or Above\": \"high\",\n}\nexport const lifetimeRevenueTierIconMap = {\n  \"0 to 99\": SentimentDissatisfied,\n  \"100 to 499\": SentimentSatisfied,\n  \"500 or Above\": SentimentVerySatisfied,\n}\n","import React, { useState } from 'react';\nimport { Typography } from '@material-ui/core'\nimport { CheckboxSVGMap } from \"./CheckboxSvgMapRegion\";\nimport { customUsa } from './helpers';\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport function MapFilter({ classes, action, filterItem }) {\n\n  const [regionValue, setRegionValue] = useState('Pacific, South, Mountain, Midwest, Northeast');\n\n  return (\n    <EmbedMethodHighlight classes={classes}\n      key={validIdHelper(`dashEmbed-${filterItem.label}`)} >\n      <Typography className={`${classes.heading} ${classes.ml12}  ${classes.verticalAlignTop}`}\n      >\n        {filterItem.label}: <b>{regionValue ? regionValue : \"Outside US\"}</b>\n      </Typography>\n\n      <CheckboxSVGMap map={customUsa}\n        onChange={(locations) => {\n\n          let allUniqueRegionsFromSelectedLocations = [];\n          for (let j = 0; j < locations.length; j++) {\n            if (allUniqueRegionsFromSelectedLocations.indexOf(locations[j].region) == -1) {\n              allUniqueRegionsFromSelectedLocations.push(locations[j].region)\n            }\n          }\n          let allUniqueRegionsFromSelectedLocationsCommaSep = allUniqueRegionsFromSelectedLocations.join(\",\")\n          setRegionValue(allUniqueRegionsFromSelectedLocationsCommaSep)\n          action(\n            filterItem.filterName,\n            (regionValue) ? regionValue : '')\n        }}\n      />\n    </EmbedMethodHighlight>\n  )\n}\n","import React, { useState } from 'react';\nimport { Typography, Slider } from '@material-ui/core'\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport const RangeSlider = ({ apiContent, classes, action, filterItem }) => {\n\n  const [sliderValue, setSliderValue] = useState([]);\n\n  return (\n    <EmbedMethodHighlight classes={classes}\n      key={validIdHelper(`dashEmbed-${filterItem.label}`)} >\n      <Typography className={`${classes.heading} ${classes.ml12}  ${classes.verticalAlignTop}`}>\n        {filterItem.label}:\n        </Typography>\n      <Slider\n        value={sliderValue.length ? sliderValue : Array.isArray(apiContent) ? [apiContent[0].label, apiContent[apiContent.length - 1].label] : []}\n        onChange={(event, newValue) => {\n          setSliderValue(newValue);\n        }}\n        valueLabelDisplay=\"auto\"\n        aria-labelledby=\"range-slider\"\n        onChangeCommitted={(event, newValue) => {\n          action(\n            filterItem.filterName,\n            (newValue) ? `[${newValue}]` : '[]')\n        }}\n        min={Array.isArray(apiContent) && apiContent.length ? apiContent[0].label : 0}\n        max={Array.isArray(apiContent) && apiContent.length ? apiContent[apiContent.length - 1].label : 0}\n        disabled={Array.isArray(apiContent) && apiContent.length ? false : true}\n      />\n    </EmbedMethodHighlight>\n  )\n}\n","import _ from 'lodash';\nimport React, { useState } from 'react';\nimport { Typography } from '@material-ui/core'\nimport { lifetimeRevenueTierMap, lifetimeRevenueTierIconMap } from './helpers';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\nexport const ToggleApi = ({ apiContent, classes, action, filterItem }) => {\n\n  const [lifetimeRevenueTierValue, setLifetimeRevenueTierValue] = useState('0-24');\n  return (\n    <EmbedMethodHighlight classes={classes}\n      key={validIdHelper(`dashEmbed-${filterItem.label}`)} >\n      <Typography className={`${classes.heading} ${classes.ml12}  ${classes.verticalAlignTop}`}\n      >\n        {filterItem.label}:\n        </Typography>\n      <ToggleButtonGroup\n        value={lifetimeRevenueTierValue}\n        exclusive //for now\n        onChange={(event, newValue) => {\n          setLifetimeRevenueTierValue(newValue)\n          action(\n            filterItem.filterName,\n            (newValue) ? newValue : '')\n        }}\n        aria-label=\"ageTier\"\n        className={classes.w100}>\n        {Array.isArray(apiContent) ? apiContent.map((ageTier, index) => {\n          if (ageTier.label !== \"Undefined\") {\n            const Icon = lifetimeRevenueTierIconMap[ageTier.label];\n            return (\n              <ToggleButton\n                key={validIdHelper(`$FilterBar-ToggleButton-${filterItem.label}-${index}`)}\n                value={ageTier.label}\n                aria-label={ageTier.label}\n                className={classes.w33}>\n                <Icon className={classes.mr12} />\n                {_.capitalize(lifetimeRevenueTierMap[ageTier.label]) || ageTier.label}\n              </ToggleButton>\n            )\n          }\n        }) : ''}\n      </ToggleButtonGroup>\n    </EmbedMethodHighlight>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { FormControl, Select, MenuItem, InputLabel, Button, Typography } from '@material-ui/core'\nimport { EmbedHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport const Dropdown = ({ classes, filterItem, helperFunctionMapper, }) => {\n  // console.log(\"Dropdown\");\n  // console.log({ filterItem })\n  // console.log({ helperFunctionMapper })\n\n  const [selectValue, setSelectValue] = useState(filterItem ? filterItem.options[0].value : \"\");\n  const [processing, setProcessing] = useState(false);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n\n  return (\n    <EmbedHighlight classes={classes} >\n      <FormControl className={`${classes.formControl} ${classes.w90}`}>\n        <InputLabel id=\"demo-simple-select-label\"\n        >{filterItem.label}</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={selectValue}\n          onChange={(event) => {\n            setSelectValue(event.target.value)\n            if (filterItem.method && !filterItem.secondaryComponent) helperFunctionMapper(event, event.target.value, filterItem)\n          }}\n        >\n          {filterItem.options.map(item => {\n            return < MenuItem\n              key={validIdHelper(`filter-select${item.value}`)}\n              value={item.value} > {item.label}</MenuItem>\n          })}\n        </Select>\n        {\n          filterItem.secondaryComponent ?\n            <Button\n              variant={\"contained\"}\n              onClick={async () => {\n                setProcessing(true);\n                let caseResponse = await helperFunctionMapper(null, selectValue, filterItem);\n                if (caseResponse.status === \"success\") {\n                  setProcessing(false);\n                  setSuccessMessage(caseResponse.message)\n                  setTimeout(() => setSuccessMessage(null), 10000)\n                }\n\n                setTimeout(() => {\n                  if (processing) setProcessing(false);\n                }, 10000)\n              }}\n              className={`${classes.mt12}`}\n              disabled={processing}\n            >{filterItem.secondaryComponent.label}</Button>\n            : \"\"\n        }\n        {/* needs work */}\n        {successMessage ?\n          <Typography variant=\"subtitle1\" gutterBottom>\n            {successMessage}\n          </Typography>\n          : \"\"}\n      </FormControl>\n    </EmbedHighlight >\n  )\n}\n","import _ from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { Typography } from '@material-ui/core'\nimport { ToggleButton as MaterialToggleButton, ToggleButtonGroup as MaterialToggleButtonGroup } from '@material-ui/lab';\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\nexport const ToggleButton = ({ classes, item, helperFunctionMapper }) => {\n  // console.log(\"ToggleButton\")\n  // console.log({ classes })\n  // console.log({ item })\n  // console.log({ helperFunctionMapper })\n\n  const [toggleValue, setToggleValue] = useState(item ? item.options[0] : \"\");\n\n  return (\n    <EmbedMethodHighlight classes={classes} >\n      <Typography\n      >\n        {item.label}\n      </Typography>\n      <MaterialToggleButtonGroup\n        value={toggleValue}\n        exclusive\n        onChange={(event, newValue) => {\n          setToggleValue(newValue)\n          helperFunctionMapper({ newValue, item })\n        }}\n        aria-label=\"text alignment\"\n      >\n        {item.options.map(innerItem => {\n          return (\n            <MaterialToggleButton\n              key={validIdHelper(`dynamicToggleButton-${innerItem}`)}\n              value={innerItem}\n              aria-label=\"left aligned\">\n              {innerItem}\n            </MaterialToggleButton>\n          )\n        })}\n      </MaterialToggleButtonGroup>\n    </EmbedMethodHighlight>\n  )\n}\n","import _ from 'lodash'\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport clsx from 'clsx';\nimport { AppBar, Toolbar, Badge, Avatar, IconButton, Grid, Typography } from '@material-ui/core';\nimport { AddAlert, ChevronLeft, KeyboardArrowDown, Menu } from '@material-ui/icons';\nimport { UserMenu } from './UserMenu';\nimport { AutoComplete } from './Filters';\nimport { appContextMap } from '../utils/tools';\nimport { ThemeProvider } from '@material-ui/core/styles';\n\nexport const TopBar = ({ content, theme, classes }) => {\n  // console.log(\"TopBar\")\n  // console.log({ theme })\n  // console.log({ content })\n\n  let history = useHistory();\n\n  const { clientSession, clientSession: { packageName }, setClientSession, drawerOpen, setDrawerOpen,\n    sdk, corsApiCall, isReady } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n  const { userProfile, lookerUser } = clientSession;\n  const [apiContent, setApiContent] = useState(undefined);\n  const [dynamicSearch, setDynamicSearch] = useState(undefined);\n\n  useEffect(() => {\n    // console.log(\"this use effect???\")\n    // console.log({ dynamicSearch })\n    if (isReady && content && content.hasOwnProperty(\"autocomplete\")) {\n      let isSubscribed = true\n      corsApiCall(retrieveAutocompleteOptions, [dynamicSearch]).then(response => {\n        if (isSubscribed) {\n          setApiContent(response)\n        }\n      })\n      return () => isSubscribed = false\n    }\n  }, [lookerUser, isReady, dynamicSearch]);\n\n  const retrieveAutocompleteOptions = async (inputValue) => {\n    // console.log(\"retrieveAutocompleteOptions\")\n    // console.log({ inputValue })\n\n\n    let autoComplteInfo = content.autocomplete;\n    let queryToUse = autoComplteInfo.inlineQuery;\n    if (inputValue) {\n      queryToUse.filters[\"person._search\"] = `%${inputValue}%`\n    }\n    let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: autoComplteInfo.resultFormat || \"json\", body: queryToUse }))\n    let apiContentObj = {}\n    let queryResultsForDropdown = [];\n    for (let i = 0; i < lookerResponseData.length; i++) {\n      let formattedLabel = autoComplteInfo.formattedLabel.map(field => lookerResponseData[i][field]).join(\", \")\n      let value = autoComplteInfo.value.map(value => lookerResponseData[i][value]).toString();\n      queryResultsForDropdown.push({\n        'value': value,\n        'label': formattedLabel,\n        'trend': (lookerResponseData[i]['trend']) ? lookerResponseData[i]['trend'] : undefined\n      })\n    };\n    apiContentObj[\"autocomplete\"] = queryResultsForDropdown\n    return apiContentObj;\n  }\n\n  const filterNamesUrlsMap = {\n    \"Person ID\": \"beneficiary\"\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar)}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={(event) => {\n              setDrawerOpen(!drawerOpen)\n            }}\n            edge=\"start\"\n          >\n            {drawerOpen ?\n              packageName === \"vision\" ?\n                <KeyboardArrowDown /> :\n                <ChevronLeft /> :\n              <Menu />}\n          </IconButton>\n\n          {content.avatar ?\n            <Avatar alt=\"Icon\"\n              src={content.avatar}\n              style={content.avatarStyle ? content.avatarStyle : \"\"}\n              variant=\"square\"\n            /> : \"\"}\n\n          {content.label ? <Typography className={classes.ml12} variant=\"h6\">{content.label}</Typography> : \"\"}\n\n          {apiContent && apiContent.autocomplete ?\n            <Grid item sm={6} className={`${classes.mlAuto} ${classes.mr12} ${classes.p30}`}>\n              <AutoComplete\n                filterItem={content.autocomplete}\n                apiContent={apiContent.autocomplete}\n                action={(filterName, newValue) => {\n                  if (filterName && newValue) {\n                    history.push({\n                      pathname: filterNamesUrlsMap[filterName],\n                      search: (`${encodeURIComponent(filterName)}=${newValue}`)\n                    })\n                  }\n                }}\n                classes={classes}\n                bgColor={\"white\"}\n                setDynamicSearch={setDynamicSearch}\n              /></Grid> : \"\"}\n\n          <Badge badgeContent={3} color=\"error\" className={apiContent && apiContent.autocomplete ? `${classes.mr12}` : `${classes.mlAuto} ${classes.mr12}`} >\n            <AddAlert />\n          </Badge>\n          <UserMenu classes={classes} content={content.usermenu} />\n        </Toolbar>\n      </AppBar>\n    </ThemeProvider>\n  )\n}\n\n","import React, { useContext } from 'react';\nimport { AppBar, Toolbar, Button } from '@material-ui/core';\nimport { Code, HighlightOutlined } from '@material-ui/icons';\nimport { appContextMap } from '../utils/tools';\n\n\nexport const BottomBar = ({ classes }) => {\n  // console.log('BottomBar')\n\n  const { highlightShow, setHighlightShow,\n    codeShow, setCodeShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n\n  return (\n    <AppBar position=\"fixed\" color=\"transparent\" className={classes.appBarBottom} >\n      <Toolbar variant=\"dense\">\n        <Button\n          className={`${classes.mlAuto} ${classes.mr12}`}\n          display=\"inline\"\n          startIcon={<HighlightOutlined />}\n          onClick={() => {\n            if (codeShow) setCodeShow(!codeShow)\n            setHighlightShow(!highlightShow)\n          }\n          }>Source\n    </Button>\n        <Button\n          display=\"inline\"\n          startIcon={<Code />}\n          onClick={() => {\n            if (highlightShow) setHighlightShow(!highlightShow)\n            setCodeShow(!codeShow)\n          }}>Code\n      </Button>\n      </Toolbar>\n    </AppBar >\n  );\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport { ApiHighlight } from './Accessories/Highlight';\nimport { Typography, Card, CircularProgress, Grid, Chip } from '@material-ui/core';\nimport { ResponsiveLine } from '@nivo/line';\nimport { validIdHelper, decodeHtml, appContextMap } from '../utils/tools';\n\nexport function SparkLine({ lookerContentItem, classes }) {\n  // console.log('SparkLine')\n  const [apiContent, setApiContent] = useState(undefined);\n  const { clientSession, sdk, corsApiCall, isReady } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { userProfile, lookerUser } = clientSession;\n\n  let dataObjForSparkline = {}\n\n  useEffect(() => {\n    if (isReady) {\n      let isSubscribed = true\n      corsApiCall(runInlineQuery).then(response => {\n        if (isSubscribed) {\n          setApiContent(response)\n        }\n      })\n      return () => isSubscribed = false\n    }\n  }, [lookerUser, isReady])\n\n  const runInlineQuery = async () => {\n\n    // setApiContent(undefined)\n    let { inlineQuery } = lookerContentItem;\n    let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: lookerContentItem.resultFormat || 'json', body: inlineQuery }));\n    dataObjForSparkline.id = validIdHelper(`singleVisValue-${lookerContentItem.id}`);\n    dataObjForSparkline.data = [];\n\n    let dataArrForDataObj = [];\n    lookerResponseData.map(item => {\n      if (item[lookerContentItem.inlineQuery.fields[0]]\n        // && item['order_items.count']['order_items.previous_period'][\"This Period\" ? \"This Period\" : \"Previous Period\"]\n      ) {\n        let thisDataItem = {\n          \"x\": item[lookerContentItem.inlineQuery.fields[0]].toString(),\n          \"y\": item[lookerContentItem.inlineQuery.fields[1]] || 0,\n          \"change\": item.change\n        }\n        if (thisDataItem && thisDataItem.y !== \"null\") dataArrForDataObj.push(thisDataItem)\n      }\n    })\n    dataObjForSparkline.data = [...dataArrForDataObj]\n    //setApiContent([dataObjForSparkline])\n    return [dataObjForSparkline]\n  }\n\n  const upOrDownArrow = apiContent && apiContent.length ? isNaN((apiContent[0].data[0].change * 100).toFixed(2)) ? '' : parseInt((apiContent[0].data[0].change * 100).toFixed(0)) >= 0 ? `&uarr;` : `&darr;` : '';\n  /**\n   * TO DO\n   * convert to using rendered value the way single value does\n   */\n  const labelText = !apiContent ? '' : lookerContentItem.chipFormat === \"revenue\" ?\n    `$${(apiContent[0].data && apiContent[0].data[0] ? apiContent[0].data[0].y.toFixed(2) : '').replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}` :\n    lookerContentItem.chipFormat === \"integer\" ? parseInt(apiContent[0].data && apiContent[0].data[0] ? apiContent[0].data[0].y.toFixed(2) : '') : lookerContentItem.chipFormat === 'percent' ?\n      `${((apiContent[0].data && apiContent[0].data[0] ? apiContent[0].data[0].y.toFixed(2) : '') * 100)\n      }% `\n      : '';\n  return (\n    <Card className={`${classes.padding15} \n    ${classes.overflowHidden} \n    ${classes.lookerCardShadow}\n    `}\n    >\n      <div\n        style={{\n          height: lookerContentItem.height,\n        }}\n      >\n        {apiContent ?\n          <React.Fragment>\n            <ApiHighlight height={130} classes={classes} >\n              <Grid container className={`${classes.textCenter} `}>\n                <Grid item sm={12}>\n                  <Typography variant=\"body2\" align=\"left\" color=\"secondary\">\n                    {lookerContentItem.label}\n                  </Typography>\n                </Grid>\n                <Grid item sm={6}>\n                  <Typography variant=\"subtitle1\" align=\"left\">\n                    <b>{labelText}</b>\n                  </Typography>\n                </Grid>\n                <Grid item sm={6}>\n                  <Chip size=\"small\"\n                    label={`${decodeHtml(upOrDownArrow)} ${parseInt(apiContent[0].data[0].change * 100).toFixed(0)}% `}\n                    className={isNaN((apiContent[0].data[0].change * 100).toFixed(2)) ? '' : parseInt((apiContent[0].data[0].change * 100).toFixed(0)) >= 0 ? classes.greenPos : classes.redNeg}\n                    display=\"inline\"\n                    align=\"right\"\n                  />\n                </Grid>\n              </Grid>\n              <ResponsiveLine\n                data={apiContent}\n                margin={{ top: 10, right: 25, bottom: 50, left: 25 }}\n                xScale={{\n                  type: 'time',\n                  format: '%Y-%m-%d',\n                  precision: 'day',\n                }}\n                yScale={{ type: 'linear', min: 'auto', max: 'auto', stacked: true, reverse: false }}\n                axisLeft={{\n                  orient: \"left\",\n                  tickSize: 0,\n                  tickPadding: 5,\n                  tickRotation: 0,\n                  format: () => null\n                }}\n                axisBottom={{\n                  orient: \"bottom\",\n                  tickSize: 0,\n                  tickPadding: 5,\n                  tickRotation: 0,\n                  format: () => null,\n                }}\n                enablePoints={false}\n                enableGridX={false}\n                enableGridY={false}\n                height={100}\n                colors={lookerContentItem.visColor}\n                animate={true}\n              />\n            </ApiHighlight>\n          </React.Fragment>\n          :\n          <Grid item sm={12} className={`${classes.flexCentered} `} style={{ height: lookerContentItem.height }}>\n            <CircularProgress className={classes.circularProgress}\n              style={{ color: `${lookerContentItem.visColor} ` }} />\n          </Grid>\n        }\n      </div >\n    </Card >\n  );\n}","import React, { useState, useEffect, useContext } from 'react';\nimport { Box, Grid, Card } from '@material-ui/core'\nimport { Loader, CodeFlyout } from './Accessories'\nimport { appContextMap, validIdHelper } from '../utils/tools';\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from './styles.js';\n\nexport const SplashPage = (props) => {\n\n  const [iFrameExists] = useState(1);\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const { clientSession: { lookerUser, lookerHost } } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n  const { staticContent: { lookerContent }, staticContent: { type } } = props;\n  const classes = useStyles();\n  const demoComponentType = type || 'code flyout';\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n  }, [lookerContent]);\n\n\n  return (\n    <div className={`${classes.root} ${classes.positionRelative}`}\n      style={{ height }}\n    >\n      <Card elevation={1} className={`${classes.padding15} ${classes.height100Percent} ${classes.overflowScroll}`}>\n        <Grid container\n          key={validIdHelper(type)}>\n          <div className={classes.root}>\n            <Loader hide={iFrameExists} classes={classes} height={height} />\n\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\n              <Grid container\n                spacing={3}\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}\n                className={`${classes.noContainerScroll}`}\n              >\n                <CodeFlyout {...props}\n                  classes={classes}\n                  lookerUser={lookerUser}\n                  height={height - additionalHeightForFlyout}\n                />\n                {lookerContent.map((lookerContentItem, innerIndex) => {\n                  const ComponentToRender = lookerContentItem.component\n                  return (\n                    <Grid\n                      key={`${validIdHelper(demoComponentType + '-innerFragment-' + innerIndex)}`}\n                      item\n                      sm={parseInt(lookerContentItem.gridWidth)}\n                    >\n                      {ComponentToRender ? <ComponentToRender {...{ lookerContentItem, classes, demoComponentType, lookerHost }} /> : \"\"}\n                    </Grid>\n                  )\n                })}\n              </Grid>\n            </Box >\n          </div >\n        </Grid >\n      </Card >\n    </div >\n  )\n}","import _ from 'lodash'\nimport React, { useContext, useEffect } from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport { Card, CardContent, CardFooter, Typography } from '@material-ui/core'\nimport { writeNewSession } from '../utils'\nconst { validIdHelper, appContextMap, validateContent, errorHandler } = require('../utils');\nimport { useStyles } from './styles.js';\n\nexport const SignIn = ({ content, initialUser }) => {\n\n  let { clientSession, setClientSession } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { logo, logoStyle, backgroundImageStyle } = content\n\n  const responseGoogle = async (response) => {\n    try {\n      let { session, status } = await writeNewSession({\n        ...clientSession,\n        userProfile: response.profileObj,\n        lookerUser: initialUser\n      })\n\n      if (status === 200) {\n        setClientSession(session)\n      }\n    } catch (err) {\n      errorHandler.report(err)\n    }\n  }\n  const googleClientId = `${process.env.REACT_APP_GOOGLE_CLIENT_ID}.apps.googleusercontent.com`;\n  const classes = useStyles();\n\n  return (\n    <div className={`${classes.root} `}\n      style={backgroundImageStyle ? backgroundImageStyle : ''}>\n      <Card className={classes.signInCard}>\n        <div className={classes.signInCardCopy}>\n          <img\n            src={logo}\n            style={logoStyle ? logoStyle : ''}\n          />\n          <CardContent >\n            {content.copyHeader ?\n              <Typography variant=\"h4\" gutterBottom>\n                {content.copyHeader}\n              </Typography> : \"\"}\n            {content.copyBody ?\n              <Typography variant=\"subtitle1\" gutterBottom>\n                {content.copyBody}\n              </Typography> : \"\"}\n\n            <GoogleLogin\n              clientId={googleClientId}\n              buttonText=\"Login\"\n              onSuccess={responseGoogle}\n              onFailure={responseGoogle}\n              cookiePolicy={'single_host_origin'}\n              className={classes.mb12}\n            />\n            {content.copyFooter ?\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {content.copyFooter}\n              </Typography> : \"\"}\n          </CardContent>\n        </div>\n      </Card>\n    </div >\n  )\n}","import _ from 'lodash'\nimport React, { useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { Drawer, IconButton, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core/';\nimport { ChevronLeft } from '@material-ui/icons';\nimport { useStyles } from './styles.js';\nconst { validIdHelper, appContextMap } = require('../utils/tools');\n\n\nexport const TopDrawer = ({ DemoComponentsContentArr, classes }) => {\n  // console.log('TopDrawer');\n\n  const { drawerOpen, setDrawerOpen, } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n\n  return (\n    <Drawer\n      className={classes.topDrawer}\n      variant=\"persistent\"\n      anchor=\"top\"\n      open={drawerOpen}\n      classes={{\n        paper: classes.topDrawerPaper,\n      }}\n    >\n      <div className={classes.drawerHeader}>\n        <IconButton\n          onClick={() => setDrawerOpen(false)}>\n          <ChevronLeft\n            aria-label=\"close drawer\"\n          />\n        </IconButton>\n      </div>\n\n      <MenuList\n        classes={classes}\n        DemoComponentsContentArr={DemoComponentsContentArr} />\n\n    </Drawer>\n  )\n}\n\nfunction MenuList({ classes, DemoComponentsContentArr }) {\n  // console.log(\"MenuList\")\n  const { clientSession, selectedMenuItem } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { packageName } = clientSession;\n\n  let orderedDemoComponentsForMenu = packageName ? _.orderBy(DemoComponentsContentArr, ['menuCategory'], ['asc']) : [];\n  let orderedDemoComponentsForMenuObj = {};\n  let expandedTreeItemsArr = [];\n  let cumulativePusher = 0;\n  orderedDemoComponentsForMenu.map((item, index) => {\n    if (orderedDemoComponentsForMenuObj.hasOwnProperty(item.menuCategory)) {\n      orderedDemoComponentsForMenuObj[item.menuCategory] = [...orderedDemoComponentsForMenuObj[item.menuCategory], item]\n    } else {\n      orderedDemoComponentsForMenuObj[item.menuCategory] = [item];\n      cumulativePusher += 1;\n      expandedTreeItemsArr.push(\"\" + (index + cumulativePusher));\n    }\n  });\n\n  return (<List\n    component=\"nav\"\n    aria-labelledby=\"nested-list-subheader\"\n    className={classes.list}\n  >\n    {packageName ? Object.keys(orderedDemoComponentsForMenuObj).map((outerItem, outerIndex) => {\n      return (\n        < React.Fragment\n          key={`${validIdHelper(outerItem + '-menuList-' + outerIndex)}`}>\n          < List\n            className={classes.inlineList}\n            component=\"div\"\n            disablePadding\n            key={`${validIdHelper(outerItem + '-innerList-' + outerIndex)}`}>\n            {orderedDemoComponentsForMenuObj[outerItem].map((item, innerIndex) => {\n              const MatchingIconComponent = item.icon\n              return (\n                <ListItem\n                  button\n                  className={`${classes.nested} ${classes.roundedTab} ${classes.ml12}`}\n                  key={`${validIdHelper(outerItem + '-innerListItem-' + innerIndex)}`}\n                  selected={validIdHelper(_.lowerCase(item.label)) === selectedMenuItem}\n                  component={Link}\n                  to={validIdHelper(_.lowerCase(item.label))}\n                >\n                  <ListItemIcon>\n                    {MatchingIconComponent ? <MatchingIconComponent /> : <></>}\n                  </ListItemIcon>\n                  <ListItemText className={`pppp ${classes.noWrap}`} primary={_.capitalize(item.label)} />\n                </ListItem>\n              )\n            })}\n          </List>\n        </React.Fragment>\n      )\n    }) : ''\n    }\n  </List >\n  )\n}\n","import _ from 'lodash'\nimport React, { useContext } from 'react';\nimport { Link } from \"react-router-dom\";\n// import AppContext from '../../contexts/AppContext';\nimport { Drawer, IconButton, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core/';\nimport { ChevronLeft } from '@material-ui/icons';\n\nconst { validIdHelper, appContextMap } = require('../utils/tools');\n\nexport const LeftDrawer = ({ DemoComponentsContentArr, classes }) => {\n  // console.log('LeftDrawer');\n\n  const { drawerOpen, setDrawerOpen, } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n\n  return (\n    <Drawer\n      className={classes.leftDrawer}\n      variant=\"persistent\"\n      anchor=\"left\"\n      open={drawerOpen}\n      classes={{\n        paper: classes.leftDrawerPaper,\n      }}\n    >\n      <div className={classes.drawerHeader}>\n        <IconButton\n          onClick={() => setDrawerOpen(false)}>\n          <ChevronLeft\n            aria-label=\"close drawer\"\n          />\n        </IconButton>\n      </div>\n\n      <MenuList\n        classes={classes}\n        DemoComponentsContentArr={DemoComponentsContentArr} />\n\n    </Drawer>\n  )\n}\n\nfunction MenuList({ classes, DemoComponentsContentArr }) {\n  // console.log(\"MenuList\")\n  const { clientSession, selectedMenuItem } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { packageName } = clientSession;\n\n  let orderedDemoComponentsForMenu = packageName ? _.orderBy(DemoComponentsContentArr, ['menuCategory'], ['asc']) : [];\n  let orderedDemoComponentsForMenuObj = {};\n  let expandedTreeItemsArr = [];\n  let cumulativePusher = 0;\n  orderedDemoComponentsForMenu.map((item, index) => {\n    if (orderedDemoComponentsForMenuObj.hasOwnProperty(item.menuCategory)) {\n      orderedDemoComponentsForMenuObj[item.menuCategory] = [...orderedDemoComponentsForMenuObj[item.menuCategory], item]\n    } else {\n      orderedDemoComponentsForMenuObj[item.menuCategory] = [item];\n      cumulativePusher += 1;\n      expandedTreeItemsArr.push(\"\" + (index + cumulativePusher));\n    }\n  });\n\n  return (<List\n    component=\"nav\"\n    aria-labelledby=\"nested-list-subheader\"\n    className={classes.list}\n  >\n    {packageName ? Object.keys(orderedDemoComponentsForMenuObj).map((outerItem, outerIndex) => {\n      return (\n        < React.Fragment\n          key={`${validIdHelper(outerItem + '-menuList-' + outerIndex)}`}>\n          <ListItem\n            key={`${validIdHelper(outerItem + '-outerListItem-' + outerIndex)}`}\n          >\n            <ListItemText primary={outerItem === 'home' ? '' : _.capitalize(outerItem)} />\n          </ListItem>\n          < List component=\"div\" disablePadding\n            key={`${validIdHelper(outerItem + '-innerList-' + outerIndex)}`}>\n            {orderedDemoComponentsForMenuObj[outerItem].map((item, innerIndex) => {\n              const MatchingIconComponent = item.icon\n              return (\n                <ListItem\n                  button\n                  className={`${classes.nested} ${classes.rightRoundedTab}`}\n                  key={`${validIdHelper(outerItem + '-innerListItem-' + innerIndex)}`}\n                  selected={validIdHelper(_.lowerCase(item.label)) === selectedMenuItem}\n                  component={Link}\n                  to={validIdHelper(_.lowerCase(item.label))}\n                >\n                  <ListItemIcon>\n                    {MatchingIconComponent ? <MatchingIconComponent /> : <></>}\n                  </ListItemIcon>\n                  <ListItemText primary={_.capitalize(item.label)} />\n                </ListItem>\n              )\n            })}\n          </List>\n        </React.Fragment>\n      )\n    }) : ''\n    }\n  </List >\n  )\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core'\nimport { AutoComplete, ToggleTile, ToggleVisColor, SwitchTheme, SelectFont, MapFilter, RangeSlider, ToggleApi, ActionButton, Dropdown } from \"@pbl-demo/components/Filters\";\nimport { validIdHelper } from '../../utils/tools';\n\n\nexport const FilterBarChildren = ({ classes, apiContent, customFilterAction, lookerContent, type, helperFunctionMapper, lightThemeToggleValue, fontThemeSelectValue }) => {\n  return (\n    <Grid\n      container spacing={3}>\n      {lookerContent[0].filters.map((filterItem, index) => {\n        return (\n          filterItem.component === 'autocomplete' ?\n            <Grid\n              item\n              sm={12}\n              key={validIdHelper(`${type}-${filterItem.component}-${index}`)}>\n              <AutoComplete\n                apiContent={apiContent[filterItem.component]} //new\n                index={index}\n                classes={classes}\n                action={customFilterAction}\n                filterItem={filterItem}\n              />\n            </Grid>\n\n            : filterItem.component === 'togglebutton' ?\n\n              <Grid\n                item\n                key={validIdHelper(`${type}-${filterItem.label}`)}>\n                {filterItem.label === \"Dynamic Tiles\" ?\n                  <ToggleTile\n                    classes={classes}\n                    filterItem={filterItem}\n                    helperFunctionMapper={helperFunctionMapper}\n                    lightThemeToggleValue={lightThemeToggleValue}\n                    fontThemeSelectValue={fontThemeSelectValue}\n                  /> :\n                  <ToggleVisColor\n                    classes={classes}\n                    filterItem={filterItem}\n                    helperFunctionMapper={helperFunctionMapper}\n                    lightThemeToggleValue={lightThemeToggleValue}\n                    fontThemeSelectValue={fontThemeSelectValue}\n                  />}\n              </Grid>\n              :\n              filterItem.component === 'switch' ?\n\n                <Grid\n                  item\n                  key={validIdHelper(`${type}-dynamicThemeMode`)}>\n                  <SwitchTheme\n                    classes={classes}\n                    filterItem={filterItem}\n                    helperFunctionMapper={helperFunctionMapper}\n                  />\n                </Grid>\n                :\n                filterItem.component === \"dropdown\" ?\n                  <Grid item\n                    sm\n                    key={validIdHelper(`${type}-dynamicThemeFont`)} //needs work\n                  >\n                    <Dropdown\n                      classes={classes}\n                      filterItem={filterItem}\n                      helperFunctionMapper={helperFunctionMapper}\n                    />\n                  </Grid> :\n                  filterItem.component === 'mapfilter' ?\n\n                    <Grid item\n                      key={validIdHelper(`${type}-${filterItem.component}-${index}`)}>\n                      <MapFilter\n                        classes={classes}\n                        action={customFilterAction}\n                        filterItem={filterItem}\n                      />\n                    </Grid>\n                    : filterItem.component === 'rangeslider' ?\n                      <Grid item\n                        key={validIdHelper(`${type}-${filterItem.component}-${index}`)}>\n                        <RangeSlider\n                          apiContent={apiContent[filterItem.component]}\n                          classes={classes}\n                          action={customFilterAction}\n                          filterItem={filterItem}\n                        />\n                      </Grid>\n                      : filterItem.component === 'togglebuttonapi' ?\n                        <Grid item\n                          key={validIdHelper(`${type}-${filterItem.component}-${index}`)}>\n                          <ToggleApi\n                            apiContent={apiContent[filterItem.component]}\n                            classes={classes}\n                            action={customFilterAction}\n                            filterItem={filterItem}\n                          />\n                        </Grid>\n                        :\n                        '')\n      })}\n    </Grid>\n  )\n}\n","import _ from 'lodash'\nimport React, { useState, useContext } from 'react';\nimport { Grid, Box } from '@material-ui/core'\nimport { ChevronLeft, Menu } from '@material-ui/icons';\nimport { FilterBarChildren } from './FilterBarChildren'\nimport { appContextMap, validIdHelper } from '../../utils/tools';\n\nexport default function FilterBar(props) {\n  // console.log(\"FilterBar\")\n\n  const { theme } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n\n  const { staticContent: { lookerContent }, staticContent: { type }, classes, apiContent, customFilterAction,\n    makeShiftDrawerOpen, setMakeShiftDrawerOpen, helperFunctionMapper, lightThemeToggleValue, fontThemeSelectValue } = props;\n\n  // console.log({ apiContent })\n  return (\n    <Grid item\n      sm={makeShiftDrawerOpen ? lookerContent[0].filterBarWidth ? lookerContent[0].filterBarWidth : 3 : \"auto\"}\n      key={validIdHelper(`${type}-FilterBar-${lookerContent[0].id}`)}\n      style={{\n        transition: theme.transitions.create(\"all\", {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.leavingScreen,\n        })\n      }}\n      className={classes.animatedGridItem}\n    >\n      {apiContent ?\n\n        <>\n          {\n            makeShiftDrawerOpen ?\n              <ChevronLeft\n                onClick={() => setMakeShiftDrawerOpen(!makeShiftDrawerOpen)}\n                aria-label=\"close menu\"\n              /> :\n              <Menu\n                onClick={() => setMakeShiftDrawerOpen(!makeShiftDrawerOpen)}\n                aria-label=\"open menu\"\n              />\n          }\n\n          <Box display={makeShiftDrawerOpen ? \"block\" : \"none\"}>\n            <FilterBarChildren {...props}\n              classes={classes}\n              apiContent={apiContent}\n              customFilterAction={customFilterAction}\n              lookerContent={lookerContent}\n              type={type}\n              helperFunctionMapper={helperFunctionMapper}\n              lightThemeToggleValue={lightThemeToggleValue}\n              fontThemeSelectValue={fontThemeSelectValue}\n            />\n          </Box>\n        </>\n\n        :\n        \"\"\n      }\n    </Grid >\n  )\n}","import React, { useState, useContext } from 'react';\nimport { Grid, Box } from '@material-ui/core';\nimport { EmbedHighlight } from \"@pbl-demo/components/Accessories\";\nimport { appContextMap, validIdHelper } from '../../utils/tools';\n\n\nexport default function EmbeddedDashboardContainer({ classes, lookerContent, type }) {\n\n\n  const { theme } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n\n\n  return (\n    <Grid item\n      sm\n      className={classes.animatedGridItem}\n      style={{\n        transition: theme.transitions.create(\"all\", {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.leavingScreen,\n        })\n      }}\n    >\n      <Box className={`${classes.w100} ${classes.padding10}`} mt={lookerContent[0].filter || lookerContent[0].dynamicFieldLookUp ? 2 : 0}>\n        <EmbedHighlight classes={classes}>\n          <div\n            className={`embedContainer ${validIdHelper(type)}`}\n            id={validIdHelper(`embedContainer-${type}-${lookerContent[0].id}`)}\n            key={validIdHelper(`embedContainer-${type}-${lookerContent[0].id}`)}\n          >\n          </div>\n        </EmbedHighlight>\n      </Box>\n    </Grid>\n  )\n}\n","import _ from 'lodash';\nexport const handleTileToggle = ({ newValue, filterItem, dashboardOptions }) => {\n  // console.log(\"handleTileToggle\")\n\n  if (filterItem) {\n    const filteredLayout = _.filter(dashboardOptions.layouts[0].dashboard_layout_components, (row) => {\n      return (filterItem.tileLookUp[newValue].indexOf(dashboardOptions.elements[row.dashboard_element_id].title) > -1)\n    })\n\n    const newDashboardLayout = {\n      ...dashboardOptions.layouts[0],\n      dashboard_layout_components: filteredLayout\n    }\n    return {\n      \"methodName\": filterItem.methodName,\n      \"response\": {\n        \"layouts\": [newDashboardLayout]\n      }\n    }\n  }\n};\n\n\nexport const handleVisColorToggle = ({ newValue, filterItem, dashboardOptions,\n  isThemeableDashboard, lightThemeToggleValue } //would like to see these go away if possible\n) => {\n\n  // console.log(\"handleVisColorToggle\")\n  // console.log({ newValue })\n  // console.log({ filterItem })\n  // console.log({ dashboardOptions })\n\n  if (filterItem) {\n    let newColorSeries = filterItem.colors[newValue]\n    let newDashboardElements = { ...dashboardOptions.elements };\n\n    Object.keys(newDashboardElements).map(key => {\n      if (newDashboardElements[key].vis_config.series_colors) {\n        Object.keys(newDashboardElements[key].vis_config.series_colors).map((innerKey, index) => {\n          newDashboardElements[key].vis_config.series_colors[innerKey] = newColorSeries[index] || newColorSeries[0];\n        })\n      }\n      if (newDashboardElements[key].vis_config.custom_color) {\n        newDashboardElements[key].vis_config.custom_color = newColorSeries[newColorSeries.length - 2];\n      }\n      if (newDashboardElements[key].vis_config.map_value_colors) {\n        newDashboardElements[key].vis_config.map_value_colors.map((item, index) => {\n          newDashboardElements[key].vis_config.map_value_colors[index] = newColorSeries[index] || newColorSeries[0];\n        })\n      }\n      // loss some fidelity here\n      if (newDashboardElements[key].vis_config.series_cell_visualizations) {\n        Object.keys(newDashboardElements[key].vis_config.series_cell_visualizations).map((innerKey, index) => {\n          if (newDashboardElements[key].vis_config.series_cell_visualizations[innerKey].hasOwnProperty(\"palette\")) {\n            newDashboardElements[key].vis_config.series_cell_visualizations[innerKey][\"palette\"] = { ...filterItem.series_cell_visualizations[newValue] }\n          }\n        })\n      }\n      if (newDashboardElements[key].vis_config.header_font_color) {\n        newDashboardElements[key].vis_config.header_font_color = newColorSeries[newColorSeries.length - 2];\n      }\n      if (isThemeableDashboard) {\n        if (newDashboardElements[key].vis_config.map_tile_provider) {\n          newDashboardElements[key].vis_config.map_tile_provider = lightThemeToggleValue ? \"light\" : \"dark\";\n        }\n\n      }\n    })\n    return {\n      \"methodName\": filterItem.methodName,\n      \"response\": {\n        \"elements\": { ...newDashboardElements }\n      }\n    }\n  }\n}\n\nexport const handleThemeChange = ({ newValue, filterItem, lightThemeToggleValue, fontThemeSelectValue }) => {\n  // console.log(\"handleThemeChange\")\n  // console.log({ newValue })\n  // console.log({ filterItem })\n  // console.log({ fontThemeSelectValue })\n  // console.log({ lightThemeToggleValue })\n\n  let themeName = '';\n  if (typeof newValue === \"boolean\") {\n    themeName = newValue ? `light_${fontThemeSelectValue}` : `dark_${fontThemeSelectValue}`\n  } else {\n    themeName = lightThemeToggleValue ? `light_${newValue}` : `dark_${newValue}`\n  }\n  return {\n    \"methodName\": filterItem.methodName,\n    \"response\": themeName\n  }\n}\n\nexport const createCase = async ({ newValue, filterItem, hiddenFilterValue }) => {\n  // console.log(\"createCase\")\n  // console.log({ newValue })\n  // console.log({ filterItem })\n\n  let newCaseResponse = await fetch('/createcase', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ caseType: newValue, applicationId: hiddenFilterValue })\n  })\n  const newCaseResponseData = await newCaseResponse.json();\n  // console.log({ newCaseResponseData })\n  return {\n    \"methodName\": filterItem.methodName,\n    \"response\": newCaseResponseData\n  };\n}\n\nexport const runInlineQuery = async ({ sdk, item, lookerUser, type }) => {\n  // console.log(\"runInlineQuery\")\n  // console.log({ item })\n  // console.log({ type })\n\n  let apiContentObj = {}\n  if (type === \"filters\") {\n    if (item.inlineQuery) {\n      let jsonQuery = item.inlineQuery\n      jsonQuery.filters = {\n        ...jsonQuery.filters,\n        [item.desiredFilterName]: lookerUser.user_attributes.brand\n      };\n      let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: item.resultFormat || 'json', body: jsonQuery }));\n      let queryResultsForDropdown = [];\n      let desiredProperty = Object.keys(lookerResponseData[0])[0];\n\n      for (let i = 0; i < lookerResponseData.length; i++) {\n        queryResultsForDropdown.push({\n          'label': lookerResponseData[i][desiredProperty],\n          'trend': (lookerResponseData[i]['trend']) ? lookerResponseData[i]['trend'] : undefined,\n          'count': (lookerResponseData[i]['count']) ? lookerResponseData[i]['count'] : undefined\n        })\n      }\n      apiContentObj[item.component] = queryResultsForDropdown;\n      return apiContentObj\n    }\n  } else if (type === \"trends\") {\n    if (item.inlineQuery) {\n      let jsonQuery = item.inlineQuery\n      jsonQuery.filters = {\n        ...jsonQuery.filters,\n        [item.desiredFilterName]: lookerUser.user_attributes.brand\n      };\n      let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: item.resultFormat || 'json', body: jsonQuery }));\n      apiContentObj[item.component] = lookerResponseData;\n      return apiContentObj\n\n    }\n  }\n}\n","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext, useCallback } from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { Grid, Card, List } from '@material-ui/core'\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport FilterBar from './FilterBar';\nimport EmbeddedDashboardContainer from './EmbeddedDashboardContainer';\nimport { Loader, CodeFlyout } from \"@pbl-demo/components/Accessories\";\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from '../styles.js';\nimport queryString from 'query-string';\nimport { appContextMap, validIdHelper } from '../../utils/tools';\nimport { handleTileToggle, handleVisColorToggle, handleThemeChange, runInlineQuery } from './helpers';\nimport { TrendItem } from \"@pbl-demo/components\";\n\nexport const Dashboard = (props) => {\n  // console.log('Dashboard');\n  const { clientSession, clientSession: { lookerUser }, sdk, corsApiCall, theme, isReady, selectedMenuItem } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n\n  const { staticContent: { lookerContent }, staticContent: { type } } = props;\n  const demoComponentType = type || 'code flyout';\n\n  const [iFrameExists, setIFrame] = useState(0);\n  const [apiContent, setApiContent] = useState(undefined);\n  const [dashboardObj, setDashboardObj] = useState({});\n  const [dashboardOptions, setDashboardOptions] = useState({});\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const [lightThemeToggleValue, setLightThemeToggleValue] = useState(true);\n  const [fontThemeSelectValue, setFontThemeSelectValue] = useState(\"arial\");\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\n  const [makeShiftDrawerOpen, setMakeShiftDrawerOpen] = useState(true);\n  const [hiddenFilterValue, setHiddenFilterValue] = useState(null);\n\n  let dynamicVisConfigFilterItem = _.find(lookerContent[0].filters, { label: \"Dynamic Vis Config\" });\n  const isThemeableDashboard = dynamicVisConfigFilterItem && Object.keys(dynamicVisConfigFilterItem).length ? true : false;\n  const darkThemeBackgroundColor = theme.palette.fill.main;\n\n  const classes = useStyles();\n  const location = useLocation();\n  let history = useHistory();\n\n  //conditional theming for dark mode :D\n  let paletteToUse = !lightThemeToggleValue && isThemeableDashboard ?\n    {\n      palette: {\n        type: 'dark',\n        background: { paper: darkThemeBackgroundColor, default: darkThemeBackgroundColor },\n      }\n    }\n    :\n    { palette: { ...theme.palette } }\n\n  const themeToUse = React.useMemo(\n    () =>\n      createMuiTheme(\n        paletteToUse\n      ),\n    [lightThemeToggleValue, lookerContent],\n  );\n\n  const helperFunctionMapper = async (event, newValue, filterItem) => {\n    // console.log(\"helperFunctionMapper\")\n    // console.log({ newValue })\n    // console.log({ filterItem })\n    // console.log({ hiddenFilterValue })\n\n\n    let helperResponse = await filterItem.method({\n      newValue, filterItem, dashboardOptions,\n      isThemeableDashboard, lightThemeToggleValue, fontThemeSelectValue,\n      hiddenFilterValue\n    })\n    let { methodName, response } = helperResponse; //dynamic\n    if (methodName === \"handleTileToggle\" || methodName === \"handleVisColorToggle\") {\n      dashboardObj.setOptions(response);\n    } else if (methodName === \"handleThemeChange\") {\n      console.log(typeof newValue === \"boolean\")\n      if (typeof newValue === \"boolean\") {\n        setLightThemeToggleValue(newValue)\n      } else {\n        setFontThemeSelectValue(newValue)\n      }\n      corsApiCall(performLookerApiCalls, [lookerContent, response])\n    }\n    else if (methodName === \"createCase\") {\n      corsApiCall(performLookerApiCalls, [lookerContent]) //doesn't refresh data, only dashboard\n      return response\n    }\n  }\n\n  useEffect(() => {\n    console.log(\"useEffect outer\");\n    console.log({ lookerUser });\n    console.log({ isReady });\n    if (isReady) {\n      console.log(\"useEffect inner\")\n      let themeName = lightThemeToggleValue ? 'light' : 'dark';\n      themeName += `_${fontThemeSelectValue}`;\n      corsApiCall(performLookerApiCalls, [[...lookerContent], themeName])\n      setApiContent(undefined);\n      setMakeShiftDrawerOpen(true);\n    }\n  }, [lookerUser, isReady, selectedMenuItem])\n\n  useEffect(() => {\n    if (Object.keys(dashboardOptions).length && Object.keys(dashboardObj).length\n    ) {\n      let tileToggleFilterItem = _.find(lookerContent[0].filters, { label: \"Dynamic Tiles\" })\n      let visColorFilterItem = _.find(lookerContent[0].filters, { label: \"Dynamic Vis Config\" })\n\n      let tileResponse, visColorResponse\n      if (tileToggleFilterItem) {\n        tileResponse = handleTileToggle({\n          newValue: tileToggleFilterItem.options[0],\n          filterItem: tileToggleFilterItem,\n          dashboardOptions: dashboardOptions\n        });\n      }\n\n      if (visColorFilterItem) {\n        visColorResponse = handleVisColorToggle({\n          newValue: visColorFilterItem.options[0],\n          filterItem: visColorFilterItem,\n          dashboardOptions: dashboardOptions,\n          isThemeableDashboard: isThemeableDashboard,\n          lightThemeToggleValue: lightThemeToggleValue\n        });\n      }\n\n      dashboardObj.setOptions({\n        ...tileResponse,\n        ...visColorResponse\n      })\n    }\n  }, [dashboardOptions]);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n    setExpansionPanelHeight(0)\n  })\n\n  // needed to copy from home to make it work\n  useEffect(() => {\n    setApiContent(undefined);\n    let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n    LookerEmbedSDK.init(modifiedBaseUrl, '/auth')\n  }, []);\n\n\n  const performLookerApiCalls = (lookerContent, dynamicTheme) => {\n    // console.log(\"performLookerApiCalls\");\n    // console.log({ lookerContent })\n    // console.log({ dynamicTheme })\n\n    setIFrame(0)\n    $(`.embedContainer.${validIdHelper(demoComponentType)}:visible`).html('')\n    lookerContent.map(async lookerContentItem => {\n      //dashboard creation\n      let dashboardId = lookerContentItem.id;\n      let themeToUse = dynamicTheme && isThemeableDashboard ?\n        dynamicTheme :\n        lookerContentItem.theme ?\n          lookerContentItem.theme :\n          'atom_fashion';\n      // console.log({ themeToUse })\n\n      LookerEmbedSDK.createDashboardWithId(dashboardId)\n        .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${dashboardId}`))\n        .withClassName('iframe')\n        .withNext()\n        .withTheme(themeToUse)\n        .withParams({ 'schedule_modal': 'true' })\n        .on('dashboard:loaded', (event) => {\n          setDashboardOptions(event.dashboard.options)\n          let keyName = Object.keys(event.dashboard.dashboard_filters)[0];\n          let keyValue = event.dashboard.dashboard_filters[keyName];\n          setHiddenFilterValue(keyValue)\n        })\n        .on('drillmenu:click', drillMenuClick)\n        .on('dashboard:filters:changed', (event) => {\n          let keyName = Object.keys(event.dashboard.dashboard_filters)[0];\n          let keyValue = event.dashboard.dashboard_filters[keyName];\n          setHiddenFilterValue(keyValue)\n        })\n        .build()\n        .connect()\n        .then((dashboard) => {\n          setIFrame(1)\n          setDashboardObj(dashboard)\n          let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n          // more robust regex solution\n          // let modifiedBaseUrl = clientSession.lookerBaseUrl.replace(/:443$/, \"\")\n          LookerEmbedSDK.init(modifiedBaseUrl)\n        }).catch(error => {\n          console.log({ error })\n        });\n\n\n      //api calls\n      if (lookerContentItem.hasOwnProperty('filters') //&& !apiContent\n      ) {\n        let asyncApiContentObj = lookerContentItem.filters.map(async item => {\n          return await runInlineQuery({ sdk, item, lookerUser, \"type\": \"filters\" })\n        })\n        let apiContentObj = await Promise.all(asyncApiContentObj)\n        setApiContent(apiContentObj[0] ? apiContentObj[0] : {})\n      } else if (lookerContentItem.hasOwnProperty('trends')) { //slightly redundant\n        let asyncApiContentObj = lookerContentItem.trends.map(async item => {\n          return await runInlineQuery({ sdk, item, lookerUser, \"type\": \"trends\" })\n        })\n        let apiContentObj = await Promise.all(asyncApiContentObj)\n        setApiContent(apiContentObj[0] ? apiContentObj[0] : {})\n      }\n    })\n  }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const customFilterAction = useCallback((filterName, newFilterValue) => {\n    // console.log(\"customFilterAction\")\n    // console.log({ filterName })\n    // console.log({ newFilterValue })\n    if (Object.keys(dashboardObj).length) {\n      dashboardObj.updateFilters({ [filterName]: newFilterValue })\n      dashboardObj.run()\n    }\n  })\n\n  const drillMenuClick = (event) => {\n    // console.log(\"drillMenuClick\")\n    // console.log({ event })\n    if (_.includes(_.lowerCase(event.label), \"w2\")) {\n      history.push({\n        pathname: 'eligibilitydocs',\n        search: (`pdf_url=${event.url}`)\n      })\n      return { cancel: true }\n    } else if (_.includes(_.lowerCase(event.label), \"1099\")) {\n      history.push({\n        pathname: 'eligibilitydocs',\n        search: (`pdf_url=${event.url}`)\n      })\n      return { cancel: true }\n    } else if (_.includes(_.lowerCase(event.label), \"application\")) {\n      history.push({\n        pathname: 'application',\n        search: (`Application ID=${event.url}`)\n      })\n      return { cancel: true }\n    } else if (_.includes(_.lowerCase(event.label), \"beneficiary\")) {\n      history.push({\n        pathname: 'beneficiary',\n        search: (`Person ID=${event.url}`)\n      })\n      return { cancel: true }\n    }\n  }\n\n  useEffect(() => {\n    // console.log(\"useEffect\")\n    let params = queryString.parse(location.search);\n    if (lookerContent[0].filterName) {\n      let paramMatchesFilterName = params[lookerContent[0].filterName] > 0 ? true : false;\n      if (paramMatchesFilterName)\n        customFilterAction(lookerContent[0].filterName, params[lookerContent[0].filterName])\n\n    }\n\n  }, [customFilterAction, location.search, lookerContent])\n\n  // localStorage.debug = 'looker:chatty:*'\n\n\n  return (\n    <div className={`${classes.root} ${classes.positionRelative}`}\n      style={{ height }}\n    >\n      <ThemeProvider theme={themeToUse}>\n        <Card elevation={1} className={lookerContent[0].hasOwnProperty(\"filters\") ? `${classes.padding15} ${classes.height100Percent}` : `${classes.paddingTB15} ${classes.height100Percent}`}>\n          <div\n            className={`${classes.root} ${classes.height100Percent}`}\n          >\n            <Grid\n              container\n              spacing={3}\n            >\n              <Loader\n                hide={iFrameExists}\n                classes={classes}\n                height={height - expansionPanelHeight} />\n\n              {lookerContent[0].hasOwnProperty(\"filters\") ?\n\n                < FilterBar {...props}\n                  classes={classes}\n                  apiContent={apiContent}\n                  customFilterAction={customFilterAction}\n                  lightThemeToggleValue={lightThemeToggleValue}\n                  fontThemeSelectValue={fontThemeSelectValue}\n                  makeShiftDrawerOpen={makeShiftDrawerOpen}\n                  setMakeShiftDrawerOpen={setMakeShiftDrawerOpen}\n                  helperFunctionMapper={helperFunctionMapper}\n                />\n                :\n                ''}\n\n              {lookerContent[0].hasOwnProperty(\"trends\")\n                && apiContent\n                && apiContent.hasOwnProperty(\"trends\")\n                ?\n\n                <Grid item sm={12} >\n\n                  <List\n                    disablePadding\n                    className={`${classes.inlineListPaddingTop10}`}\n                    component=\"div\"\n                  >\n                    {\n                      apiContent.trends.map((trendItem, index) => {\n                        return (\n                          <TrendItem\n                            key={validIdHelper(`${demoComponentType}-TrendItem-${index}`)}\n                            fieldsOfInterest={lookerContent[0].trends[0].fieldsOfInterest}\n                            trendItem={trendItem}\n                            classes={classes}\n                            index={index}\n                          />\n                        )\n                      })\n                    }</List>\n                </Grid>\n\n                :\n                ''}\n\n\n              <EmbeddedDashboardContainer\n                classes={classes}\n                lookerContent={lookerContent}\n                type={demoComponentType}\n              />\n\n              <CodeFlyout {...props}\n                classes={classes}\n                lookerUser={lookerUser}\n                height={height - expansionPanelHeight - additionalHeightForFlyout}\n              />\n\n            </Grid>\n          </div>\n        </Card>\n      </ThemeProvider >\n    </ div >\n  )\n}","import React from 'react';\nimport { Typography, Grid, ListItem } from '@material-ui/core';\nimport { NumberToColoredPercent } from './Accessories';\nimport { ApiHighlight } from './Accessories/Highlight';\n\n\nconst { validIdHelper } = require('../utils/tools');\n\n\nexport function TrendItem({ trendItem, classes, fieldsOfInterest, index }) {\n\n  // console.log(\"TrendItem\")\n  // console.log({ trendItem })\n\n  let formattedText = [];\n  fieldsOfInterest.map(field => {\n    if (field === \"change\") {\n      let numberToColoredPercent = <NumberToColoredPercent val={trendItem[field]} />\n      formattedText.push(numberToColoredPercent)\n    } else formattedText.push(<Typography variant=\"subtitle1\" display=\"inline\">{trendItem[field]}</Typography>)\n  })\n\n  return (\n\n    <ApiHighlight\n      key={validIdHelper(`trendItem-${index}`)}\n      classes={classes}\n    >\n      <ListItem\n\n        key={validIdHelper(`trendItem-listItem-${index}`)}>\n        {formattedText}\n      </ListItem>\n    </ApiHighlight>\n  )\n}\n","import HomeIcon from '@material-ui/icons/Home';\nimport {\n  EmbeddedQuery, SplashPage, Welcome, SparkLine, PopularAnalysis\n  // , VectorThumbnail \n} from '@pbl-demo/components'\n\nconst bestWorstAnalysis = {\n  \"id\": \"19\",\n  \"gridWidth\": 12,\n  \"height\": 160,\n  \"type\": \"welcome\",\n  \"inlineQueries\": [\n    {\n      \"model\": \"atom_fashion\",\n      \"view\": \"order_items\",\n      \"fields\": [\n        \"order_items.total_sale_price\",\n        \"order_items.created_week\",\n        \"products.category\"\n      ],\n      \"pivots\": [\n        \"order_items.created_week\"\n      ],\n      \"fill_fields\": [\n        \"order_items.created_week\"\n      ],\n      \"filters\": {\n        \"order_items.created_date\": \"2 weeks ago for 2 weeks\"\n      },\n      \"filter_expression\": null,\n      \"sorts\": [\n        \"order_items.total_sale_price desc 1\",\n        \"order_items.created_week 0\"\n      ],\n      \"limit\": \"1\",\n      \"dynamic_fields\": \"[{\\\"table_calculation\\\":\\\"change\\\",\\\"label\\\":\\\"%25 Change\\\",\\\"expression\\\":\\\"(pivot_index(${order_items.total_sale_price},2)-pivot_index(${order_items.total_sale_price},1))/pivot_index(${order_items.total_sale_price},1\\\\n  )\\\",\\\"value_format\\\":null,\\\"value_format_name\\\":\\\"percent_2\\\",\\\"_kind_hint\\\":\\\"supermeasure\\\",\\\"_type_hint\\\":\\\"number\\\"}]\"\n    },\n    {\n      \"model\": \"atom_fashion\",\n      \"view\": \"order_items\",\n      \"fields\": [\n        \"order_items.total_sale_price\",\n        \"order_items.created_week\",\n        \"products.category\"\n      ],\n      \"pivots\": [\n        \"order_items.created_week\"\n      ],\n      \"fill_fields\": [\n        \"order_items.created_week\"\n      ],\n      \"filters\": {\n        \"order_items.created_date\": \"2 weeks ago for 2 weeks\"\n      },\n      \"filter_expression\": null,\n      \"sorts\": [\n        \"order_items.total_sale_price 1\",\n        \"order_items.created_week 0\"\n      ],\n      \"limit\": \"1\",\n      \"dynamic_fields\": \"[{\\\"table_calculation\\\":\\\"change\\\",\\\"label\\\":\\\"%25 Change\\\",\\\"expression\\\":\\\"(pivot_index(${order_items.total_sale_price},2)-pivot_index(${order_items.total_sale_price},1))/pivot_index(${order_items.total_sale_price},1\\\\n  )\\\",\\\"value_format\\\":null,\\\"value_format_name\\\":\\\"percent_2\\\",\\\"_kind_hint\\\":\\\"supermeasure\\\",\\\"_type_hint\\\":\\\"number\\\"}]\"\n    }\n  ],\n  \"inlineQueriesMap\": [\n    \"best\",\n    \"worst\"\n  ],\n  \"resultFormat\": \"json\",\n  \"component\": Welcome\n}\n\n\nconst revenueByWeek = {\n  \"id\": \"18\",\n  \"gridWidth\": 3,\n  \"type\": \"spark line\",\n  \"height\": 120,\n  \"inlineQuery\": {\n    \"model\": \"atom_fashion\",\n    \"view\": \"order_items\",\n    \"fields\": [\n      \"order_items.created_week\",\n      \"order_items.total_gross_margin\"\n    ],\n    \"fill_fields\": [\n      \"order_items.created_week\"\n    ],\n    \"filters\": {\n      \"order_items.created_date\": \"12 weeks ago for 12 weeks\"\n    },\n    \"sorts\": [\n      \"order_items.created_week desc\"\n    ],\n    \"limit\": \"500\",\n    \"dynamic_fields\": \"[{\\\"table_calculation\\\":\\\"change\\\",\\\"label\\\":\\\"Week over Week %25 Change\\\",\\\"expression\\\":\\\"(${order_items.total_gross_margin}-offset(${order_items.total_gross_margin},1))/offset(${order_items.total_gross_margin},1)\\\",\\\"value_format\\\":null,\\\"value_format_name\\\":\\\"percent_2\\\",\\\"_kind_hint\\\":\\\"measure\\\",\\\"_type_hint\\\":\\\"number\\\"}]\"\n  },\n  \"resultFormat\": \"json\",\n  \"label\": \"Revenue by Week\",\n  \"visColor\": \"#4595EC\",\n  \"chipFormat\": \"revenue\",\n  \"component\": SparkLine\n}\n\nconst visitsByWeek =\n{\n  \"id\": \"20\",\n  \"gridWidth\": 3,\n  \"type\": \"spark line\",\n  \"height\": 120,\n  \"inlineQuery\": {\n    \"model\": \"atom_fashion\",\n    \"view\": \"web_events\",\n    \"fields\": [\n      \"events.event_week\",\n      \"events.sessions_count\"\n    ],\n    \"fill_fields\": [\n      \"events.event_week\"\n    ],\n    \"filters\": {\n      \"events.event_date\": \"12 weeks ago for 12 weeks\"\n    },\n    \"sorts\": [\n      \"events.event_week desc\"\n    ],\n    \"limit\": \"500\",\n    \"dynamic_fields\": \"[{\\\"table_calculation\\\":\\\"change\\\",\\\"label\\\":\\\"%25 Change\\\",\\\"expression\\\":\\\"(${events.sessions_count}-offset(${events.sessions_count},1))/offset(${events.sessions_count},1)\\\",\\\"value_format\\\":null,\\\"value_format_name\\\":\\\"percent_2\\\",\\\"_kind_hint\\\":\\\"measure\\\",\\\"_type_hint\\\":\\\"number\\\"}]\"\n  },\n  \"resultFormat\": \"json\",\n  \"label\": \"Visits by Week\",\n  \"visColor\": \"#F3A759\",\n  \"chipFormat\": \"integer\",\n  \"component\": SparkLine\n}\n\nconst bounceRateByWeek =\n{\n  \"id\": \"21\",\n  \"gridWidth\": 3,\n  \"type\": \"spark line\",\n  \"height\": 120,\n  \"inlineQuery\": {\n    \"model\": \"atom_fashion\",\n    \"view\": \"web_events\",\n    \"fields\": [\n      \"events.event_week\",\n      \"events.bounce_rate\"\n    ],\n    \"fill_fields\": [\n      \"events.event_week\"\n    ],\n    \"filters\": {\n      \"events.event_date\": \"12 weeks ago for 12 weeks\"\n    },\n    \"filter_expression\": null,\n    \"sorts\": [\n      \"events.event_week desc\"\n    ],\n    \"limit\": \"500\",\n    \"dynamic_fields\": \"[{\\\"table_calculation\\\":\\\"change\\\",\\\"label\\\":\\\"%25 Change\\\",\\\"expression\\\":\\\"(${events.bounce_rate}-offset(${events.bounce_rate},1))/offset(${events.bounce_rate},1)\\\",\\\"value_format\\\":null,\\\"value_format_name\\\":\\\"percent_2\\\",\\\"_kind_hint\\\":\\\"measure\\\",\\\"_type_hint\\\":\\\"number\\\"}]\"\n  },\n  \"resultFormat\": \"json\",\n  \"label\": \"Bounce Rate by Week\",\n  \"visColor\": \"#E24E3A\",\n  \"chipFormat\": \"percent\",\n  \"component\": SparkLine\n}\n\nconst averageTimeByWeek =\n{\n  \"id\": \"22\",\n  \"gridWidth\": 3,\n  \"type\": \"spark line\",\n  \"height\": 120,\n  \"inlineQuery\": {\n    \"model\": \"atom_fashion\",\n    \"view\": \"web_events\",\n    \"fields\": [\n      \"events.event_week\",\n      \"sessions.average_duration\"\n    ],\n    \"pivots\": null,\n    \"fill_fields\": [\n      \"events.event_week\"\n    ],\n    \"filters\": {\n      \"events.event_date\": \"12 weeks ago for 12 weeks\"\n    },\n    \"filter_expression\": null,\n    \"sorts\": [\n      \"events.event_week desc\"\n    ],\n    \"limit\": \"500\",\n    \"dynamic_fields\": \"[{\\\"table_calculation\\\":\\\"change\\\",\\\"label\\\":\\\"%25 Change\\\",\\\"expression\\\":\\\"(${sessions.average_duration}-offset(${sessions.average_duration},1))/offset(${sessions.average_duration},1)\\\",\\\"value_format\\\":null,\\\"value_format_name\\\":\\\"percent_2\\\",\\\"_kind_hint\\\":\\\"measure\\\",\\\"_type_hint\\\":\\\"number\\\"}]\"\n  },\n  \"resultFormat\": \"json\",\n  \"label\": \"Average Time on Site by Week\",\n  \"visColor\": \"#65AB5A\",\n  \"chipFormat\": \"integer\",\n  \"component\": SparkLine\n}\n\nconst embeddedQuery =\n{\n  \"gridWidth\": 8,\n  \"height\": 350,\n  \"type\": \"embeddedquery\",\n  \"id\": \"12\",\n  \"queryUrl\": \"embed/query/atom_fashion/order_items?fields=order_items.created_time,users.name,order_items.total_sale_price,users.approx_location,users.city&f[users.country]=USA&sorts=order_items.created_time+desc&limit=100&query_timezone=America%2FLos_Angeles&vis=%7B%22map_plot_mode%22%3A%22points%22%2C%22heatmap_gridlines%22%3Afalse%2C%22heatmap_gridlines_empty%22%3Afalse%2C%22heatmap_opacity%22%3A0.5%2C%22show_region_field%22%3Atrue%2C%22draw_map_labels_above_data%22%3Atrue%2C%22map_tile_provider%22%3A%22traffic_day%22%2C%22map_position%22%3A%22custom%22%2C%22map_scale_indicator%22%3A%22off%22%2C%22map_pannable%22%3Atrue%2C%22map_zoomable%22%3Atrue%2C%22map_marker_type%22%3A%22circle%22%2C%22map_marker_icon_name%22%3A%22shopping_cart%22%2C%22map_marker_radius_mode%22%3A%22proportional_value%22%2C%22map_marker_units%22%3A%22pixels%22%2C%22map_marker_proportional_scale_type%22%3A%22linear%22%2C%22map_marker_color_mode%22%3A%22fixed%22%2C%22show_view_names%22%3Afalse%2C%22show_legend%22%3Atrue%2C%22quantize_map_value_colors%22%3Afalse%2C%22reverse_map_value_colors%22%3Afalse%2C%22map_latitude%22%3A40.267214274019075%2C%22map_longitude%22%3A-94.70352172851564%2C%22map_zoom%22%3A4%2C%22map_marker_color%22%3A%5B%22%234595EC%22%5D%2C%22series_types%22%3A%7B%7D%2C%22type%22%3A%22looker_map%22%2C%22defaults_version%22%3A1%2C%22hidden_fields%22%3A%5B%22users.name%22%2C%22order_items.created_time%22%5D%7D&filter_config={}&origin=share-expanded&sdk=2&embed_domain=\",\n  \"title\": \"Most Recent Orders\",\n  \"component\": EmbeddedQuery\n}\n\nconst popularAnalysis = {\n  \"gridWidth\": 4,\n  \"height\": 350,\n  \"type\": \"popular analysis\",\n  \"vectors\": [\n    {\n      \"id\": \"9\",\n      \"type\": \"thumbnail\",\n      \"resourceType\": \"dashboard\",\n      \"lookerMethod\": \"vector_thumbnail\",\n      \"label\": \"Analytics\",\n      \"gridWidth\": \"4\",\n      \"url\": \"webanalytics\",\n      // \"component\": VectorThumbnail\n    },\n    {\n      \"id\": \"5\",\n      \"type\": \"thumbnail\",\n      \"resourceType\": \"dashboard\",\n      \"lookerMethod\": \"vector_thumbnail\",\n      \"label\": \"Sales\",\n      \"gridWidth\": \"4\",\n      \"url\": \"inventoryoverview\",\n      // \"component\": VectorThumbnail\n    },\n    {\n      \"id\": \"1\",\n      \"type\": \"thumbnail\",\n      \"resourceType\": \"dashboard\",\n      \"lookerMethod\": \"vector_thumbnail\",\n      \"label\": \"Inventory\",\n      \"gridWidth\": \"4\",\n      \"url\": \"salesoverview\",\n      // \"component\": VectorThumbnail\n    }\n  ],\n  \"label\": \"Popular analysis\",\n  \"component\": PopularAnalysis\n}\n\nexport const SplashPageContent = {\n  \"type\": \"splash page\",\n  \"label\": \"Home\",\n  \"description\": \"We're thrilled to have you on Atom Fashion - the premiere third party fashion marketplace for today's leading brands. Throughout this portal you will find a series of analytic content designed to help you maximize your performance.\",\n  \"menuCategory\": \"home\",\n  \"icon\": HomeIcon,\n  \"component\": SplashPage,\n  \"lookerContent\": [\n    bestWorstAnalysis,\n    revenueByWeek,\n    visitsByWeek,\n    bounceRateByWeek,\n    averageTimeByWeek,\n    embeddedQuery,\n    popularAnalysis\n  ],\n  \"requiredPermissionLevel\": 0\n}","import React, { useContext } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { NaturalLanguage } from './NaturalLanguage';\nimport { validIdHelper, appContextMap } from '../utils/tools';\n\nexport function Welcome({ lookerContentItem, classes }) {\n  // console.log('Welcome')\n  const { clientSession } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { userProfile } = clientSession\n\n  return (\n    <div\n      className={`${classes.overflowScroll} ${classes.padding15}`}\n      style={{ maxHeight: lookerContentItem.height }}\n    >\n      <Typography variant=\"h4\">Welcome back, {userProfile.givenName}!</Typography>\n      <br />\n      <>\n        {lookerContentItem.inlineQueries.map((inlineQuery, index) => (\n          <NaturalLanguage\n            key={`${validIdHelper('naturalLanguage-splashPage-' + index)}`}\n            {...{ lookerContentItem, inlineQuery, index, classes }}\n          />\n        )\n        )}\n      </>\n    </div >\n  );\n}\n","import $ from 'jquery';\nimport React, { useEffect, useState, useContext } from 'react';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport { Typography, Grid, Card, CircularProgress } from '@material-ui/core';\nimport { EmbedHighlight } from './Accessories/Highlight';\nimport { appContextMap, validIdHelper } from '../utils/tools';\nimport { Loader } from \"./Accessories\";\n\n\nexport function EmbeddedQuery({ lookerContentItem, classes, id }) {\n  // console.log(\"EmbeddedQuery\")\n  // console.log({ lookerContentItem })\n\n  const [iFrameExists, setIFrame] = useState(0);\n  const { clientSession, isReady } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n  const { lookerUser } = clientSession;\n\n\n  useEffect(() => {\n    // console.log(\"useEffect outer\");\n    // console.log({ lookerUser });\n    // console.log({ isReady });\n    if (isReady) {\n      // console.log(\"useEffect inner\");\n      fetchData()\n    }\n  }, [lookerUser, isReady])\n\n  const idToUse = validIdHelper(`embedContainer-${lookerContentItem.type}-${lookerContentItem.id}`);\n\n  const fetchData = async () => {\n    // console.log(\"fetchData\")\n    $(`#${idToUse}`).html('')\n    setIFrame(0)\n\n    let queryUrl = encodeURIComponent(`${lookerContentItem.queryUrl}${document.location.origin}`)\n    await fetch(`/auth?src=${queryUrl}`)\n      .then(response => response.json())\n      .then(data => {\n\n        LookerEmbedSDK.createExploreWithUrl(data.url)\n          .appendTo(document.getElementById(idToUse))\n          .withClassName('explore')\n          .withClassName('splashPage')\n          .withClassName(lookerContentItem.id)\n          .withTheme('atom_fashion')\n          .build()\n          .connect()\n          .then((explore) => {\n            setIFrame(1)\n            let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n            console.log({ modifiedBaseUrl })\n            LookerEmbedSDK.init(modifiedBaseUrl)\n          })\n          .catch((error) => {\n            // console.log('catch', error)\n          })\n      }).then(() => {\n        setIFrame(1)\n      })\n  }\n\n  return (\n    <Card className={`${classes.padding15} ${classes.overflowHidden} ${classes.lookerCardShadow}`}>\n\n      <Loader\n        hide={iFrameExists}\n        classes={classes}\n        height={lookerContentItem} />\n\n      <div\n        className={`${classes.overflowYScroll}`}\n        style={{ height: lookerContentItem.height }}\n      >\n        <Grid container\n          spacing={0}>\n          <Grid item sm={12}>\n            <Typography variant=\"h6\" align=\"center\" color=\"secondary\">\n              {lookerContentItem.title}\n            </Typography>\n          </Grid>\n\n          <Grid container\n            spacing={0}\n            alignItems=\"center\"\n            alignContent=\"center\"\n            justify=\"center\"\n          >\n            <Grid item sm={12}>\n              <EmbedHighlight\n                classes={classes}>\n                <div\n                  className={`embedContainer embedContainerNoHeader splashPage \n                 ${classes.overflowHidden} ${classes.maxHeight80Percent}`}\n                  id={idToUse}\n                  key={idToUse}\n                >\n                </div>\n              </EmbedHighlight>\n            </Grid>\n          </Grid>\n        </Grid>\n      </div >\n    </Card>\n  );\n}","import TableChartOutlinedIcon from '@material-ui/icons/TableChartOutlined';\nimport { handleTileToggle, handleVisColorToggle, handleThemeChange } from '@pbl-demo/components/Dashboard/helpers'\nimport { Dashboard } from '@pbl-demo/components';\n\nconst productNameFilter = {\n  \"label\": \"Select Product Name\",\n  \"filterName\": \"Product Name\",\n  \"lookerMethod\": \"runInlineQuery\",\n  \"inlineQuery\": {\n    \"model\": \"atom_fashion\",\n    \"view\": \"order_items\",\n    \"fields\": [\n      \"products.item_name\"\n    ],\n    \"query_timezone\": \"America/Los_Angeles\"\n  },\n  \"desiredFilterNames\": \"products.brand\",\n  \"component\": \"autocomplete\",\n  \"resultFormat\": \"json\"\n}\n\nconst tilesFilter = {\n  \"label\": \"Dynamic Tiles\",\n  \"options\": [\n    \"Inventory\",\n    \"Orders\"\n  ],\n  \"value\": \"tileToggleValue\",\n  \"component\": \"togglebutton\",\n  \"tileLookUp\": {\n    \"Inventory\": [\n      \"Inventory On Hand\",\n      \"# of Items on Hand\",\n      \"Most Popular Out of Stock Items\",\n      \"Overstocked Items\",\n      \"Aging Inventory\"\n    ],\n    \"Orders\": [\n      \"# Orders Processing\",\n      \"Total Amount Processing\",\n      \"# Orders In Transit\",\n      \"Order Shipment Status\",\n      \"Open Orders to be Shipped\"\n    ]\n  },\n  \"method\": handleTileToggle,\n  \"methodName\": \"handleTileToggle\"\n}\n\nconst visConfigFilter = {\n  \"label\": \"Dynamic Vis Config\",\n  \"options\": [\n    \"#2d4266\",\n    \"#43606b\",\n    \"#414c67\"\n  ],\n  \"value\": \"visColorToggleValue\",\n  \"component\": \"togglebutton\",\n  \"colors\": {\n    \"#2d4266\": [\n      \"#2d4266\",\n      \"#416098\",\n      \"#5780cd\",\n      \"#6391e8\"\n    ],\n    \"#43606b\": [\n      \"#43606b\",\n      \"#4a7880\",\n      \"#66a99d\",\n      \"#a3d9a9\"\n    ],\n    \"#414c67\": [\n      \"#414c67\",\n      \"#64689b\",\n      \"#9682cd\",\n      \"#b48ee4\"\n    ]\n  },\n  \"series_cell_visualizations\": {\n    \"#2d4266\": {\n      \"palette_id\": \"a3425339-dbbb-2584-0e23-38ed7d87ed50\",\n      \"collection_id\": \"b43731d5-dc87-4a8e-b807-635bef3948e7\",\n      \"custom_colors\": [\n        \"#6391e8\",\n        \"#2d4266\"\n      ]\n    },\n    \"#43606b\": {\n      \"palette_id\": \"c5182d25-00a3-cd71-eed3-4056299dd78f\",\n      \"collection_id\": \"atom-fashion\",\n      \"custom_colors\": [\n        \"#a3d9a9\",\n        \"#43606b\"\n      ]\n    },\n    \"#414c67\": {\n      \"palette_id\": \"7e059aa1-0d23-dab1-dbf9-a751ab7f54fb\",\n      \"collection_id\": \"b43731d5-dc87-4a8e-b807-635bef3948e7\",\n      \"custom_colors\": [\n        \"#b48ee4\",\n        \"#414c67\"\n      ]\n    }\n  },\n  \"method\": handleVisColorToggle,\n  \"methodName\": \"handleVisColorToggle\"\n}\n\nconst themeColorFilter = {\n  \"label\": \"Light or dark theme\",\n  \"component\": \"switch\",\n  \"method\": handleThemeChange,\n  \"methodName\": \"handleThemeChange\"\n}\n\nconst themeFontFilter = {\n  \"label\": \"Change font\",\n  \"component\": \"dropdown\",\n  \"options\": [{ label: \"Arial\", value: \"arial\" },\n  { label: \"Roboto\", value: \"roboto\" },\n  { label: \"Vollkorn\", value: \"vollkorn\" }],\n  \"method\": handleThemeChange,\n  \"methodName\": \"handleThemeChange\"\n}\n\nexport const InventoryOverivewContent = {\n  \"type\": \"custom filter\",\n  \"label\": \"Inventory Overview\", //old\n  \"menuLabel\": \"Inventory Overview\", //new\n  \"menuCategory\": \"operations\",\n  \"icon\": TableChartOutlinedIcon,\n  \"component\": Dashboard,\n  \"lookerContent\": [\n    {\n      \"type\": \"dashboard\",\n      \"lookerMethod\": \"embedDashboard\",\n      \"id\": \"1\",\n      \"isNext\": false,\n      \"label\": \"Inventory Overview\",\n      \"filters\": [productNameFilter, tilesFilter, visConfigFilter, themeColorFilter, themeFontFilter]\n    }],\n  \"requiredPermissionLevel\": 0\n}\n","import React from 'react';\nimport { Typography, Box } from '@material-ui/core'\nimport PropTypes from 'prop-types';\n\nexport function TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            <Box p={3}>{children}</Box>\n        </Typography>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nexport function a11yProps(index) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\n\nexport function descendingComparator(a, b, orderBy) {\n    if (a[orderBy] && b[orderBy] && b[orderBy].value < a[orderBy].value) {\n        return -1;\n    }\n    if (a[orderBy] && b[orderBy] && b[orderBy].value > a[orderBy].value) {\n        return 1;\n    }\n    return 0;\n}\n\nexport function getComparator(order, orderBy) {\n    return order === 'desc'\n        ? (a, b) => descendingComparator(a, b, orderBy)\n        : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n}","import { makeStyles } from '@material-ui/core/styles';\nimport { red, green } from '@material-ui/core/colors';\n\nconst redPrimary = red[500];\nconst greenPrimary = green[500];\nconst redLight = red[100];\nconst greenLight = green[100];\n\nexport const topBarBottomBarHeight = 140;\nexport const additionalHeightForFlyout = 15; //hack for now\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    overflow: 'scroll',\n    borderRadius: 8\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  card: {\n    minWidth: 275,\n  },\n  padding30: {\n    padding: 30\n  },\n  minHeight680: {\n    minHeight: 680,\n  },\n  maxHeight200: {\n    maxHeight: 200,\n    height: 200,\n    overflow: 'hidden'\n  },\n  mt30: {\n    marginTop: 30\n  },\n  mb30: {\n    marginBottom: 30\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  cursorPointer: {\n    cursor: 'pointer'\n  },\n  border: {\n    border: '1px solid black'\n  },\n  height800: {\n    height: 800\n  },\n  maxHeight100: {\n    maxHeight: 100,\n    height: 100,\n  },\n  maxHeight400: {\n    maxHeight: 400,\n    height: 400,\n  },\n  minHeight200: {\n    minHeight: 200,\n    overflow: 'scroll'\n  },\n  redNeg: {\n    backgroundColor: redLight,\n    color: redPrimary,\n    fontWeight: 800\n  },\n  greenPos: {\n    backgroundColor: greenLight,\n    color: greenPrimary,\n    fontWeight: 800\n  },\n  padding30: {\n    padding: 30\n  },\n  mb12: {\n    marginBottom: 12\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  overflowHidden: {\n    overflow: 'hidden'\n  },\n  overflowVisible: {\n    overflow: 'visible'\n  },\n  maxHeight150: {\n    maxHeight: 150,\n    height: 150,\n  },\n  minHeight150: {\n    minHeight: 150,\n    overflow: 'scroll'\n  },\n  carouselLegend: {\n    backgroundColor: 'rgb(192,192,192, .5)\t !important',\n    textAlign: 'center !important',\n    opacity: `100 !important`,\n    fontWeight: 800,\n    // width: `${25}% !important`,\n  },\n  carouselLegendTitle: {\n    fontSize: '24px !important',\n\n  },\n  carouselLegendBody: {\n    fontSize: '16px !important',\n  },\n  padding15: {\n    padding: 15\n  },\n  maxHeight75: {\n    maxHeight: 75,\n    height: 75,\n  },\n  overflowYScroll: {\n    overflowY: 'scroll',\n    overflowX: 'hidden'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  padding20: {\n    padding: 20\n  },\n  codeFlyoutContainer: {\n    backgroundColor: 'rgb(40, 42, 54)',\n    overflow: 'scroll',\n    borderRadius: '0 8px 8px 0'\n  },\n  height100Percent: {\n    height: '100%'\n  },\n  noContainerScroll: {\n    width: '100%',\n    margin: 0\n  },\n  lookerCardShadow: {\n    border: 'none',\n    borderRadius: '6px',\n    boxShadow: 'rgba(0, 0, 0, 0.11) 0px 2px 12px, rgba(0, 0, 0, 0.04) 0px 1px 4px'\n  },\n  maxHeight60: {\n    maxHeight: 60,\n    height: 60,\n  },\n  maxHeight350: {\n    maxHeight: 350,\n    height: 350,\n  },\n  maxHeight80Percent: {\n    maxHeight: '80%',\n    height: '80%'\n  },\n  faSm: {\n    fontSize: '.75em'\n  },\n  mr12: {\n    marginRight: 12\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  dot: {\n    height: \"25px\",\n    width: \"25px\",\n    borderRadius: \"50%\",\n    display: \"inline-block\"\n  },\n  borderRadius0: { borderRadius: 0 },\n  w33: {\n    width: \"33%\"\n  },\n  verticalAlignTop: {\n    verticalAlign: 'top'\n  },\n  padding10: {\n    padding: 10\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  bluePrimary: {\n    backgroundColor: 'rgba(69, 149, 236, 1)'\n  },\n  blueSecondary: {\n    backgroundColor: 'rgba(69, 149, 236, .5)',\n  },\n  orangePrimary: {\n    backgroundColor: 'rgba(243, 167, 89, 1)'\n  },\n  orangeSecondary: {\n    backgroundColor: 'rgba(243, 167, 89, .5)'\n  },\n  bottomBarSpacer: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  maxHeight600: {\n    maxHeight: 600,\n    overflow: 'scroll'\n  },\n  m12: {\n    margin: 12\n  },\n  m6: {\n    margin: 6\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  }\n}));","const logo = require('../images/logo_text.svg').default\nconst backgroundImageInt = Math.floor(Math.random() * 4) + 1;\nconst backgroundImage = require(`../images/background${backgroundImageInt}.jpg`).default\n\nexport const SignInContent = {\n  \"copyHeader\": \"Welcome\",\n  \"copyBody\": \"Please sign in to access your merchant portal\",\n  \"logo\": logo,\n  \"logoStyle\": {\n    \"height\": '100px',\n    \"width\": \"auto\"\n  },\n  \"backgroundImage\": backgroundImage,\n  \"backgroundImageStyle\": {\n    \"backgroundImage\": `url(${backgroundImage})`,\n    \"backgroundSize\": 'cover',\n    \"borderRadius\": '0'\n  }\n}\n","export const permissionLevels = {\n  \"basic\": [\n    \"access_data\",\n    \"see_looks\",\n    \"see_user_dashboards\",\n    \"see_lookml_dashboards\",\n    \"download_with_limit\"\n  ],\n  \"advanced\": [\n    \"access_data\",\n    \"see_looks\",\n    \"see_user_dashboards\",\n    \"see_lookml_dashboards\",\n    \"download_with_limit\",\n    \"schedule_look_emails\",\n    \"schedule_external_look_emails\",\n    \"create_alerts\",\n    \"see_drill_overlay\"\n  ],\n  \"premium\": [\n    \"access_data\",\n    \"see_looks\",\n    \"see_user_dashboards\",\n    \"see_lookml_dashboards\",\n    \"download_with_limit\",\n    \"schedule_look_emails\",\n    \"schedule_external_look_emails\",\n    \"create_alerts\",\n    \"see_drill_overlay\",\n    \"save_content\",\n    \"embed_browse_spaces\",\n    \"schedule_look_emails\",\n    \"send_to_sftp\",\n    \"send_to_s3\",\n    \"send_outgoing_webhook\",\n    \"send_to_integration\",\n    \"download_without_limit\",\n    \"explore\",\n    \"see_sql\"\n  ]\n}\n\nexport const userTimeHorizonMap = {\n  \"basic\": \"last 182 days\",\n  \"advanced\": \"last 365 days\",\n  \"premium\": \"last 730 days\"\n}\n\nexport const initialUser = {\n  \"external_user_id\": \"\",\n  \"first_name\": \"\",\n  \"last_name\": \"\",\n  \"session_length\": 86400,\n  \"force_logout_login\": true,\n  \"external_group_id\": \"\",\n  \"group_ids\": [\n    4\n  ],\n  \"permissions\":\n    permissionLevels[Object.keys(permissionLevels)[0]],\n  \"models\": [\n    \"atom_fashion\"\n  ],\n  \"user_attributes\": {\n    \"locale\": \"en_US\",\n    \"country\": \"USA\",\n    \"brand\": \"Calvin Klein\",\n    \"time_horizon\": \"last 182 days\",\n    \"permission_level\": Object.keys(permissionLevels)[0]\n  }\n}\n\nexport const modalPermissionsMap = {\n  'basic': {\n    \"title\": \"Drive your business with clear KPIs\",\n    \"list\": [\n      '6 months of order data history',\n      'Atom Merchant Dashboards',\n      'Download PDFs, CSVs'\n    ]\n  },\n  'advanced': {\n    \"title\": \"Deeper insights, operations\",\n    \"list\": [\n      'Full year of order data history',\n      'Drill to row level information',\n      'Download row level information',\n      'Schedule dashboards for delivery (to you or others)',\n      'Set alerts and key threshold notifications'\n    ]\n  },\n  'premium': {\n    \"title\": \"Drive your business with Atom\",\n    \"list\": [\n      '2 Full years of order data history',\n      'Analyze your own data and save custom reports',\n      'View premium level, productivity enhancing reports',\n      'Share your reports with colleagues in Atom',\n      'Text message alerts',\n      // 'Notify active shoppers on Atom',\n      // 'Apply Atoms advanced AI insights to stay ahead of trends'\n    ]\n  }\n}\n\nexport const rowLevelAttribute = {\n  \"autoCompleteLabel\": \"Change brand\",\n  \"menuItemLabel\": \"Current brand\",\n  \"options\": [\n    {\n      \"label\": \"Columbia\"\n    },\n    {\n      \"label\": \"Calvin Klein\"\n    },\n    {\n      \"label\": \"Carhartt\"\n    },\n    {\n      \"label\": \"Levi's\"\n    },\n    {\n      \"label\": \"Dockers\"\n    }\n  ]\n}","\nimport { permissionLevels, rowLevelAttribute } from \"./UserPermissionsContent\";\nconst logo = require('../images/logo.svg').default\n\nexport const TopBarContent = {\n  \"usermenu\": { permissionLevels, rowLevelAttribute, allowModal: true },\n  \"avatar\": logo,\n  \"avatarStyle\": {\n    \"maxHeight\": \"40px\",\n    \"fill\": \"white\"\n  }\n}","import $ from 'jquery';\nimport _ from 'lodash';\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Typography, Box, Grid, Card, Button,\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, InputLabel, MenuItem, FormControl,\n  Select, Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow,\n  TableSortLabel, FormControlLabel, Switch, Chip, Divider\n} from '@material-ui/core'\nimport { ExpandMore, Search, Done } from '@material-ui/icons';\nimport { getComparator, stableSort } from './helpers.js';\nimport AppContext from '../../../contexts/AppContext';\nimport { Loader, ApiHighlight, CodeFlyout } from \"@pbl-demo/components/Accessories\";\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from '../styles.js';\nimport { userTimeHorizonMap } from '../../../config';\n\nconst { validIdHelper, prettifyString } = require('../../../tools');\n\nexport default function QueryBuilder(props) {\n  // console.log('QueryBuilder')\n\n  const { clientSession, show, codeShow, sdk, corsApiCall } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession\n\n  const sideBarWidth = 240 + 122; //24 + 24 + 30 + 30 + 12 + 12 + 10 + 10\n  const [apiContent, setApiContent] = useState({});\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const [width, setWidth] = useState((window.innerWidth - sideBarWidth));\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\n  const classes = useStyles();\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, } = props;\n\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => {\n      setHeight((window.innerHeight - topBarBottomBarHeight))\n      setWidth((window.innerWidth - sideBarWidth))\n      setExpansionPanelHeight($('.MuiExpansionPanel-root:visible').innerHeight() || 0)\n\n    });\n  })\n\n\n  const performLookerApiCalls = async (newQuery, resultFormat) => {\n    let apiContentCopy = { ...apiContent }\n    apiContentCopy.status = 'running';\n    setApiContent(apiContentCopy)\n\n    let timer = Date.now();\n\n    let lookerCreateQueryResponseData = await sdk.ok(sdk.create_query(newQuery))\n    let lookerCreateTaskResponseData = await sdk.ok(sdk.create_query_task({\n      body: {\n        query_id: lookerCreateQueryResponseData.id,\n        result_format: resultFormat || 'json_detail'//lookerContent[0].resultFormat || 'json'\n      }\n    }))\n\n    let taskInterval = setInterval(async () => {\n      let lookerCheckTaskResponseData = await sdk.ok(sdk.query_task_results(lookerCreateTaskResponseData.id, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }));\n\n      if (lookerCheckTaskResponseData.status === 'complete') {\n        clearInterval(taskInterval);\n        setApiContent(lookerCheckTaskResponseData)\n        // setServerSideCode(lookerCreateTaskResponseData.code)\n      }\n\n      //time out after 30 seconds\n      if ((timer + (30 * 1000)) < Date.now()) {\n        clearInterval()\n        setApiContent([])\n      }\n    }, 1000)\n  }\n\n  return (\n    <div className={`${classes.root} ${classes.positionRelative}`}\n      style={{ height }}\n    >\n      <Card elevation={1} className={`${classes.padding15} ${classes.height100Percent} ${classes.overflowYScroll}`}>\n        <Grid container\n          key={validIdHelper(type)} >\n          <div className={`${classes.root}`}>\n\n            <Loader\n              hide={apiContent && apiContent.status !== \"running\"}\n              classes={classes}\n              height={height - expansionPanelHeight}\n            />\n\n            <FilterBar {...props}\n              classes={classes}\n              action={performLookerApiCalls}\n              corsApiCall={corsApiCall}\n            />\n            {apiContent.data && apiContent.data.length ?\n              <Box>\n                <Grid container\n                  spacing={3}\n                  className={`${classes.noContainerScroll}`}>\n\n                  <CodeFlyout {...props}\n                    classes={classes}\n                    lookerUser={lookerUser}\n                    height={height - expansionPanelHeight - additionalHeightForFlyout}\n                  />\n                  <Divider className={classes.divider} />\n                  <Grid item sm={12}>\n                    <Box className={`${classes.w100}`} mt={2}>\n                      < EnhancedTable\n                        {...props}\n                        classes={classes}\n                        rows={apiContent.data}\n                        lookerContent={lookerContent}\n                        width={width}\n                      />\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Box>\n              :\n              <Grid item sm={12} >\n                <Typography variant=\"h6\" component=\"h6\" className={`${classes.gridTitle} ${classes.textCenter}`}>\n                  No results found, try a new query<br />\n                </Typography>\n              </Grid>\n            }\n          </div >\n        </Grid >\n      </Card>\n    </div >\n  )\n}\n/**\n * seems inconsistent that filterbar performs performLookerApiCalls here??\n */\n\nfunction FilterBar(props) {\n  // console.log('FilterBar');\n\n\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall, isReady } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession\n\n  const { staticContent, staticContent: { lookerContent }, classes, action, //lookerUser, corsApiCall \n  } = props;\n\n\n\n  let measureCounter = 0;\n  let dimensionCounter = 0;\n\n\n  const initializeFieldChipDataHelper = () => {\n    let initializedFields = lookerContent[0].queryBody.fields.map((item, index) => {\n      return {\n        key: 'fieldChipData' + index,\n        label: prettifyString(item.substring(item.lastIndexOf('.') + 1, item.length)),\n        datalabel: item,\n        selected: item === 'users.state' || item === 'users.country' || item === 'order_items.total_sale_price' ? true : false,\n        fieldType: lookerContent[0].fieldType[item]\n      }\n    })\n    return initializedFields;\n  }\n\n  const [expanded, setExpanded] = useState(true);\n  const [fieldsChipData, setFieldsChipData] = useState(lookerContent[0].queryBody ? initializeFieldChipDataHelper() : '');\n  const [queryModified, setQueryModified] = useState(true); //set to true initially\n  const [queryShouldRun, setQueryShouldRun] = useState(false); //for lookerUser useEffect\n  const [filtersData, setFilterData] = useState(lookerContent[0].queryBody ? Object.keys(lookerContent[0].queryBody.filters).map((key, index) => {\n    return {\n      key: 'filter' + index,\n      label: key,\n      value: lookerContent[0].queryBody.filters[key],\n      type: lookerContent[0].filterType[key]\n    }\n  }) : '')\n\n  const handleExpansionPanel = (event, newValue) => {\n    setExpanded(expanded ? false : true);\n  };\n\n  const handleFieldChipClick = (chip, index) => {\n    let updatedFieldsChipData = [...fieldsChipData]\n    updatedFieldsChipData[index].selected = updatedFieldsChipData[index].selected === false ? true : false\n    setFieldsChipData(updatedFieldsChipData)\n    setQueryModified(true)\n  }\n\n  const handleSelectChange = (index, newValue) => {\n    let updatedFiltersData = [...filtersData]\n    updatedFiltersData[index].value = newValue;\n    setFilterData(updatedFiltersData)\n    setQueryModified(true)\n  }\n\n  const handleQuerySubmit = (event) => {\n    if (queryModified || queryShouldRun) {\n      let newFields = fieldsChipData.filter(chip => chip.selected).map(item => item.datalabel);\n      let currentFilters = {}; //needs to be object\n      filtersData.map((item, index) => {\n        currentFilters[item.label] = item.value\n      })\n      let newQueryObj = { ...lookerContent[0].queryBody };\n      newQueryObj.fields = newFields;\n      newQueryObj.filters = currentFilters;\n\n      corsApiCall(action, [newQueryObj, lookerContent[0].resultFormat]);\n\n      setQueryModified(false)\n      setQueryShouldRun(false)\n    } //else console.log('elllse')\n  }\n\n\n\n  useEffect(() => {\n    // console.log('useEffect lookerUser')\n    if (isReady) {\n      let updatedFiltersData = [...filtersData]\n      updatedFiltersData[3].value = userTimeHorizonMap[lookerUser.user_attributes.permission_level] || \"182 days\";\n      setFilterData(updatedFiltersData);\n      setFieldsChipData(initializeFieldChipDataHelper())\n\n      setQueryShouldRun(true);\n\n    }\n  }, [lookerUser, isReady]);\n\n  useEffect(() => {\n    // console.log('useEffect queryShouldRun')\n    if (queryShouldRun) {\n      handleQuerySubmit();\n      setQueryModified(false);\n      setQueryShouldRun(false);\n    }\n  }, [queryShouldRun])\n\n\n  const datePermissionMap = {\n    'basic': [\"1 week\", \"1 month\", \"3 months\", \"last 182 days\"]\n  }\n  datePermissionMap.advanced = [...datePermissionMap.basic, \"last 365 days\"]\n  datePermissionMap.premium = [...datePermissionMap.advanced, \"last 730 days\"]\n\n  return (\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} elevation={0}>\n      <ExpansionPanelSummary\n        expandIcon={<ExpandMore />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <Search /><Typography className={`${classes.heading} ${classes.ml12}`}>Build Query:</Typography>\n        {/* <Typography className={classes.heading}>Build Query:</Typography> */}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <Grid container spacing={3}>\n          <Grid item sm={12}>\n            <Typography variant=\"subtitle1\">\n              Select Metrics:\n      {fieldsChipData.length ?\n                fieldsChipData.map((item, index) => {\n                  return (\n                    item.fieldType === 'measure' ?\n                      <Chip\n                        key={item.label}\n                        // key={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\n                        measurecounter={measureCounter += 1}\n                        className={item.selected ? `${classes.orangePrimary} ${classes.m6}` : `${classes.m6}`}\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\n                        datalabel={item.label}\n                        onClick={() => handleFieldChipClick(item, index)}\n                        icon={item.selected ? <Done className={classes.dBlock} /> : <Done className={classes.dNone} />}\n                      /> : ''\n                  )\n                }) : ''\n              }<br />\n            </Typography>\n          </Grid>\n          <Grid item sm={12}>\n            <Typography variant=\"subtitle1\">\n              Group By:\n                          {fieldsChipData.length ?\n                fieldsChipData.map((item, index) => {\n                  return (\n                    item.fieldType === 'dimension' ?\n                      <Chip\n                        key={item.label}\n                        dimensioncounter={dimensionCounter += 1}\n                        className={item.selected ? `${classes.bluePrimary} ${classes.m6}` : `${classes.m6}`}\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\n                        datalabel={item.label}\n                        onClick={() => handleFieldChipClick(item, index)}\n                        icon={item.selected ? <Done className={classes.dBlock} /> : <Done className={classes.dNone} />}\n                      /> : ''\n                  )\n                }) : ''\n              }<br />\n            </Typography>\n          </Grid>\n\n          <Grid item sm={3}>\n            <Typography variant=\"subtitle1\">\n              Filter By:\n                      </Typography>\n            {filtersData.length ? filtersData.map((item, index) => {\n              return (\n                <FormControl className={item.value.length ? classes.formControl : classes.hidden} key={validIdHelper(`${item.label}FormControl`)}>\n                  {\n                    item.type === 'yesno' ?\n                      <>\n                        <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\n                        <Select\n                          labelId={validIdHelper(`${item.label}FilterLabel`)}\n                          id={validIdHelper(`${item.label}FilterSelect`)}\n                          value={item.value}\n                          onChange={(event) => handleSelectChange(index, event.target.value)}\n                        >\n                          <MenuItem value=\"Yes\">Yes</MenuItem>\n                          <MenuItem value=\"No\">No</MenuItem>\n                          <MenuItem value=\"All\">All</MenuItem>\n                        </Select>\n                      </>\n                      : item.type === 'date' ?\n                        <>\n                          <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\n\n                          <Select\n                            labelId={validIdHelper(`${item.label}FilterLabel`)}\n                            id={validIdHelper(`${item.label}FilterSelect`)}\n                            value={item.value || '6 months'}\n                            onChange={(event) => handleSelectChange(index, event.target.value)}\n                          >\n                            {lookerUser.user_attributes.permission_level ? datePermissionMap[lookerUser.user_attributes.permission_level].map(item => (\n                              <MenuItem key={validIdHelper(item)} value={item}>{_.capitalize(item)}</MenuItem>\n                            )) : ''}\n                          </Select>\n                        </>\n                        : ''\n                  }\n                </FormControl>\n              )\n            }) : ''}\n          </Grid>\n          <Grid item sm={9}>\n            <br />\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              size=\"large\"\n              onClick={handleQuerySubmit}\n              disabled={queryModified ? false : true}\n            >Run Query</Button></Grid>\n        </Grid>\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  )\n}\n\nfunction EnhancedTableHead(props) {\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, rows } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {Object.keys(rows[0]).map((key, index) => (\n          <TableCell\n            key={validIdHelper(key + '-TableHead-TableCell-' + index)}\n            id={validIdHelper(key + '-TableHead-TableCell-' + index)}\n            align={key.numeric ? 'right' : 'left'}\n            padding={key.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === key ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === key}\n              direction={orderBy === key ? order : 'asc'}\n              onClick={createSortHandler(key)}\n            >\n              {prettifyString(key.substring(key.lastIndexOf('.') + 1, key.length))}\n              {orderBy === key ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  // numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  // onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nfunction EnhancedTable(props) {\n  const { rows, classes, lookerContent, width } = props;\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState(Object.keys(rows[0])[0]);\n  const [page, setPage] = React.useState(0);\n  const [dense, setDense] = React.useState(true);\n  const [rowsPerPage, setRowsPerPage] = React.useState(25);\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const handleChangeDense = (event) => {\n    setDense(event.target.checked);\n  };\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n  return (\n    <div className={`${classes.root} ${classes.padding10}`}>\n      <ApiHighlight classes={classes} >\n        <TableContainer\n          style={{ maxWidth: width }}\n        >\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size={dense ? 'small' : 'medium'}\n            aria-label=\"enhanced table\"\n          >\n            <EnhancedTableHead\n              {...props}\n              classes={classes}\n              order={order}\n              orderBy={orderBy}\n              onRequestSort={handleRequestSort}\n              rowCount={rows.length}\n            />\n            <TableBody>\n              {stableSort(rows, getComparator(order, orderBy))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, index) => {\n                  return (\n                    <TableRow\n                      hover\n                      key={validIdHelper('TableRow-' + index)}\n                      id={validIdHelper('TableRow-' + index)}>\n                      {Object.keys(row).map((key, index) => (\n                        <TableCell\n                          key={validIdHelper(key + '-TableBody-TableCell-' + index)}\n                          id={validIdHelper(key + '-TableBody-TableCell-' + index)}\n                          className={lookerContent[0].fieldType[key] === 'dimension' ? classes.blueSecondary : classes.orangeSecondary}\n                          align=\"right\">\n                          {row[key].rendered ? row[key].rendered : row[key].value}\n                        </TableCell>\n                      ))}\n                    </TableRow>\n                  );\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </ApiHighlight>\n      <Grid container>\n        <Grid item sm={6}>\n          <FormControlLabel\n            control={<Switch checked={dense} onChange={handleChangeDense} />}\n            label=\"Compact\"\n          /></Grid>\n        <Grid item sm={6}>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 25, 50]}\n            component=\"div\"\n            count={rows.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          /></Grid>\n      </Grid>\n      <div className={classes.bottomBarSpacer} />\n    </div>\n  );\n}","import QueryBuilder from '../../components/Demo/QueryBuilder/QueryBuilder'\nimport SearchIcon from '@material-ui/icons/Search';\n\nexport const QueryBuilderContent = {\n  \"type\": \"query builder\",\n  \"label\": \"Query Builder\",\n  \"menuCategory\": \"operations\",\n  \"description\": \"Enable business users to self serve on data and answer their own questions\",\n  \"icon\": SearchIcon,\n  \"component\": QueryBuilder,\n  \"lookerContent\": [\n    {\n      \"type\": \"explorelite\",\n      \"id\": \"explorelite\",\n      \"label\": \"Build & Run Queries\",\n      \"queryBody\": {\n        \"model\": \"atom_fashion\",\n        \"view\": \"order_items\",\n        \"fields\": [\n          \"order_items.created_month\",\n          \"order_items.created_date\",\n          \"order_items.created_week\",\n          \"users.city\",\n          \"users.state\",\n          \"users.country\",\n          \"products.category_type\",\n          \"products.category\",\n          \"products.brand\",\n          \"order_items.total_sale_price\",\n          \"order_items.total_tax_amount\"\n        ],\n        \"filters\": {\n          \"users.state\": \"\",\n          \"users.city\": \"\",\n          \"users.country\": \"\",\n          \"order_items.created_date\": \"6 months\"\n        },\n        \"limit\": 500\n      },\n      \"resultFormat\": \"json_detail\",\n      \"fieldType\": {\n        \"order_items.created_month\": \"dimension\",\n        \"order_items.created_date\": \"dimension\",\n        \"order_items.created_week\": \"dimension\",\n        \"users.city\": \"dimension\",\n        \"users.state\": \"dimension\",\n        \"users.country\": \"dimension\",\n        \"products.category_type\": \"dimension\",\n        \"products.category\": \"dimension\",\n        \"products.brand\": \"dimension\",\n        \"order_items.total_sale_price\": \"measure\",\n        \"order_items.total_tax_amount\": \"measure\"\n      },\n      \"filterType\": {\n        \"users.state\": \"string\",\n        \"users.city\": \"string\",\n        \"users.country\": \"string\",\n        \"order_items.created_date\": \"date\"\n      }\n    }\n  ],\n  \"requiredPermissionLevel\": 0\n}","import React from 'react';\nimport { Typography, Box } from '@material-ui/core'\nimport PropTypes from 'prop-types';\n\nexport function TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      <Box p={3}>{children}</Box>\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nexport function a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n\n\n","import _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Grid, Button } from '@material-ui/core'\nimport { TreeView, TreeItem } from '@material-ui/lab';\nimport { ExpandMore, ChevronRight, Lock, Folder } from '@material-ui/icons';\nimport '../../Home.css';\nimport AppContext from '../../../contexts/AppContext';\n\nconst { validIdHelper } = require('../../../tools');\n\nexport const TreeSideBar = ({ staticContent, staticContent: { lookerContent }, classes, demoComponentType, tabContent, tabContentItemIndex, action, apiContent }) => {\n\n  const { clientSession, setPaywallModal, } = useContext(AppContext)\n  const { lookerUser } = clientSession\n  const sharedFolderId = lookerContent[0].type === 'folder' ? lookerContent[0].id : '';\n  let treeCounter = 0;\n  const [selected, setSelected] = useState(\"2\");\n  const expandedArr = Object.keys(apiContent).length ? [\"1\", \"\" + (2 + apiContent[Object.keys(apiContent)[0]].length)] : [];\n  const [expanded, setExpanded] = useState(expandedArr);\n\n  useEffect(() => {\n    // console.log(\"useEffect\");\n    // console.log({ apiContent })\n    setExpanded(expandedArr);\n    setSelected(\"2\")\n  }, [apiContent]);\n\n  return (\n    <TreeView\n      className={classes.tree}\n      defaultCollapseIcon={<ExpandMore />}\n      defaultExpandIcon={<ChevronRight />}\n      expanded={expanded}\n      // onNodeToggle={handleToggle}\n      onNodeSelect={setSelected}\n      selected={selected}\n    >\n      {apiContent ? Object.keys(apiContent).map((key, outerIndex) => (\n        <React.Fragment\n          key={`${validIdHelper(demoComponentType + '-innerFragment-' + outerIndex)}`}>\n          <TreeItem\n            key={`${validIdHelper(demoComponentType + '-outerTreeItem-' + outerIndex)}`}\n            nodeId={\"\" + (treeCounter += 1)}\n            label={_.capitalize(key)}\n            icon={\n              <Folder />\n            }\n            disabled={apiContent[key].length ? false : true}\n          >\n            {\n              apiContent[key].length ?\n                apiContent[key].map((item, index) => (\n                  <TreeItem\n                    key={`${validIdHelper(demoComponentType + '-innerTreeItem-' + treeCounter)}`}\n                    nodeId={\"\" + (treeCounter += 1)}\n                    treecounter={treeCounter}\n                    aria-selected={false}\n                    // selected={selected === treeCounter}\n                    // className={selected === treeCounter ? `Mui-selected innerTreeItem ${classes.whiteSpaceNoWrap}` : `innerTreeItem ${classes.whiteSpaceNoWrap}`}\n                    contentid={item.id}\n                    label={item.folder_id === sharedFolderId &&\n                      key === 'reports' ?\n                      <div\n                        id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                        key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                        className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}\n                      >\n                        <Grid container>\n                          <Grid item sm={8} className={`${classes.overflowHidden}`}>\n                            {item.title}</Grid>\n                          <Grid item sm={4}>\n                            <Button\n                              id={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\n                              key={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\n                              size=\"small\"\n                              className={`${classes.ml12} ${classes.childHoverVisibility}`}\n                              onClick={(event) => {\n                                if (lookerUser.user_attributes.permission_level === 'premium') {\n                                  action(\n                                    key.substring(0, key.length - 1),\n                                    item.id,\n                                    'explore',\n                                    item.client_id,\n                                    tabContent[tabContentItemIndex + 1].id,\n                                    validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\n                                  );\n                                  event.stopPropagation();\n                                } else {\n                                  setPaywallModal({\n                                    'show': true,\n                                    'permissionNeeded': 'explore'\n                                  });\n                                }\n                              }\n                              }\n                              color=\"default\"\n                              startIcon={lookerUser.user_attributes.permission_level === 'premium' ? \"\" : <Lock />}\n                            >\n                              Explore\n                            </Button>\n                          </Grid>\n                        </Grid>\n\n\n                      </div>\n                      : key === 'reports' ?\n                        <div\n                          id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                          key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                          className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}>\n                          <Grid container>\n                            <Grid item sm={6} className={`${classes.overflowHidden}`}>\n                              {item.title}\n                            </Grid>\n                            <Grid item sm={6}>\n                              <Button\n                                id={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\n                                key={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\n                                size=\"small\"\n                                className={`${classes.ml12} ${classes.childHoverVisibility}`}\n                                onClick={(event) => {\n                                  if (lookerUser.user_attributes.permission_level === 'premium') {\n                                    action(\n                                      key.substring(0, key.length - 1),\n                                      item.id,\n                                      'edit',\n                                      item.client_id,\n                                      tabContent[tabContentItemIndex + 1].id,\n                                      validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\n                                    );\n                                    event.stopPropagation();\n                                  } else {\n\n                                    setPaywallModal({\n                                      'show': true,\n                                      'permissionNeeded': 'explore'\n                                    });\n                                  }\n                                }\n                                }\n                                color=\"primary\"\n                              >\n                                Edit\n                                                                                            </Button>\n                              <Button\n                                id={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\n                                key={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\n                                size=\"small\"\n                                className={`${classes.ml12} ${classes.childHoverVisibility}`}\n                                onClick={(event) => {\n                                  if (lookerUser.user_attributes.permission_level === 'premium') {\n                                    // setSelected(treeCounter);\n                                    action(\n                                      key.substring(0, key.length - 1),\n                                      item.id,\n                                      'delete',\n                                      item.client_id,\n                                      tabContent[tabContentItemIndex + 1].id,\n                                      validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\n                                    );\n                                    event.stopPropagation();\n                                  } else {\n                                    // setPaywallModal();\n\n                                    setPaywallModal({\n                                      'show': true,\n                                      'permissionNeeded': 'explore'\n                                    });\n                                  }\n                                }\n                                }\n                                color=\"secondary\"\n                              >\n                                Delete\n                                                                                            </Button>\n                            </Grid>\n                          </Grid>\n\n                        </div>\n                        : <Grid container><Grid item sm={12}>{item.title}</Grid></Grid>\n                    }\n                    onClick={() => {\n                      // setSelected(treeCounter)\n                      action(\n                        key.substring(0, key.length - 1), item.id)\n                    }} />\n                ))\n                :\n                ''\n            }\n          </TreeItem>\n\n        </React.Fragment>\n      )) : ''}\n    </TreeView>\n  )\n}","import $ from 'jquery';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AppBar, Tabs, Tab, Box, Grid, Card } from '@material-ui/core'\nimport { Lock, Add } from '@material-ui/icons';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport { TabPanel, a11yProps } from './helpers.js';\nimport '../../Home.css';\nimport AppContext from '../../../contexts/AppContext';\nimport { Loader, ApiHighlight, EmbedHighlight, CodeFlyout } from \"@pbl-demo/components/Accessories\";\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from '../styles.js';\nimport { TreeSideBar } from './TreeSideBar'\nconst { validIdHelper } = require('../../../tools');\n\n//start of ReportBuilder Component\nexport default function ReportBuilder(props) {\n\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall, isReady } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession;\n\n  const [iFrameExists, setIFrame] = useState(0);\n  const [apiContent, setApiContent] = useState([]);\n  const [exploreObj, setExploreObj] = useState({});\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\n\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const [qid, setQid] = useState(null);\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type } } = props;\n\n  const demoComponentType = type;\n  const tabContent = [...lookerContent]\n\n  const handleChange = (event, newValue) => {\n    if (newValue == 1 && lookerUser.user_attributes.permission_level !== 'premium') {\n      // handleChange(0)\n      setPaywallModal({\n        'show': true,\n        'permissionNeeded': 'explore'\n      });\n    } else {\n      setValue(newValue)\n    }\n  };\n\n  useEffect(() => {\n    if (isReady) {\n      corsApiCall(performLookerApiCalls, [lookerContent, !value])\n    }\n  }, [lookerUser, value, isReady, value]);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n    setExpansionPanelHeight($('.MuiExpansionPanel-root:visible').innerHeight() || 0)\n  })\n\n\n  const action = async (contentType, contentId, secondaryAction, qid, exploreId, newReportEmbedContainer) => {\n    // console.log(\"action\");\n    // console.log({ contentType })\n    // console.log({ contentId })\n    // console.log({ qid })\n    let iFrameArray = $(\".embedContainer:visible > iframe\");\n\n    let matchingIndex = 0;\n    for (let i = 0; i < iFrameArray.length; i++) {\n      if (iFrameArray[i].classList.contains(contentType) && iFrameArray[i].classList.contains(contentId)) {\n        iFrameArray[i].classList.remove('dNone')\n        matchingIndex = i;\n      } else {\n        iFrameArray[i].classList.add('dNone')\n      }\n    }\n\n    if (secondaryAction === 'edit' || secondaryAction === 'explore') {\n      //save qid to state and use in perform looker api calls\n      setQid(qid);\n      handleChange('edit', 1)\n    } else if (secondaryAction === 'delete') {\n\n      let lookerResponse = await sdk.ok(sdk.delete_look(contentId));\n      corsApiCall(performLookerApiCalls, [lookerContent, 1])\n    }\n  }\n\n  const performLookerApiCalls = function (lookerContent, animateLoad) {\n    // console.log(\"performLookerApiCalls\")\n    // console.log({ lookerContent })\n    // console.log({ animateLoad })\n\n    $(`.embedContainer.${validIdHelper(demoComponentType)}:visible`).html('')\n\n    if (animateLoad) {\n      handleChange('refresh', 0)\n      setIFrame(0)\n      setApiContent([])\n    }\n\n    lookerContent.map(async lookerContent => {\n      if (value === 0 &&\n        lookerContent.type === 'folder') {\n\n        const sharedFolder = await sdk.ok(sdk.folder(lookerContent.id));\n        const embedUser = await sdk.ok(sdk.me())\n\n        for (let h = 0; h < sharedFolder.looks.length; h++) {\n          let look = await sdk.ok(sdk.look(sharedFolder.looks[h].id))\n          let clientId = look.query.client_id;\n          sharedFolder.looks[h].client_id = clientId;\n        }\n\n        let embeddedUserFolder = {}\n        if (lookerUser.user_attributes.permission_level === 'premium') {\n          let embedUserLooks = await sdk.ok(sdk.search_looks({ user_id: embedUser.id }))\n          if (embedUserLooks && embedUserLooks.length) {\n            let embedUserFolderId = embedUserLooks[0].folder_id || null;\n            embeddedUserFolder = await sdk.ok(sdk.folder(embedUserFolderId));\n            for (let i = 0; i < embeddedUserFolder.looks.length; i++) {\n              let look = await sdk.ok(sdk.look(embeddedUserFolder.looks[i].id));\n              let clientId = look.query.client_id;\n              embeddedUserFolder.looks[i].client_id = clientId;\n            }\n          }\n        }\n\n        let lookerResponseData = {\n          sharedFolder,\n          embeddedUserFolder\n        }\n\n        let looksToUse = [...lookerResponseData.sharedFolder.looks];\n        if (lookerUser.user_attributes.permission_level === 'premium' &&\n          Object.keys(lookerResponseData.embeddedUserFolder).length) {\n          looksToUse = [\n            ...looksToUse, ...lookerResponseData.embeddedUserFolder.looks\n          ]\n\n        }\n        let dashboardsToUse = [...lookerResponseData.sharedFolder.dashboards]\n        let objToUse = {\n          reports: looksToUse,\n          dashboards: dashboardsToUse\n        }\n        let iFrameArray = $(`.embedContainer.${validIdHelper(demoComponentType)} > iframe`);\n        if (objToUse.reports.length) {\n          objToUse.reports.map((item, index) => {\n\n            let lookId = item.id;\n            let lookIsRendered = false;\n            for (let i = 0; i < iFrameArray.length; i++) {\n              if (iFrameArray[i].classList.contains('look') && iFrameArray[i].classList.contains(lookId)) {\n                lookIsRendered = true;\n              }\n            }\n\n            if (!lookIsRendered) {\n              LookerEmbedSDK.createLookWithId(lookId)\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n                .withClassName('iframe')\n                .withClassName('report')\n                .withClassName('look')\n                .withClassName(lookerResponseData.sharedFolder.looks.indexOf(item) > -1 ? \"shared\" : \"personal\")\n                .withClassName(index > 0 ? 'dNone' : 'oops')\n                .withClassName(lookId)\n                .build()\n                .connect()\n                .then((look) => {\n                  let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n                  LookerEmbedSDK.init(modifiedBaseUrl)\n                })\n                .catch((error) => {\n                  console.error('Connection error', error)\n                })\n            }\n\n            if (index === objToUse.reports.length - 1) {\n              setTimeout(() => setIFrame(1), 1000)\n            }\n          })\n        }\n\n        if (objToUse.dashboards.length) {\n          objToUse.dashboards.map((item, index) => {\n            let dashboardId = item.id\n            let dashboardIsRendered = false;\n            for (let i = 0; i < iFrameArray.length; i++) {\n              if (iFrameArray[i].classList.contains('dashboard') && iFrameArray[i].classList.contains(dashboardId)) {\n                dashboardIsRendered = true;\n              }\n            }\n            if (!dashboardIsRendered) {\n              LookerEmbedSDK.createDashboardWithId(dashboardId)\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n                .withClassName('iframe')\n                .withClassName('dashboard')\n                .withClassName(lookerResponseData.sharedFolder.dashboards.indexOf(item) > -1 ? \"shared\" : \"personal\")\n                .withClassName('dNone')\n                .withClassName(dashboardId)\n                .build()\n                .connect()\n                .then((dashboard) => {\n                  setTimeout(() => {\n                    // setIFrame(1)\n                  }, 1000)\n                  let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n                  LookerEmbedSDK.init(modifiedBaseUrl)\n\n                })\n                .catch((error) => {\n                  console.error('Connection error', error)\n                })\n            }\n\n            if (index === objToUse.dashboards.length - 1) {\n              setTimeout(() => setIFrame(1), 1000)\n            }\n          })\n        }\n        setApiContent(objToUse)\n      } else if (lookerContent.type === 'explore' &&\n        lookerUser.user_attributes.permission_level === 'premium' &&\n        value === 1) {\n        let exploreId = lookerContent.id;\n        $(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`)).html('');\n        //separate logic for embedding explore with qid vs. no qid\n        if (qid) {\n          LookerEmbedSDK.createExploreWithId(exploreId)\n            .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n            .withClassName('exploreIframe')\n            .withParams({\n              qid: qid\n            })\n            .on('explore:state:changed', (event) => {\n            })\n            .build()\n            .connect()\n            .then((explore) => {\n              setIFrame(1)\n              setExploreObj(explore)\n\n              let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n              LookerEmbedSDK.init(modifiedBaseUrl)\n\n              setQid(null)\n            })\n            .catch((error) => {\n              console.error('Connection error', error)\n            })\n        } else {\n          LookerEmbedSDK.createExploreWithId(exploreId)\n            .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n            .withClassName('exploreIframe')\n            .on('explore:state:changed', (event) => {\n            })\n            .build()\n            .connect()\n            .then((explore) => {\n              setIFrame(1)\n              setExploreObj(explore)\n              let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n              LookerEmbedSDK.init(modifiedBaseUrl)\n            })\n            .catch((error) => {\n              console.error('Connection error', error)\n            })\n        }\n      }\n    })\n  }\n\n  return (\n    <div className={`${classes.root} ${classes.positionRelative}`}\n      style={{ height }}\n    >\n      <Card elevation={1} className={`${classes.padding15} ${classes.height100Percent} ${classes.overflowYScroll}`}>\n        <Grid container\n          key={validIdHelper(type)} >\n          <div className={classes.root}>\n            <Loader\n              hide={iFrameExists}\n              classes={classes}\n              height={height - expansionPanelHeight}\n            />\n            {/* additional loading logic, need embedContainer to exist but want it hidden until iFrame has content...*/}\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\n              <AppBar position=\"static\" elevation={0}>\n                <Tabs\n                  className={classes.tabs}\n                  value={value}\n                  onChange={handleChange}\n                  aria-label=\"simple tabs example\"\n                // TabIndicatorProps={{ style: { border: \"white\" } }}\n                >\n                  {tabContent.map((item, index) => (\n                    <Tab\n                      key={`${validIdHelper(demoComponentType + '-tab-' + index)}`}\n                      className={index === 1 ? classes.mlAuto : \"\"}\n                      label={\n                        <div style={{ display: 'flex', alignItems: 'center' }}>\n                          {index === 1 ?\n                            lookerUser.user_attributes.permission_level != 'premium' ?\n                              <Lock className={classes.mr12} />\n                              :\n                              <Add className={classes.mr12} /> : \"\"\n                          }\n                          <span >\n                            {item.label}</span>\n                        </div>\n                      }\n                    >\n                    </Tab>\n                  ))}\n                </Tabs>\n              </AppBar>\n              <Box className=\"tabPanelContainer\">\n                <Grid container\n                  spacing={3}\n                  className={`${classes.noContainerScroll}`}>\n\n                  <CodeFlyout {...props}\n                    classes={classes}\n                    lookerUser={lookerUser}\n                    height={height - expansionPanelHeight - additionalHeightForFlyout}\n                  />\n                  {tabContent.map((tabContentItem, tabContentItemIndex) => (\n                    <TabPanel\n                      key={`${validIdHelper(demoComponentType + '-tabPanel-' + tabContentItemIndex)}`}\n                      value={value}\n                      index={tabContentItemIndex}\n                      style={{ width: '100%' }} //weird\n                    >\n                      <Grid container>\n                        {\n                          tabContentItemIndex === 0\n                            ?\n                            <React.Fragment\n                              key={`${validIdHelper(demoComponentType + '-outerFragment-' + tabContentItemIndex)}`}>\n                              <Grid item sm={4} >\n                                <ApiHighlight height={500} classes={classes}>\n                                  <TreeSideBar {...{\n                                    setPaywallModal,\n                                    classes,\n                                    demoComponentType,\n                                    tabContent,\n                                    tabContentItemIndex,\n                                    action,\n                                    apiContent,\n                                    ...props\n                                  }}\n                                  />\n                                </ApiHighlight>\n                              </Grid>\n                              <Grid item sm={8} >\n                                <EmbedHighlight classes={classes}>\n                                  <div\n                                    className={`embedContainer ${validIdHelper(demoComponentType)}`}\n                                    id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                    key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                  >\n                                  </div>\n                                </EmbedHighlight>\n                              </Grid>\n                            </React.Fragment>\n                            :\n                            <Grid item sm={12} >\n                              <EmbedHighlight classes={classes}>\n                                <div\n                                  className=\"embedContainer\"\n                                  id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                  key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                >\n                                </div>\n                              </EmbedHighlight>\n                            </Grid>\n                        }\n                      </Grid>\n                    </TabPanel>\n                  ))}</Grid>\n              </Box>\n            </Box >\n          </div>\n        </Grid >\n      </Card>\n    </div >\n  )\n}","import ReportBuilder from '../../components/Demo/ReportBuilder/ReportBuilder'\nimport LibraryBooksOutlinedIcon from '@material-ui/icons/LibraryBooksOutlined';\n\n\nexport const ReportBuilderContent = {\n  \"type\": \"report builder\",\n  \"label\": \"Saved Reports\",\n  \"menuCategory\": \"operations\",\n  \"description\": \"Give users the ability to explore existing reports as well as create new ones all from within your application\",\n  \"icon\": LibraryBooksOutlinedIcon,\n  \"component\": ReportBuilder,\n  \"lookerContent\": [\n    {\n      \"type\": \"folder\",\n      \"id\": \"14\",\n      \"label\": \"Saved Reports\"\n    },\n    {\n      \"type\": \"explore\",\n      \"id\": \"atom_fashion::order_items\",\n      \"label\": \"Create New Report\"\n    }\n  ],\n  \"requiredPermissionLevel\": 1\n}","import React, { useState, useEffect } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Card from '@material-ui/core/Card';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nconst { validIdHelper, prettifyString } = require('../../tools');\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 800,\n    maxHeight: 450,\n    overflow: 'scroll',\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  table: {\n    maxHeight: 310\n  },\n  card: {\n    minWidth: 275,\n    minHeight: '10rem',\n    boxShadow: 'none'\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n}));\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\nfunction getModalStyle() {\n  const top = 10 //+ rand();\n  const left = 50 //+ rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${left}%, -${top}%)`,\n  };\n}\n\nexport default function ModalTable(props) {\n  // console.log('ModalTable')\n  // console.log('props', props)\n\n  const classes = useStyles();\n  const { open, onClose, modalContent } = props;\n  const [modalStyle] = React.useState(getModalStyle);\n\n\n  return (\n    <Modal\n      open={open}\n      onClose={onClose}\n      aria-labelledby=\"simple-modal-title\"\n      aria-describedby=\"simple-modal-description\"\n    >\n\n      <div style={modalStyle} className={classes.paper}>\n        <h2 id=\"simple-modal-title\">{modalContent.title}</h2>\n        {modalContent.body ?\n          <TableContainer component={Paper} className={classes.table}>\n            <Table stickyHeader className={classes.table} size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  {Object.keys(modalContent.body[0]).map((key, index) => (\n                    <TableCell align=\"right\"\n                      key={validIdHelper(key + '-TableHead-TableCell-' + index)}\n                      id={validIdHelper(key + '-TableHead-TableCell-' + index)}>\n                      {prettifyString(key.substring(key.lastIndexOf('.') + 1, key.length))}</TableCell>\n\n\n                  ))}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {modalContent.body.map((item, index) => (\n\n                  <TableRow\n                    key={validIdHelper('TableRow-' + index)}\n                    id={validIdHelper('TableRow-' + index)} >\n                    {\n                      Object.keys(item).map(key => (\n                        <TableCell align=\"right\"\n                          key={validIdHelper(key + '-TableBody-TableCell-' + index)}\n                          id={validIdHelper(key + '-TableBody-TableCell-' + index)}>\n                          {\n                            modalContent.body[index][key] ?\n                              modalContent.body[index][key].rendered ?\n                                modalContent.body[index][key].rendered :\n                                modalContent.body[index][key].value ?\n                                  modalContent.body[index][key].value :\n                                  typeof modalContent.body[index][key] === 'number' ?\n                                    (Math.round(modalContent.body[index][key] * 100) / 100)//.toLocaleString()\n                                    :\n                                    modalContent.body[index][key] //.toLocaleString() \n                              :\n                              ''\n                          }\n                        </TableCell>\n                      ))\n                    }\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer >\n          :\n\n          <Card className={`${classes.card} ${classes.flexCentered}`}>\n            <CircularProgress className={classes.circularProgress} />\n          </Card>}\n\n      </div >\n    </Modal >\n  )\n}","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Typography, Box, Grid, Card, Accordion, AccordionSummary, AccordionDetails, Divider, InputLabel, MenuItem, FormControl, Select } from '@material-ui/core'\nimport { ExpandMore, FilterList } from '@material-ui/icons';\nimport ModalTable from '../../Material/ModalTable';\nimport { ResponsiveCalendar } from '@nivo/calendar'\nimport { format, addDays } from 'date-fns';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport AppContext from '../../../contexts/AppContext';\nimport { Loader, ApiHighlight, CodeFlyout } from \"@pbl-demo/components/Accessories\";\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from '../styles.js';\nconst { validIdHelper } = require('../../../tools');\n\nexport default function SalesCalendar(props) {\n  // console.log('SalesCalendar')\n  const { clientSession, setPaywallModal, show, codeShow, sdk, corsApiCall, isReady } = useContext(AppContext)\n  const { userProfile, lookerUser, lookerHost } = clientSession\n  const [value, setValue] = useState(0);\n  const [fromDate, setFromDate] = useState('');\n  const [toDate, setToDate] = useState('');\n  const [category, setCategory] = useState('All')\n  const [desiredField, setDesiredField] = useState('')\n  const [apiContent, setApiContent] = useState(undefined);\n  const [open, setOpen] = React.useState(false);\n  const [modalContent, setModalContent] = useState({});\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\n\n  const classes = useStyles();\n  const { staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange } = props;\n\n  //handle opening of modal for advanced and premium users\n  const handleModalOpen = async ({ day }) => {\n    let originalInlineQueryCopy = JSON.parse(JSON.stringify(lookerContent[0].inlineQuery));\n    originalInlineQueryCopy.filters = {\n      ...originalInlineQueryCopy.filters,\n      [originalInlineQueryCopy.fields[0]]: day,\n      [originalInlineQueryCopy.fields[1]]: category === \"All\" ? '' : category\n    }\n    originalInlineQueryCopy.total = true;\n    originalInlineQueryCopy.limit = \"25\";\n\n    setOpen(true);\n    let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: lookerContent.result_format || 'json', body: originalInlineQueryCopy }));\n    let modalObj = {\n      \"title\": `Detail View for ${day}`,\n      \"body\": lookerResponseData\n    }\n    setModalContent(modalObj);\n  };\n\n  const handleModalClose = () => {\n    setModalContent({})\n    setOpen(false);\n  };\n\n  const handleFromDate = newValue => {\n    let validDate = Date.parse(newValue);\n    if (validDate > 0) {\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\n      setFromDate(newValueAsDate);\n    }\n  }\n  const handleToDate = newValue => {\n    let validDate = Date.parse(newValue);\n    if (validDate > 0) {\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\n      setToDate(newValueAsDate);\n    }\n  }\n\n  const handleCategory = newValue => {\n    setCategory(newValue)\n  }\n\n  const handleDesiredField = newValue => {\n    setDesiredField(newValue)\n  }\n\n  let filterData = [];\n  if (apiContent) {\n    //filtering for fromDate, toDate and category\n    filterData = _.filter(apiContent, (row) => {\n      return (row[apiContent.inlineQuery.fields[0]] >= fromDate\n        && row[apiContent.inlineQuery.fields[0]] < toDate\n        && (category === 'All' ? true : row[apiContent.inlineQuery.fields[1]] === category)\n      )\n    })\n    //converting filterDAta to desired format for vis\n    filterData = filterData.map(item => {\n      return {\n        'day': item[apiContent.inlineQuery.fields[0]],\n        'category': item[apiContent.inlineQuery.fields[1]],\n        'value': item[desiredField]\n      }\n    })\n\n    //special exception for category all\n    //need to reduce array by day across categories\n    //destructuing in reduce of value would not work for dynamic var\n    if (category === 'All') {\n      //create array of all unique dates\n      const uniqueDates = [...new Set(filterData.map(item => item.day))];\n      let filteredAndReducedForAll = []\n      //iterate over unique date\n      uniqueDates.map(uniqueDate => {\n        //filter filterData for current unique date\n        let value = _.filter(filterData, row => {\n          return row.day === uniqueDate\n        }).reduce((acc, { value }) => acc + value, 0)\n        let thisObj = {\n          day: uniqueDate,\n          value: value,\n          category: 'All'\n        }\n        filteredAndReducedForAll.push(thisObj)\n\n      })\n      filterData = filteredAndReducedForAll;\n    }\n  }\n\n  useEffect(() => {\n    if (isReady) {\n      corsApiCall(performLookerApiCalls, [lookerContent])\n      setDesiredField(lookerContent[0].desiredFields[0])\n    }\n  }, [lookerUser, isReady])\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n    setExpansionPanelHeight($('.MuiExpansionPanel-root:visible').innerHeight() || 0)\n\n  })\n\n  const performLookerApiCalls = function (lookerContent) {\n    // console.log('performLookerApiCalls')\n    setApiContent(undefined); //set to empty array to show progress bar and skeleton\n    lookerContent.map(async lookerContent => {\n      let { inlineQuery } = lookerContent;\n      inlineQuery.filters = {\n        [lookerContent.desiredFilterName]: lookerUser.user_attributes.brand\n      };\n      let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: lookerContent.result_format || 'json', body: inlineQuery }));\n\n      // console.log('lookerResponseData', lookerResponseData)\n      lookerResponseData = lookerResponseData.filter(item => {\n        return item[inlineQuery.fields[0]]\n      })\n      let uniqueCategories = ['All'];\n      for (let i = 0; i < lookerResponseData.length; i++) {\n        if (uniqueCategories.indexOf(lookerResponseData[i][inlineQuery.fields[1]]) === -1) {\n          uniqueCategories.push(lookerResponseData[i][inlineQuery.fields[1]])\n        }\n      }\n      lookerResponseData.inlineQuery = inlineQuery;\n      lookerResponseData.uniqueCategories = uniqueCategories;\n      setFromDate(lookerResponseData[lookerResponseData.length - 1][lookerResponseData.inlineQuery.fields[0]]);\n      setToDate(incrementDate(lookerResponseData[0][lookerResponseData.inlineQuery.fields[0]], 1));\n      setApiContent(lookerResponseData)\n    })\n  }\n\n  let nivoColorScale = ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560']\n  let googleColorScale = ['#4595EC', '#F3A759', '#E24E3A', '#65AB5A'];\n\n  return (\n\n    <div className={`${classes.root} ${classes.positionRelative}`}\n      style={{ height }}\n    >\n      <Card elevation={1} className={`${classes.padding15} ${classes.height100Percent} ${classes.overflowScroll}`}>\n        <Grid container\n          key={validIdHelper(type)} >\n          <div className={`${classes.root} `}>\n            <Loader\n              hide={apiContent && apiContent.length}\n              classes={classes}\n              height={height - expansionPanelHeight}\n            />\n\n            <FilterBar {...props}\n              classes={classes}\n              apiContent={apiContent}\n              fromDate={fromDate}\n              toDate={toDate}\n              category={category}\n              desiredField={desiredField}\n              handleFromDate={handleFromDate}\n              handleToDate={handleToDate}\n              handleCategory={handleCategory}\n              handleDesiredField={handleDesiredField}\n            />\n\n\n            {apiContent && apiContent.length ?\n              <Box>\n                <Grid container\n                  spacing={3}\n                  className={`${classes.noContainerScroll}`}>\n\n                  <CodeFlyout {...props}\n                    classes={classes}\n                    lookerUser={lookerUser}\n                    height={height - expansionPanelHeight - additionalHeightForFlyout}\n                  />\n\n                  <Divider className={classes.divider} />\n                  <Grid item sm={12} >\n\n                    <Box className={`${classes.w100} ${classes.padding10}`} mt={2}>\n\n                      <ApiHighlight height={400} classes={classes}>\n                        <ResponsiveCalendar\n                          data={filterData}\n                          align=\"top\"\n                          from={incrementDate(fromDate, 1)}\n                          to={incrementDate(toDate, 1)}\n                          emptyColor=\"#eeeeee\"\n                          colors={desiredField === lookerContent[0].desiredFields[0] ? googleColorScale : nivoColorScale}\n                          yearSpacing={40}\n                          monthBorderColor=\"#ffffff\"\n                          dayBorderWidth={2}\n                          dayBorderColor=\"#ffffff\"\n                          margin={{ bottom: 40, left: 40 }}\n                          legends={[\n                            {\n                              anchor: 'bottom-right',\n                              direction: 'row',\n                              translateY: 36,\n                              itemCount: 4,\n                              itemWidth: 42,\n                              itemHeight: 36,\n                              itemsSpacing: 14,\n                              itemDirection: 'right-to-left'\n                            }\n                          ]}\n                          onClick={(day, event) => {\n                            if (!day.value) {\n                            } else if (lookerUser.user_attributes.permission_level === 'basic') {\n                              setPaywallModal({\n                                'show': true,\n                                'permissionNeeded': 'see_drill_overlay'\n                              });\n                            } else {\n                              corsApiCall(handleModalOpen, [day])\n                              event.stopPropagation();\n                            }\n                          }}\n                        />\n                      </ApiHighlight>\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Box> :\n              ''\n            }\n          </div>\n        </Grid >\n        {\n          open ?\n            <ModalTable\n              {...props}\n              open={open}\n              onClose={handleModalClose}\n              classes={classes}\n              modalContent={modalContent}\n            />\n\n            : ''\n        }\n      </Card>\n    </div >\n  )\n}\n//Filter Bar code\nfunction FilterBar(props) {\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, classes,\n    apiContent, fromDate, toDate, category, desiredField, handleFromDate, handleToDate, handleCategory, handleDesiredField } = props;\n\n  const [expanded, setExpanded] = useState(true);\n\n  const handleExpansionPanel = (event, newValue) => {\n    setExpanded(expanded ? false : true);\n  };\n\n  // console.log('FilterBar')\n  // console.log('fromDate', fromDate)\n  // console.log('toDate', toDate)\n\n  return (\n    <Accordion expanded={expanded} onChange={handleExpansionPanel} className={classes.w100} elevation={0}>\n      <AccordionSummary\n        expandIcon={<ExpandMore />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <FilterList /><Typography className={`${classes.heading} ${classes.ml12}`}>Filter:</Typography>\n\n      </AccordionSummary>\n      <AccordionDetails>\n        <Grid container spacing={3}>\n          {apiContent ?\n            <>\n              <Grid item sm={3}>\n\n                <ApiHighlight classes={classes}>\n                  <FormControl className={classes.formControl}>\n                    <InputLabel\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\n                    >\n                      Metric</InputLabel>\n                    <Select\n                      labelId={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-Select')}`}\n                      value={desiredField}\n                      onChange={(event) => handleDesiredField(event.target.value)}\n                    >\n                      {lookerContent[0].desiredFields.map((item, index) => (\n\n                        <MenuItem\n                          id={validIdHelper(`${item}-${index}`)}\n                          key={validIdHelper(`${item}-${index}`)}\n                          value={item}\n                        >{item.substring(item.lastIndexOf(\".\") + 1, item.length).split(\"_\").map(item => item.charAt(0).toUpperCase() + item.substring(1)).join(\" \")}</MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </ApiHighlight>\n              </Grid>\n              <Grid item sm={3}>\n                <ApiHighlight classes={classes}>\n                  <FormControl className={classes.formControl}>\n                    <InputLabel\n                      id={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\n                    >\n                      Category</InputLabel>\n                    <Select\n                      labelId={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\n                      id={`${validIdHelper(type + '-FilterBar-Category-Select')}`}\n                      value={category}\n                      onChange={(event) => handleCategory(event.target.value)}\n                    >\n                      {apiContent.uniqueCategories.map((item, index) => (\n\n                        <MenuItem\n                          id={validIdHelper(`${item}-${index}`)}\n                          key={validIdHelper(`${item}-${index}`)}\n                          value={item}>{item}</MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </ApiHighlight>\n              </Grid>\n\n              <Grid item sm={3}>\n\n                <ApiHighlight classes={classes}>\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <KeyboardDatePicker\n                      disableToolbar\n                      variant=\"inline\"\n                      format=\"MM/dd/yyyy\"\n                      margin=\"normal\"\n                      id=\"fromDate\"\n                      label=\"From date\"\n                      value={fromDate}\n                      onChange={handleFromDate}\n                      KeyboardButtonProps={{\n                        'aria-label': 'change date',\n                      }}\n                      minDate={apiContent[apiContent.length - 1][apiContent.inlineQuery.fields[0]]}\n                      maxDate={apiContent[0][apiContent.inlineQuery.fields[0]]}\n                    />\n                  </MuiPickersUtilsProvider>\n                </ApiHighlight>\n              </Grid>\n              <Grid item sm={3}>\n                <ApiHighlight classes={classes}>\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <KeyboardDatePicker\n                      disableToolbar\n                      variant=\"inline\"\n                      format=\"MM/dd/yyyy\"\n                      margin=\"normal\"\n                      id=\"toDate\"\n                      label=\"To date\"\n                      value={toDate}\n                      onChange={handleToDate}\n                      KeyboardButtonProps={{\n                        'aria-label': 'change date',\n                      }}\n                      minDate={fromDate}\n                      maxDate={toDate}\n                    />\n                  </MuiPickersUtilsProvider>\n                </ApiHighlight>\n              </Grid>\n            </>\n            : ''}\n        </Grid>\n      </AccordionDetails>\n    </Accordion >\n  )\n}\n\nfunction incrementDate(dateInput, increment) {\n  var dateFormatTotime = new Date(dateInput);\n  var increasedDate = new Date(dateFormatTotime.getTime() + (increment * 86400000));\n  return increasedDate.toISOString().split('T')[0];\n}","import SalesCalendar from '../../components/Demo/SalesCalendar/SalesCalendar'\nimport DateRangeOutlinedIcon from '@material-ui/icons/DateRangeOutlined';\n\n\nexport const SalesCalendarContent = {\n  \"type\": \"custom vis\",\n  \"label\": \"Sales Calendar\",\n  \"menuCategory\": \"sales\",\n  \"description\": \"Ayeeeeeee\",\n  \"icon\": DateRangeOutlinedIcon,\n  \"component\": SalesCalendar,\n  \"lookerContent\": [\n    {\n      \"type\": \"custom vis\",\n      \"lookerMethod\": \"runInlineQuery\",\n      \"label\": \"Sales Calendar\",\n      \"inlineQuery\": {\n        \"model\": \"atom_fashion\",\n        \"view\": \"order_items\",\n        \"fields\": [\n          \"order_items.created_date\",\n          \"products.category\",\n          \"order_items.order_count\",\n          \"order_items.total_sale_price\"\n        ],\n        \"query_timezone\": \"America/Los_Angeles\",\n        \"limit\": \"-1\"\n      },\n      \"desiredFilterName\": \"products.brand\",\n      \"desiredFields\": [\n        \"order_items.order_count\",\n        \"order_items.total_sale_price\"\n      ],\n      \"resultFormat\": \"json\"\n    }\n  ],\n  \"requiredPermissionLevel\": 0\n}","import VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined';\nimport { Dashboard } from '@pbl-demo/components';\n\nconst productCategoryFilter = {\n  \"label\": \"Select Product Category\",\n  \"filterName\": \"Category\",\n  \"lookerMethod\": \"runInlineQuery\",\n  \"inlineQuery\": {\n    \"model\": \"atom_fashion\",\n    \"view\": \"order_items\",\n    \"fields\": [\n      \"this_period\",\n      \"last_period\",\n      \"products.category\"\n    ],\n    \"filters\": {\n      \"order_items.created_date\": \"60 days ago for 60 days\",\n      \"order_items.count\": \">5\"\n    },\n    \"sorts\": [\n      \"products.category\"\n    ],\n    \"limit\": 500,\n    \"dynamic_fields\": \"[{\\\"table_calculation\\\":\\\"trend\\\",\\\"label\\\":\\\"trend\\\",\\\"expression\\\":\\\"${this_period} / ${last_period} - 1\\\",\\\"value_format\\\":null,\\\"value_format_name\\\":null,\\\"_kind_hint\\\":\\\"measure\\\",\\\"_type_hint\\\":\\\"number\\\"},{\\\"measure\\\":\\\"this_period\\\",\\\"based_on\\\":\\\"order_items.total_sale_price\\\",\\\"type\\\":\\\"count_distinct\\\",\\\"label\\\":\\\"This Period\\\",\\\"value_format\\\":null,\\\"value_format_name\\\":null,\\\"_kind_hint\\\":\\\"measure\\\",\\\"_type_hint\\\":\\\"number\\\",\\\"filter_expression\\\":\\\"matches_filter(${order_items.created_date},`30 days ago for 30 days`)\\\"},{\\\"measure\\\":\\\"last_period\\\",\\\"based_on\\\":\\\"order_items.total_gross_margin\\\",\\\"label\\\":\\\"Last Period\\\",\\\"value_format\\\":null,\\\"value_format_name\\\":null,\\\"_kind_hint\\\":\\\"measure\\\",\\\"_type_hint\\\":\\\"number\\\",\\\"filter_expression\\\":\\\"matches_filter(${order_items.created_date},`60 days ago for 30 days`)\\\"}]\",\n    \"theme\": \"atom_fashion\"\n  },\n  \"desiredFilterNames\": \"products.brand\",\n  \"component\": \"autocomplete\",\n  \"resultFormat\": \"json\"\n}\n\nconst regionFilter = {\n  \"label\": \"Select Region\",\n  \"filterName\": \"State Region\",\n  \"lookerMethod\": \"runInlineQuery\",\n  \"inlineQuery\":\n  {\n    \"model\": \"atom_fashion\",\n    \"view\": \"order_items\",\n    \"fields\": [\n      \"users.state_region\"\n    ],\n    \"limit\": \"500\"\n  },\n  \"desiredFilterNames\": \"users.state_region\",\n  \"component\": \"mapfilter\",\n  \"resultFormat\": \"json\"\n}\n\nconst ageFilter = {\n  \"label\": \"Select Age Range\",\n  \"filterName\": \"Age\",\n  \"lookerMethod\": \"runInlineQuery\",\n  \"inlineQuery\": {\n    \"model\": \"atom_fashion\",\n    \"view\": \"order_items\",\n    \"fields\": [\n      \"users.age\"\n    ],\n    \"limit\": \"500\"\n  },\n  \"desiredFilterNames\": \"users.age\",\n  \"component\": \"rangeslider\",\n  \"resultFormat\": \"json\"\n}\n\nconst revenueTierFilter = {\n  \"label\": \"Lifetime Revenue Tier\",\n  \"filterName\": \"Lifetime Revenue Tier\",\n  \"lookerMethod\": \"runInlineQuery\",\n  \"inlineQuery\": {\n    \"model\": \"atom_fashion\",\n    \"view\": \"order_items\",\n    \"fields\": [\n      \"user_order_facts.lifetime_revenue_tier\"\n    ],\n    \"limit\": \"500\"\n  },\n  \"desiredFilterNames\": \"users.lifetime_revenue_tier\",\n  \"component\": \"togglebuttonapi\",\n  \"resultFormat\": \"json\"\n}\n\nexport const SalesOverviewContent = {\n  \"type\": \"custom filter\",\n  \"label\": \"Sales Overview\",\n  \"menuCategory\": \"sales\",\n  \"description\": \"Overview of all your sales!\",\n  \"icon\": VisibilityOutlinedIcon,\n  \"component\": Dashboard,\n  \"lookerContent\": [\n    {\n      \"type\": \"dashboard\",\n      \"lookerMethod\": \"embedDashboard\",\n      \"id\": \"5\",\n      \"label\": \"Sales Overview\",\n      \"isNext\": true,\n      \"filters\": [productCategoryFilter, regionFilter, ageFilter, revenueTierFilter]\n    }],\n  \"requiredPermissionLevel\": 0\n}","import ShowChartIcon from '@material-ui/icons/ShowChart';\nimport { Dashboard } from '@pbl-demo/components';\n\nexport const WebAnalyticsContent = {\n  \"type\": \"simple dashboard\",\n  \"label\": \"Web Analytics\",\n  \"menuCategory\": \"marketing\",\n  \"icon\": ShowChartIcon,\n  \"description\": \"Overview of all your web traffic\",\n  \"component\": Dashboard,\n  \"lookerContent\": [\n    {\n      \"type\": \"dashboard\",\n      \"lookerMethod\": \"embedDashboard\",\n      \"id\": \"9\",\n      \"label\": \"Web Analytics\",\n      \"isNext\": false,\n      \"theme\": \"atom_fashion_filters\"\n    }\n  ],\n  \"requiredPermissionLevel\": 0\n}","import _ from 'lodash'\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { useParams, useHistory } from \"react-router-dom\";\nimport AppContext from '../../contexts/AppContext';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport { CssBaseline } from '@material-ui/core/';\nimport clsx from 'clsx';\nimport '../Home.css';\nimport { useStyles } from './styles.js';\nimport * as DemoComponentsContentArr from '../../config/Demo';\nimport { TopBarContent } from '../../config/TopBarContent';\nimport { checkToken, endSession } from '@pbl-demo/utils/auth';\nimport { permissionLevels, userTimeHorizonMap, modalPermissionsMap } from '../../config';\nimport { UserPermissionsModal } from \"@pbl-demo/components/Accessories\";\nimport { TopBar, BottomBar, LeftDrawer, TopDrawer } from \"@pbl-demo/components\";\nimport { errorHandler } from '@pbl-demo/utils'\n\nconst { validIdHelper } = require('../../tools');\n\n\nexport default function Home(props) {\n  // console.log(\"Home\")\n  let { setClientSession, clientSession, clientSession: { packageName }, sdk, setSdk, isReady, setIsReady, theme } = useContext(AppContext)\n  let { democomponent } = useParams();\n  let history = useHistory();\n  const classes = useStyles();\n  const didMountRef = useRef(false)\n\n  const [drawerOpen, setDrawerOpen] = useState(window.innerWidth > 768 ? true : false);\n\n  const [highlightShow, setHighlightShow] = useState(false);\n  const [codeShow, setCodeShow] = useState(false);\n  const [payWallModal, setPaywallModal] = useState({});\n  const [selectedMenuItem, setSelectedMenuItem] = useState(democomponent);\n\n  const { lookerUser: { user_attributes: { permission_level } } = { user_attributes: 'No match' } } = clientSession;\n  const currentPermissionLevel = Object.keys(permissionLevels).indexOf(permission_level);\n  const demoComponentsContentArr = _.filter(DemoComponentsContentArr, demoComponent => demoComponent.requiredPermissionLevel <= currentPermissionLevel);\n  let topBarContent = { ...TopBarContent };\n  if (topBarContent.autocomplete && currentPermissionLevel < topBarContent.autocomplete.correspondingComponentContent.requiredPermissionLevel) {\n    delete topBarContent.autocomplete\n  }\n\n  const handleSwitchLookerUser = async (newValue, property) => {\n\n    let newLookerUser = { ...clientSession.lookerUser }\n    if (property === 'brand') {\n      newLookerUser.user_attributes.brand = newValue\n    } else if (property === 'permission') {\n      newLookerUser.permissions = permissionLevels[newValue]\n      newLookerUser.user_attributes.permission_level = newValue\n      newLookerUser.user_attributes.time_horizon = userTimeHorizonMap[newValue]\n    }\n\n    const lookerUserResponse = await fetch('/updatelookeruser', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newLookerUser)\n    })\n\n    let lookerUserResponseData = await lookerUserResponse.json();\n    setClientSession(lookerUserResponseData.session);\n  }\n\n\n  const corsApiCall = async (func, args = []) => {\n    // console.log(\"corsApiCall\");\n    //decorator approach??\n    try {\n      let checkTokenRsp = await checkToken(clientSession.lookerApiToken.expires_in || Date.now() - 1000);\n\n      //new method of signing user out\n      if (checkTokenRsp.status === 'expired') {\n        setIsReady(false);\n        endSession();\n        setClientSession({});\n        setSdk();\n        history.push(\"/\");\n      } else {\n        let res = func(...args)\n        return res\n      }\n    } catch (err) {\n      errorHandler.report(err)\n      // endSession();\n      // setClientSession({})\n      // history.push(\"/\");\n    }\n  }\n\n  useEffect(() => {\n\n    let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n    LookerEmbedSDK.init(modifiedBaseUrl, '/auth')\n\n    //listen to resize event\n    window.addEventListener(\"resize\", () => {\n      setDrawerOpen(window.innerWidth > 768 ? true : false)\n    });\n\n  }, []) //onload\n\n  useEffect(() => {\n    if (didMountRef.current) {\n      // doStuff()\n    } else didMountRef.current = true\n  })\n\n\n  useEffect(() => {\n    if (highlightShow) setHighlightShow(!highlightShow);\n    if (codeShow) setCodeShow(!codeShow);\n    setSelectedMenuItem(democomponent)\n  }, [democomponent])\n\n  let ActiveDemoComponent;\n  const ActiveDemoComponentContent = _.find(demoComponentsContentArr, (o) => {\n    return selectedMenuItem === validIdHelper(_.lowerCase(o.label))\n  });\n  if (!ActiveDemoComponentContent) history.push(validIdHelper(_.lowerCase(demoComponentsContentArr[0].label)))\n  else ActiveDemoComponent = ActiveDemoComponentContent.component;\n\n\n  return (\n    <div className={classes.root} >\n\n      <AppContext.Provider value={{\n        clientSession, setClientSession,\n        payWallModal, setPaywallModal,\n        handleSwitchLookerUser,\n        drawerOpen, setDrawerOpen,\n        selectedMenuItem,\n        highlightShow, setHighlightShow,\n        codeShow, setCodeShow,\n        setSdk, sdk,\n        corsApiCall,\n        theme,\n        isReady, setIsReady,\n      }}>\n        <CssBaseline />\n        <TopBar\n          content={topBarContent}\n          theme={theme}\n          classes={classes}\n        />\n        <UserPermissionsModal content={{ permissionLevels, modalPermissionsMap }} classes={classes} />\n\n        {/* conditional rendering for now */}\n        {packageName === \"vision\" ?\n          <TopDrawer DemoComponentsContentArr={demoComponentsContentArr} classes={classes} /> :\n          <LeftDrawer DemoComponentsContentArr={demoComponentsContentArr} classes={classes} />}\n        <main\n          className={packageName === \"vision\" ? clsx(classes.topContent, {\n            [classes.topContentShift]: drawerOpen,\n          }) : clsx(classes.leftContent, {\n            [classes.leftContentShift]: drawerOpen,\n          })}\n        >\n\n          <div className={classes.drawerHeader} />\n          {ActiveDemoComponent ? <ActiveDemoComponent staticContent={ActiveDemoComponentContent} /> : ''}\n        </main>\n\n        <BottomBar classes={classes} />\n      </AppContext.Provider>\n    </div>\n  )\n}","import _ from 'lodash'\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport AppContext from './contexts/AppContext';\nimport { checkForExistingSession, createSdkHelper, endSession } from '@pbl-demo/utils/auth';\nimport Home from './components/Home/Home';\nimport * as DemoComponentsContentArr from './config/Demo';\nimport { validIdHelper } from './tools';\nimport { SignIn } from '@pbl-demo/components';\nimport { SignInContent, initialUser } from './config';\nimport { packageNameTheme } from './config/theme.js';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { errorHandler } from '@pbl-demo/utils'\n\nfunction App(props) {\n\n  const [clientSession, setClientSession] = useState({});\n  const [sdk, setSdk] = useState();\n  const [initialHref, setInitialHref] = useState();\n  const [isReady, setIsReady] = useState(false);\n\n  //onload\n  useEffect(() => {\n    async function fetchSession() {\n      console.log(\"fetchSession\")\n      const { session, session: { userProfile, lookerBaseUrl, lookerApiToken } } = await checkForExistingSession();\n      console.log({ session })\n      console.log({ userProfile })\n      console.log({ lookerBaseUrl })\n      console.log({ lookerApiToken })\n      //existing session only, i.e. < 60 minutes\n      if (userProfile && lookerBaseUrl && lookerApiToken) {\n        console.log(\"inside this ifff\")\n        const { status, sdk, err } = createSdkHelper({ accessToken: lookerApiToken.api_user_token, lookerBaseUrl })\n        console.log({ status })\n        console.log({ sdk })\n        console.log({ err })\n        if (status === \"success\") {\n          setClientSession(session)\n          //revalidate sdk\n          setSdk(sdk)\n          //add error handling for prod\n          if (typeof errorHandler.setUser === 'function') {\n            errorHandler.setUser(JSON.stringify(session.lookerUser))\n          }\n        } else if (status === \"error\") {\n          setIsReady(false);\n          endSession();\n          setClientSession({})\n          errorHandler.report(err)\n        }\n      } else console.log('else')\n    }\n    fetchSession(); //make async call\n  }, [])\n\n  useEffect(() => {\n    console.log(\"useEffect clientSession, sdk\")\n    if (clientSession && sdk) { setIsReady(true) }\n    else if (clientSession.userProfile) { //from signIn / write newSession\n      const lookerBaseUrl = clientSession.lookerBaseUrl ? clientSession.lookerBaseUrl : '';\n      const accessToken = clientSession.lookerApiToken ? clientSession.lookerApiToken.api_user_token : '';\n      const { status, sdk, err } = createSdkHelper({ accessToken, lookerBaseUrl })\n\n      console.log({ status })\n      console.log({ sdk })\n      console.log({ err })\n\n      if (status === \"success\") {\n        setSdk(sdk)\n      } else if (status === \"error\") {\n        setIsReady(false);\n        endSession();\n        setClientSession({})\n        errorHandler.report(err)\n      }\n    } else console.log(\"else\")\n  }, [clientSession, sdk])\n\n\n  console.log({ clientSession })\n  console.log({ sdk })\n  console.log(clientSession.lookerApiToken && sdk ? clientSession.lookerApiToken.api_user_token.access_token === sdk.authSession.accessToken.access_token : \"doesn't exist\");\n\n\n  return (\n    < Router >\n      <AppContext.Provider value={{\n        clientSession, setClientSession,\n        sdk, setSdk,\n        initialHref, setInitialHref,\n        isReady, setIsReady,\n        theme: packageNameTheme,\n      }}>\n        <ThemeProvider theme={packageNameTheme}>\n          <Switch>\n            <PrivateRoute\n              path='/analytics/:democomponent?'\n              // exact\n              isSignedIn={clientSession.userProfile ? true : false}\n              component={Home}\n              setInitialHref={setInitialHref}\n              initialHref={initialHref}\n            >\n            </PrivateRoute>\n            <PublicRoute\n              path='/'\n              exact\n              isSignedIn={clientSession.userProfile ? true : false}\n              component={SignIn}\n              initialHref={initialHref}\n              content={SignInContent}\n              initialUser={initialUser}\n            >\n            </PublicRoute>\n            {/* catach all route */}\n            <Route render={() => <Redirect to=\"/\" />} />\n          </Switch>\n        </ThemeProvider>\n      </AppContext.Provider>\n    </Router >\n  )\n}\n\nApp.propTypes = {\n\n}\n\nexport default App\n\nconst PrivateRoute = ({\n  component: Component,\n  isSignedIn,\n  setInitialHref,\n  ...rest }) => {\n\n  if (!isSignedIn) setInitialHref(window.location.href);\n  else setInitialHref()\n\n  return (\n\n    <Route exact\n      {...rest} render={(props) => (\n        (isSignedIn) ?\n          <Component {...props} />\n          : <Redirect\n            to=\"/\"\n          />\n      )} />\n  );\n};\n\n\nconst PublicRoute = ({ component: Component,\n  isSignedIn,\n  // restricted, \n  initialHref,\n  content,\n  initialUser,\n  ...rest }) => {\n\n  const demoComponentMap = {};\n  Object.keys(DemoComponentsContentArr).map(key => {\n    demoComponentMap[validIdHelper(_.lowerCase(DemoComponentsContentArr[key].label))] =\n      validIdHelper(_.startCase(DemoComponentsContentArr[key].type));\n  });\n\n  let urlToUse = '/analytics/home';\n  if (initialHref) {\n    let initialHrefArr = initialHref.split('/');\n    let lastTwoHrefArr = initialHrefArr.slice(-2);\n    let lastOneHrefArr = initialHrefArr.slice(-1);\n\n    if (demoComponentMap.hasOwnProperty(lastOneHrefArr)) urlToUse = lastTwoHrefArr.join('/');\n  }\n\n  return (\n    // restricted = false meaning public route\n    // restricted = true meaning restricted route\n    <Route exact\n      {...rest} render={(props) => (\n        (isSignedIn) ?\n          <Redirect\n            to={urlToUse}\n          />\n          : <Component {...props}\n            content={content}\n            initialUser={initialUser} />\n      )} />\n  );\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nconst AppContext = React.createContext(null);\n\nexport default AppContext;","import AppContextAtom from '../../atom/src/contexts/AppContext';\nimport AppContextVision from '../../vision/src/contexts/AppContext';\n\n\nexport const makeid = (length) => {\n  var result = '';\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\n\nexport const validIdHelper = (str) => {\n  // console.log('validIdHelper')\n  // console.log('str', str)\n  //need to replace special characters that may be associated with id...\n  return str.replace(/[^a-zA-Z0-9-.#]/g, \"\")\n}\n\nexport const prettifyString = (str) => {\n  var i, frags = str.split('_');\n  for (i = 0; i < frags.length; i++) {\n    frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);\n  }\n  return frags.join(' ');\n}\n\nexport const getUrlVars = (url) => {\n  var hash;\n  var myJson = {};\n  var hashes = url.slice(url.indexOf('?') + 1).split('&');\n  for (var i = 0; i < hashes.length; i++) {\n    hash = hashes[i].split('=');\n    myJson[hash[0]] = hash[1];\n    // If you want to get in native datatypes\n    // myJson[hash[0]] = JSON.parse(hash[1]); \n  }\n  return myJson;\n}\nexport const decodeHtml = (html) => {\n  var txt = document.createElement(\"textarea\");\n  txt.innerHTML = html;\n  return txt.value;\n}\n\nexport const appContextMap = {\n  \"atom\": AppContextAtom,\n  \"vision\": AppContextVision,\n}\n\nexport const validateContent = (object, schema) => {\n  var errors = Object.keys(schema).filter(function (key) {\n    return !schema[key](object[key]);\n  }).map(function (key) {\n    return new Error(key + \" is invalid.\");\n  });\n\n  if (errors.length > 0) {\n    errors.forEach(function (error) {\n      console.log(error.message);\n    });\n  } else {\n    // console.log(\"info is valid\");\n  }\n}","import React from 'react';\n\nconst AppContext = React.createContext(null);\n\nexport default AppContext;","// from here: https://github.com/GoogleCloudPlatform/stackdriver-errors-js#usage-as-a-utility\nimport StackdriverErrorReporter from 'stackdriver-errors-js';\n\nexport let errorHandler;\n\nif (window.location.origin !== \"https://embed.demo.com:8080\") {\n  // console.log(\"inside ifff\")\n  errorHandler = new StackdriverErrorReporter();\n  errorHandler.start({\n    key: process.env.REACT_APP_STACKDRIVER_KEY,\n    projectId: process.env.REACT_APP_GCP_PROJECT_ID,\n    service: process.env.REACT_APP_PACKAGE_NAME,\n  });\n} else {\n  // console.log(\"inside else\")\n  errorHandler = { report: console.error };\n}\n\n// console.log({ errorHandler })\n\nexport default errorHandler;","import { AuthToken, AuthSession, BrowserTransport } from \"@looker/sdk\";\n\nexport class PblSession extends AuthSession {\n  fetchToken() {\n    return fetch(\"\");\n  }\n  activeToken = new AuthToken();\n  constructor(settings, transport) {\n    super(settings, transport || new BrowserTransport(settings));\n  }\n  isAuthenticated() {\n    const token = this.activeToken;\n    if (!(token && token.access_token)) return false;\n    return token.isActive();\n  }\n  async getToken() {\n    if (!this.isAuthenticated()) {\n      const token = await this.fetchToken();\n      this.activeToken.setToken(await token.json());\n    }\n    return this.activeToken;\n  }\n  async authenticate(props) {\n    const token = await this.getToken();\n    if (token && token.access_token) {\n      props.mode = \"cors\";\n      delete props.credentials;\n      props.headers = {\n        ...props.headers,\n        Authorization: `Bearer ${this.activeToken.access_token}`\n      };\n    }\n    return props;\n  }\n}\n\nexport class PblSessionEmbed extends PblSession {\n\n  accessToken;\n\n  constructor(options) {\n    super(options);\n    this.accessToken = options.accessToken;\n  }\n\n  fetchToken() {\n    return this.accessToken;\n  }\n\n  async getToken() {\n    if (!this.isAuthenticated()) {\n      this.activeToken.setToken(this.fetchToken());\n    }\n    return this.activeToken;\n  }\n}","import { Looker40SDK, DefaultSettings } from \"@looker/sdk\";\nimport { PblSessionEmbed } from './pblsession';\n\nexport const checkForExistingSession = async () => {\n  // console.log('checkForExistingSession')\n  let sessionResponse = await fetch('/readsession', {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n  const sessionResponseData = await sessionResponse.json();\n  return { session: sessionResponseData.session };\n}\n\nexport const writeNewSession = async (newSession) => {\n  // console.log('writeNewSession')\n  // console.log({ newSession })\n  let newSessionResponse = await fetch('/writesession', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(newSession)\n  })\n  if (newSessionResponse.status === 200) {\n    const newSessionResponseData = await newSessionResponse.json();\n    return { status: newSessionResponse.status, session: newSessionResponseData.session };\n  } else if (newSessionResponse.status === 307) {\n    return { status: newSessionResponse.status };\n  }\n}\n\nexport const endSession = async () => {\n  // console.log('endSession')\n  let endSessionResponse = await fetch('/endsession', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n  const endSessionResponseData = await endSessionResponse.json();\n  return { message: endSessionResponse };\n}\n\nexport const createSdkHelper = ({ accessToken, lookerBaseUrl }) => {\n  // console.log('createSdkHelper')\n  // console.log({ accessToken })\n  // console.log({ lookerBaseUrl })\n  try {\n    const pblsession = new PblSessionEmbed({\n      ...DefaultSettings(),\n      base_url: lookerBaseUrl,\n      accessToken\n    });\n\n    let sdk = new Looker40SDK(pblsession);\n    return { status: \"success\", sdk };\n  } catch (err) {\n    return { status: \"error\", err }\n  }\n\n}\n\nexport const checkToken = async (expires_in) => {\n  // console.log('checkToken');\n  // console.log({ expires_in });\n\n  if ((Date.now()) > expires_in) {\n    return { status: \"expired\" }\n\n  } else {\n    return { status: \"ok\" }\n  }\n}\n\n"],"sourceRoot":""}