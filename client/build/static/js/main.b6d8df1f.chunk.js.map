{"version":3,"sources":["images/atom_splash_blog.jpg","images/atom_splash_inventory.jpg","images/atom_splash_trends.jpg","tools.js","images sync /^/.//.*_logo_white/.svg$","images/atom_logo_white.svg","images sync /^/.//.*/.jpg$","images/atom_background1.jpg","images/atom_background2.jpg","images/atom_background3.jpg","images/atom_background4.jpg","images sync /^/.//.*_logo_black/.svg$","images/atom_logo_black.svg","AppContext.js","components/Material/UserMenu.js","components/Demo/CodeFlyout.js","webpack:///./src/components/Demo/SplashPage/SplashPage.js?046c","components/Demo/SplashPage/styles.js","components/Highlights/Highlight.js","components/Demo/SplashPage/SingleValueVis.js","components/Demo/SplashPage/NaturalLanguage.js","components/Demo/SplashPage/Welcome.js","components/Demo/SplashPage/VectorThumbnail.js","components/Demo/SplashPage/PopularAnalysis.js","components/Demo/SplashPage/EmbeddedDashboard.js","components/Demo/SplashPage/ContentCarousel.js","components/Material/BottomBar.js","components/Demo/SplashPage/SplashPage.js","components/Demo/Dashboard/styles.js","components/Accessories/NumberToColoredPercent.js","components/Demo/Dashboard/Dashboard.js","webpack:///./src/components/Demo/Dashboard/Dashboard.js?b45b","components/Material/ModalTable.js","components/Demo/CustomVis/styles.js","components/Demo/CustomVis/CustomVis.js","webpack:///./src/components/Demo/CustomVis/CustomVis.js?b545","components/Demo/ReportBuilder/styles.js","components/Demo/ReportBuilder/helpers.js","components/Demo/ReportBuilder/ReportBuilder.js","webpack:///./src/components/Demo/ReportBuilder/ReportBuilder.js?9721","components/Demo/QueryBuilder/styles.js","components/Demo/QueryBuilder/helpers.js","components/Demo/QueryBuilder/QueryBuilder.js","webpack:///./src/components/Demo/QueryBuilder/QueryBuilder.js?9efc","components/Demo/MonetizationModal.js","components/Home.js","components/SignIn.js","components/Customizations.js","components/EditCustomization.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","makeid","length","result","characters","charactersLength","i","charAt","Math","floor","random","validIdHelper","str","replace","prettifyString","frags","split","toUpperCase","slice","join","getUrlVars","url","hash","myJson","hashes","indexOf","decodeHtml","html","txt","document","createElement","innerHTML","value","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","AppContext","React","createContext","useStyles","require","makeStyles","theme","zIndex1500","zIndex","mr12","marginRight","UserMenu","props","lookerUser","switchLookerUser","onLogoutSuccess","lookerUserAttributeBrandOptions","switchUserAttributeBrand","classes","useContext","togglePayWallModal","userProfile","codeShow","toggleShow","useState","anchorEl","setAnchorEl","user_attributes","brand","selectedBrand","setSelectedBrand","handleClose","newValue","className","IconButton","aria-label","aria-controls","aria-haspopup","onClick","event","currentTarget","color","Avatar","alt","name","src","imageUrl","Typography","permission_level","substring","Menu","keepMounted","open","Boolean","onClose","MenuItem","autoFocus","Divider","divider","Autocomplete","options","getOptionLabel","option","label","style","width","onChange","target","innerText","renderInput","params","TextField","variant","loadingText","disableautofocus","onKeyDown","stopPropagation","CodeFlyout","toggleCodeShow","lookerContent","clientSideCode","serverSideCode","permissionNeededCode","ClickAwayListener","onClickAway","Fade","in","Grid","container","spacing","padding30","backgroundColor","item","sm","mrAuto","textAlign","cursor","CodeSnippet","language","dracula","showLineNumbers","JSON","stringify","redPrimary","red","greenPrimary","green","redLight","greenLight","root","flexGrow","palette","background","paper","flexCentered","display","justifyContent","alignItems","hidden","visibility","position","tabs","dNone","dBlock","tree","height","maxWidth","icon","fontSize","overflow","mt12","marginTop","w100","mlAuto","marginLeft","skeleton","minWidth","minHeight","card","maxHeight200","maxHeight","mt30","mb30","marginBottom","textCenter","cursorPointer","border","height800","maxHeight100","maxHeight400","minHeight680","minHeight200","redNeg","fontWeight","greenPos","padding","mb12","overflowScroll","overflowHidden","overflowVisible","maxHeight150","minHeight150","carouselLegend","opacity","positionTopRight","top","right","bottom","positionRelative","padding15","maxHeight75","overflowYScroll","overflowY","overflowX","drawerHeader","mixins","toolbar","Highlight","children","margin","show","borderRadius","ApiHighlight","Chip","size","align","left","EmbedHighlight","SingleValueVis","apiContent","setApiContent","dataObjForSparkline","useEffect","setTimeout","runInlineQuery","a","stringifiedQuery","encodeURIComponent","inlineQuery","fetch","resultFormat","method","headers","Accept","lookerResponse","json","lookerResponseData","data","dataArrForDataObj","queryResults","fields","thisDataItem","toString","change","y","push","upOrDownArrow","isNaN","toFixed","parseInt","Card","Fragment","xScale","type","format","precision","yScale","min","max","stacked","reverse","axisLeft","orient","tickSize","tickPadding","tickRotation","axisBottom","enablePoints","enableGridX","enableGridY","colors","visColor","animate","CircularProgress","circularProgress","NaturalLanguage","index","undefined","inlineQueriesMap","Welcome","givenName","inlineQueries","key","VectorThumbnail","handleMenuItemSelect","svg","setSvg","getThumbnail","resourceType","blob","Blob","URL","createObjectURL","PopularAnalysis","vectors","EmbeddedDashboard","lookerHost","iFrameExists","setIFrame","$","LookerEmbedSDK","createDashboardWithId","slug","appendTo","getElementById","withClassName","withTheme","build","connect","then","look","init","catch","error","console","elevation","Box","ContentCarousel","infiniteLoop","autoPlay","showThumbs","BottomBar","AppBar","clsx","appBarBottom","Toolbar","FormControlLabel","control","Switch","checked","Button","startIcon","SplashPage","setClientSideCode","staticContent","handleTabChange","demoComponentType","innerIndex","gridWidth","NumberToColoredPercent","val","positive_good","abs_val","up","down","val_formatted","abs","toLocaleString","minimumFractionDigits","Dashboard","dashboardObj","setDashboardObj","setServerSideCode","toggleValue","setToggleValue","dashboardLayout","setDashboardLayout","regionValue","setRegionValue","activeTabValue","handleToggle","filteredLayout","_","filter","dashboard_layout_components","row","dynamicFieldLookUp","dashboard_element_id","newDashboardLayout","setOptions","performLookerApiCalls","dashboardId","withNext","withParams","on","changeHeight","dashboard","layouts","hasOwnProperty","orderedArrayForApiContent","filters","jsonQuery","desiredFilterName","queryResultsForDropdown","desiredProperty","FilterBar","customFilterAction","filterName","newFilterValue","updateFilters","run","Skeleton","animation","mt","expanded","setExpanded","ExpansionPanel","ExpansionPanelSummary","expandIcon","heading","ExpansionPanelDetails","filterComponents","Array","isArray","renderOption","justify","trend","ToggleButtonGroup","exclusive","region","ToggleButton","boxShadow","shadows","table","getModalStyle","transform","ModalTable","modalContent","modalStyle","Modal","aria-labelledby","aria-describedby","title","body","TableContainer","component","Paper","Table","stickyHeader","TableHead","TableRow","TableCell","lastIndexOf","TableBody","rendered","round","height500","height600","height700","textField","formControl","selectEmpty","CustomVis","fromDate","setFromDate","toDate","setToDate","category","setCategory","desiredField","setDesiredField","setOpen","setModalContent","handleModalOpen","day","originalInlineQueryCopy","parse","total","limit","modalObj","filterData","uniqueDates","Set","filteredAndReducedForAll","uniqueDate","reduce","acc","thisObj","desiredFields","uniqueCategories","incrementDate","handleFromDate","Date","newValueAsDate","addDays","handleToDate","handleCategory","handleDesiredField","from","to","emptyColor","yearSpacing","monthBorderColor","dayBorderWidth","dayBorderColor","legends","anchor","direction","translateY","itemCount","itemWidth","itemHeight","itemsSpacing","itemDirection","FormControl","InputLabel","Select","labelId","utils","DateFnsUtils","disableToolbar","KeyboardButtonProps","minDate","maxDate","dateInput","increment","dateFormatTotime","getTime","toISOString","ml24","parentHoverVisibility","childHoverVisibility","faSm","ml12","TabPanel","other","role","p","ReportBuilder","exploreObj","setExploreObj","setValue","tabContent","handleChange","action","contentType","contentId","secondaryAction","qid","exploreId","newReportEmbedContainer","iFrameArray","classList","contains","remove","add","empty","createExploreWithId","explore","status","animateLoad","looksToUse","sharedFolder","looks","embeddedUserFolder","dashboardsToUse","dashboards","objToUse","lookId","lookIsRendered","createLookWithId","dashboardIsRendered","Tabs","Tab","Icon","a11yProps","tabContentItem","tabContentItemIndex","TreeSideBar","sharedFolderId","treeCounter","selected","setSelected","expandedArr","TreeView","defaultCollapseIcon","defaultExpandIcon","onNodeToggle","nodeIds","onNodeSelect","outerIndex","TreeItem","nodeId","capitalize","disabled","treecounter","contentid","folder_id","labelRoot","client_id","grey","orange","typography","pxToRem","fontWeightRegular","tableContainer","visuallyHidden","clip","bluePrimary","blueSecondary","orangePrimary","orangeSecondary","bottomBarSpacer","maxHeight600","m12","m6","descendingComparator","b","orderBy","QueryBuilder","queryBody","newQuery","apiContentCopy","lookerCreateTaskResposnse","lookerCreateTaskResponseData","taskInterval","setInterval","queryTaskId","lookerCheckTaskResposnse","lookerCheckTaskResponseData","clearInterval","EnhancedTable","rows","gridTitle","measureCounter","dimensionCounter","datalabel","fieldType","fieldsChipData","setFieldsChipData","queryModified","setQueryModified","filterType","filtersData","setFilterData","handleFieldChipClick","chip","updatedFieldsChipData","handleSelectChange","updatedFiltersData","datePermissionMap","advanced","basic","premium","measurecounter","dimensioncounter","newFields","currentFilters","newQueryObj","EnhancedTableHead","order","onSelectAllClick","onRequestSort","numSelected","rowCount","numeric","disablePadding","sortDirection","TableSortLabel","active","property","setOrder","setOrderBy","page","setPage","dense","setDense","rowsPerPage","setRowsPerPage","emptyRows","array","comparator","stabilizedThis","el","sort","stableSort","getComparator","hover","colSpan","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","flexDirection","transition","font75","font875","MonetizationModal","payWallModal","modalListMap","modal","LookerUserPermissions","CardContent","fontStyle","List","ListItem","ListItemIcon","ListItemText","primary","CardActions","disableSpacing","fullWidth","defaultTheme","createMuiTheme","atomTheme","main","secondary","vidlyTheme","blue","Home","setState","toggleHighlightShow","state","highlightShow","fromSplash","selectedMenuItemValue","UsecaseContent","activeUsecase","demoComponents","lookerContentItem","renderedDemoComponentsCopy","renderedDemoComponents","unshift","prevState","selectedMenuItem","drawerOpen","drawerTabValue","appLayout","usecaseFromUrl","window","location","pathname","this","layout","prevProps","prevPermissionLevel","currPermissionLevel","prevUserBrand","currUserBrand","demoComponentMap","themeMap","activeCustomization","applySession","orderedDemoComponentsForMenu","orderedDemoComponentsForMenuObj","expandedTreeItemsArr","cumulativePusher","menuCategory","selectedMenuItemVal","Provider","ThemeProvider","CssBaseline","TopBar","Drawer","drawer","drawerPaper","MenuList","content","contentShift","DemoComponent","hide","Component","withStyles","appBar","transitions","create","easing","sharp","duration","leavingScreen","menuButton","flexShrink","borderRight","easeOut","enteringScreen","relative","absolute","right0","top0","right24","top24","highlightLegend","fontSize1em","padding10","mt5","mb5","list","nested","paddingLeft","roundedTab","paddingBottom30","paddingBottom","Badge","badgeContent","AddAlert","demoComponentIconMap","HomeIcon","TrendingUp","Speed","StoreMallDirectory","DateRange","Search","FindInPage","outerItem","upperCase","MatchingIconComponent","button","lightGrey","h100","pos","actions","cardCopy","SignIn","googleClientId","onSuccess","onFailure","backgroundImageInt","backgroundImage","logoImage","backgroundSize","clientId","buttonText","cookiePolicy","Login","responseGoogle","response","log","profileObj","process","PrivateRoute","customizations","applyCustomization","editCustomization","indexOfCustomizationToEdit","saveCustomization","cancelIndexOfCustomizationToEdit","saveLookerContent","rest","render","App","checkSession","sessionResponse","sessionResponseData","session","external_user_id","googleId","first_name","last_name","familyName","permissions","InitialLookerUser","sessionData","customizationIndex","customizationResponse","lookerContentToUse","industry","validCustomizationIndex","formData","customizationResponseData","newLookerContent","newUser","userAttributeCopy","time_horizon","lookerUserResponse","newAttribute","href","group_ids","groupIds","basename","path","LookerUserAttributeBrandOptions","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b6d8df1f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/atom_splash_blog.89cd1730.jpg\";","module.exports = __webpack_public_path__ + \"static/media/atom_splash_inventory.5ac8518d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/atom_splash_trends.3591acf3.jpg\";","module.exports = {\n  makeid: (length) => {\n    var result = '';\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  },\n\n\n  validIdHelper: (str) => {\n    // console.log('validIdHelper')\n    // console.log('str', str)\n    //need to replace special characters that may be associated with id...\n    return str.replace(/[^a-zA-Z0-9-.#]/g, \"\")\n  },\n\n  prettifyString: (str) => {\n    var i, frags = str.split('_');\n    for (i = 0; i < frags.length; i++) {\n      frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);\n    }\n    return frags.join(' ');\n  },\n\n  getUrlVars: (url) => {\n    var hash;\n    var myJson = {};\n    var hashes = url.slice(url.indexOf('?') + 1).split('&');\n    for (var i = 0; i < hashes.length; i++) {\n      hash = hashes[i].split('=');\n      myJson[hash[0]] = hash[1];\n      // If you want to get in native datatypes\n      // myJson[hash[0]] = JSON.parse(hash[1]); \n    }\n    return myJson;\n  },\n\n\n  decodeHtml: (html) => {\n    var txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  }\n}","var map = {\n\t\"./atom_logo_white.svg\": 881\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 880;","module.exports = __webpack_public_path__ + \"static/media/atom_logo_white.89cfe3df.svg\";","var map = {\n\t\"./atom_background1.jpg\": 883,\n\t\"./atom_background2.jpg\": 884,\n\t\"./atom_background3.jpg\": 885,\n\t\"./atom_background4.jpg\": 886,\n\t\"./atom_splash_blog.jpg\": 257,\n\t\"./atom_splash_inventory.jpg\": 258,\n\t\"./atom_splash_trends.jpg\": 259\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 882;","module.exports = __webpack_public_path__ + \"static/media/atom_background1.9ed7593f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/atom_background2.c5efc290.jpg\";","module.exports = __webpack_public_path__ + \"static/media/atom_background3.b9aecb61.jpg\";","module.exports = __webpack_public_path__ + \"static/media/atom_background4.1acd6c1b.jpg\";","var map = {\n\t\"./atom_logo_black.svg\": 888\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 887;","module.exports = __webpack_public_path__ + \"static/media/atom_logo_black.a213ea2a.svg\";","import React from 'react';\n \nconst AppContext = React.createContext(null);\n \nexport default AppContext;","import React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { IconButton, Menu, MenuItem, Typography, Divider, TextField, Avatar } from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\nimport AppContext from '../../AppContext';\n\nconst { validIdHelper } = require('../../tools');\n\nconst useStyles = makeStyles((theme) => ({\n  zIndex1500: {\n    zIndex: 1500\n  },\n  mr12: {\n    marginRight: 12\n  }\n}))\n\nexport default function UserMenu(props) {\n  // console.log('UserMenu')\n  // console.log('props', props)\n\n  const { lookerUser, switchLookerUser, onLogoutSuccess, lookerUserAttributeBrandOptions, switchUserAttributeBrand } = props\n  const classes = useStyles();\n  const { togglePayWallModal, codeShow, toggleShow, userProfile } = useContext(AppContext)\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [selectedBrand, setSelectedBrand] = React.useState(lookerUser.user_attributes.brand || '');\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (newValue) => {\n\n\n    setAnchorEl(null);\n    if (newValue == null) {\n      onLogoutSuccess({})\n    } else if (newValue === 'basic' || newValue === 'advanced' || newValue === 'premium') {\n      switchLookerUser(newValue)\n    } else if (newValue === 'modal') {\n      togglePayWallModal({\n        'show': true,\n        'permissionNeeded': 'explore'\n      })\n    }\n    else if (typeof newValue === 'string') {\n      switchUserAttributeBrand(newValue)\n      setSelectedBrand(newValue);\n    }\n  };\n\n\n  return (\n    <div className={`${classes.zIndex1500}`}>\n      <IconButton\n        aria-label=\"account of current user\"\n        aria-controls=\"menu-appbar\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        color=\"inherit\"\n      >\n        {/* <Avatar className={`${classes.mr12}`}>{userProfile.givenName.substring(0, 1)}</Avatar> */}\n        <Avatar alt={userProfile.name} src={userProfile.imageUrl} className={classes.mr12} />\n\n        <Typography>\n          {typeof lookerUser.user_attributes.permission_level === 'string' ?\n            lookerUser.user_attributes.permission_level.charAt(0).toUpperCase() + lookerUser.user_attributes.permission_level.substring(1) : ''}\n        </Typography>\n      </IconButton>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <MenuItem autoFocus={false}>Select User Level</MenuItem>\n        <MenuItem autoFocus={false} onClick={() => handleClose('basic')}>Basic</MenuItem>\n        <MenuItem autoFocus={false} onClick={() => handleClose('advanced')}>Advanced</MenuItem>\n        <MenuItem autoFocus={false} onClick={() => handleClose('premium')}>Premium</MenuItem>\n        <Divider className={classes.divider} />\n        {/* <MenuItem onClick={() => { toggleShow() }}>Highlight Source</MenuItem>\n        <Divider className={classes.divider} /> */}\n        <MenuItem onClick={() => handleClose(null)}>Sign Out</MenuItem>\n        <Divider className={classes.divider} />\n        <MenuItem onClick={() => handleClose('modal')}>Show Modal</MenuItem>\n        <Divider className={classes.divider} />\n        <MenuItem>Current brand: {selectedBrand}</MenuItem>\n        <MenuItem>\n          <Autocomplete\n            id=\"combo-box-usermenu\"\n            options={lookerUserAttributeBrandOptions}\n            getOptionLabel={(option) => option.label}\n            style={{ width: 300 }}\n            onChange={(event) => handleClose(event.target.innerText || '')}\n            renderInput={(params) => <TextField {...params}\n              label=\"Change merchant brand\"\n              variant=\"outlined\"\n            />}\n            loadingText=\"Loading...\"\n            disableautofocus=\"true\"\n            onKeyDown={(event) => event.stopPropagation()}\n          />\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport { Typography, Grid, Fade, ClickAwayListener } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\n// import { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport { dracula } from 'react-syntax-highlighter/dist/esm/styles/hljs'; //hehe\nimport AppContext from '../../AppContext'\n\n//helper function for rendering content in code tab\nexport default function CodeFlyout(props) {\n  const { toggleCodeShow } = useContext(AppContext);\n  const { codeShow } = useContext(AppContext);\n\n  const { classes, lookerContent, clientSideCode, serverSideCode, lookerUser, permissionNeededCode } = props\n  return (\n    <ClickAwayListener onClickAway={() => {\n      toggleCodeShow()\n    }}>\n      <Fade in={codeShow || false}>\n        {Object.keys(lookerUser).length ?\n          <Grid container spacing={3}\n            className={classes.padding30}\n            style={{ backgroundColor: 'rgb(40, 42, 54)' }}>\n            <Grid item sm={10}>\n              <Typography variant=\"h6\" className={` ${classes.mrAuto}`} style={{ color: 'white' }}>\n                Looker User Object\n            </Typography>\n            </Grid>\n            <Grid item sm={2} style={{ textAlign: 'right' }}>\n              <CloseIcon style={{ color: 'white', cursor: 'pointer' }} onClick={() => toggleCodeShow()} />\n            </Grid>\n\n            <Grid item sm={12}>\n              <CodeSnippet code={lookerUser} />\n            </Grid>\n          </Grid> : ''\n        }\n      </Fade >\n    </ClickAwayListener >\n  )\n}\n\nfunction CodeSnippet(props) {\n  // console.log('CodeSnippet');\n  // console.log('props', props);\n  const { code } = props\n  return (\n    <SyntaxHighlighter language=\"json\" style={dracula} showLineNumbers={true} >\n      {typeof code === \"object\" ? JSON.stringify(code, true, 4) : code}\n    </SyntaxHighlighter>)\n}","export default \"//imports\\nimport $ from 'jquery';\\nimport _ from 'lodash'\\nimport React, { useState, useEffect, useContext } from 'react';\\nimport { AppBar, Tabs, Tab, Typography, Box, Grid, CircularProgress, Card, Divider } from '@material-ui/core'\\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\\nimport CodeFlyout from '../CodeFlyout';\\nimport rawSampleCode from '!!raw-loader!./SplashPage.js'; // eslint-disable-line import/no-webpack-loader-syntax\\nimport useStyles from './styles.js';\\nimport { TabPanel, a11yProps } from './helpers.js';\\nimport { SingleValueVis } from './SingleValueVis';\\nimport { Welcome } from './Welcome';\\nimport { PopularAnalysis } from './PopularAnalysis';\\nimport { EmbeddedLook } from './EmbeddedLook';\\nimport { EmbeddedDashboard } from './EmbeddedDashboard';\\nimport { ContentCarousel } from './ContentCarousel';\\nimport BottomBar from '../../Material/BottomBar.js'\\nimport AppContext from '../../../AppContext';\\nconst { validIdHelper } = require('../../../tools');\\n\\n//start of SplashPage Component\\nexport default function SplashPage(props) {\\n  // console.log('SplashPage')\\n  //intialize state using hooks\\n  const [value, setValue] = useState(0);\\n  const [iFrameExists, setIFrame] = useState(1);\\n  const [clientSideCode, setClientSideCode] = useState('');\\n  const [serverSideCode, setServerSideCode] = useState('');\\n  const { toggleShow } = useContext(AppContext)\\n  const { show } = useContext(AppContext)\\n  const { codeShow } = useContext(AppContext)\\n\\n  //declare constants\\n  const classes = useStyles();\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, handleTabChange, handleMenuItemSelect, lookerUser, lookerHost } = props;\\n  const codeTab = {\\n    type: 'code flyout', label: 'Code', id: 'codeFlyout',\\n    lookerContent, lookerUser, clientSideCode, serverSideCode\\n  }\\n  // const tabContent = [[...lookerContent], codeTab];\\n  // const tabContent = [[...lookerContent]];\\n  const demoComponentType = type || 'code flyout';\\n\\n  //handle tab change\\n  const handleChange = (event, newValue) => {\\n    handleTabChange(0);\\n    setValue(newValue);\\n  };\\n\\n  /**\\n   * listen for lookerContent and call \\n   * setSampleCode\\n  */\\n  useEffect(() => {\\n    // console.log('useEffect')\\n    setClientSideCode(rawSampleCode)\\n  }, [lookerContent]);\\n\\n\\n  /**\\n   * What this return  does:\\n   * Rendering of actual html elements,\\n   * this section is necessary but less relevant to looker functionality itself\\n   */\\n  return (\\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\\n      <Card elevation={1} className={`${classes.padding30} `}>\\n        <Grid container\\n          spacing={3}\\n          key={validIdHelper(type)} >\\n          <div className={classes.root}>\\n            {iFrameExists ? '' :\\n              <Grid item sm={12} >\\n                <Card className={`${classes.card} ${classes.flexCentered}`}>\\n                  <CircularProgress className={classes.circularProgress} />\\n                </Card>\\n              </Grid>\\n            }\\n            <Box className={iFrameExists ? `${classes.positionRelative}` : `${classes.hidden} ${classes.positionRelative}`}>\\n              <Grid container\\n                spacing={3}\\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}>\\n                {codeShow ? <Grid item sm={6}\\n                  className={`${classes.positionTopRight}`}\\n                >\\n                  <CodeFlyout {...props}\\n                    classes={classes}\\n                    lookerUser={lookerUser} />\\n                </Grid> : ''}\\n                {lookerContent.map((lookerContent, innerIndex) => {\\n                  return (\\n                    <Grid\\n                      key={`${validIdHelper(demoComponentType + '-innerFragment-' + innerIndex)}`}\\n                      item\\n                      sm={parseInt(lookerContent.gridWidth)}\\n                    >\\n                      {(lookerContent.type === 'welcome') && <Welcome\\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\\n                      />}\\n                      {(lookerContent.type === 'carousel') && <ContentCarousel\\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\\n                      />}\\n                      {(lookerContent.type === 'single value') && <SingleValueVis\\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\\n                      />}\\n                      {(lookerContent.type === 'dashboard') && <EmbeddedDashboard\\n                        {...{ lookerContent, classes, lookerHost }} id={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent.id}`)}\\n                      />}\\n                      {(lookerContent.type === 'popular analysis') && <PopularAnalysis\\n                        {...{ lookerContent, classes, demoComponentType, handleMenuItemSelect, lookerHost }}\\n                      />}\\n                    </Grid>\\n                  )\\n                })}\\n              </Grid>\\n            </Box >\\n          </div >\\n        </Grid >\\n      </Card>\\n    </div >\\n  )\\n}\";","import { makeStyles } from '@material-ui/core/styles';\nimport { red, green } from '@material-ui/core/colors';\nconst redPrimary = red[500];\nconst greenPrimary = green[500];\nconst redDark = red[900];\nconst greenDark = green[900];\nconst redLight = red[100];\nconst greenLight = green[100];\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  card: {\n    minWidth: 275,\n  },\n  maxHeight200: {\n    maxHeight: 200,\n    height: 200,\n    overflow: 'hidden'\n  },\n  mt30: {\n    marginTop: 30\n  },\n  mb30: {\n    marginBottom: 30\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  cursorPointer: {\n    cursor: 'pointer'\n  },\n  border: {\n    border: '1px solid black'\n  },\n  height800: {\n    height: 800\n  },\n  maxHeight100: {\n    maxHeight: 100,\n    height: 100,\n  },\n  maxHeight400: {\n    maxHeight: 400,\n    height: 400,\n  },\n  minHeight680: {\n    minHeight: 680,\n  },\n  minHeight200: {\n    minHeight: 200,\n    overflow: 'scroll'\n  },\n  redNeg: {\n    backgroundColor: redLight,\n    color: redPrimary,\n    fontWeight: 800\n  },\n  greenPos: {\n    backgroundColor: greenLight,\n    color: greenPrimary,\n    fontWeight: 800\n  },\n  padding30: {\n    padding: 30\n  },\n  mb12: {\n    marginBottom: 12\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  overflowHidden: {\n    overflow: 'hidden'\n  },\n  overflowVisible: {\n    overflow: 'visible'\n  },\n  maxHeight150: {\n    maxHeight: 150,\n    height: 150,\n  },\n  minHeight150: {\n    minHeight: 150,\n    overflow: 'scroll'\n  },\n  carouselLegend: {\n    backgroundColor: 'rgb(192,192,192, .5)\t !important',\n    fontSize: '24px !important',\n    textAlign: 'center !important',\n    opacity: `100 !important`,\n    fontWeight: 800,\n    // width: `${25}% !important`,\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  padding15: {\n    padding: 15\n  },\n  maxHeight75: {\n    maxHeight: 75,\n    height: 75,\n  },\n  overflowYScroll: {\n    overflowY: 'scroll',\n    overflowX: 'hidden'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n}));","import React, { useContext } from 'react';\nimport AppContext from '../../AppContext';\nimport zIndex from '@material-ui/core/styles/zIndex';\nimport { Chip, Fade } from '@material-ui/core';\n\n\n// maybe move this to config?\nexport const API_COLOR = '#A142F4'\nexport const API_BACKGROUND_COLOR = 'rgba(161, 66, 244, 0.1)'\nexport const EMBED_COLOR = '#12B5CB'\nexport const EMBED_BACKGROUND_COLOR = 'rgba(18, 181, 203, 0.1)'\n\nfunction Highlight({ children, color, height, width, margin, id, backgroundColor, ...props }) {\n  const { show } = useContext(AppContext)\n  var style = {};\n  if (show) {\n    style = {\n      ...style,\n      // boxShadow: `0 0 10px ${color}, \n      // inset 0 0 10px ${color}`,\n\n      border: `3px solid ${color}`,\n      backgroundColor: `${backgroundColor}`,\n      borderRadius: `4px`,\n      // zIndex: 10000000000000000,\n      position: 'relative'\n    }\n  } else {\n    style = {\n      border: `3px solid transparent`,\n      backgroundColor: `transparent`,\n    }\n  }\n\n  if (height) { style['height'] = height }\n  if (width) { style['width'] = width }\n  if (margin) { style['margin'] = margin }\n\n  // boxShadow: `0 4px 80px ${color}22`\n\n  return (\n    <div id={id} style={style} {...props}>\n      {children}\n    </div>\n  );\n}\n\nexport function ApiHighlight({ ...props }) {\n  const { show } = useContext(AppContext)\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={API_COLOR} backgroundColor={API_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"API\"}\n      className={show ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{ backgroundColor: \"#A142F4\", color: '#fff', top: '-10px', left: '-10px', position: 'absolute' }}\n    />\n    {children}\n\n  </Highlight>\n}\n\nexport function EmbedHighlight({ ...props }) {\n  const { show } = useContext(AppContext)\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={EMBED_COLOR} backgroundColor={EMBED_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"Embed\"}\n      className={show ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{\n        backgroundColor: \"#12B5CB\",\n        color: '#fff',\n        top: '-10px',\n        left: '-10px',\n        position: 'absolute'\n      }}\n    />\n    {children}\n\n  </Highlight>\n}\n","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\nimport AppContext from '../../../AppContext';\nimport { ApiHighlight } from '../../Highlights/Highlight';\nimport { Typography, Card, CardActionArea, CardActions, CardContent, CardMedia, Button, CircularProgress, Grid, Chip } from '@material-ui/core';\nimport { ResponsiveLine } from '@nivo/line';\nconst { validIdHelper, decodeHtml } = require('../../../tools');\n\n\n\nexport function SingleValueVis({ lookerContent, classes }) {\n  // console.log('SingleValueVis')\n  // console.log('lookerContent', lookerContent)\n  // const [svg, setSvg] = useState(undefined)\n  const [apiContent, setApiContent] = useState([]);\n  const { userProfile, lookerUser, show } = useContext(AppContext)\n\n\n\n  let dataObjForSparkline = {}\n  useEffect(() => {\n    if (lookerContent || lookerUser) {\n      setTimeout(() => runInlineQuery(), 1000);\n    }\n  }, [lookerContent, lookerUser])\n\n\n\n  const runInlineQuery = async () => {\n    setApiContent([])\n    let stringifiedQuery = encodeURIComponent(JSON.stringify(lookerContent.inlineQuery))\n    let lookerResponse = await fetch(`/runinlinequery/${stringifiedQuery}/${lookerContent.resultFormat}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n    let lookerResponseData = await lookerResponse.json();\n    dataObjForSparkline.id = validIdHelper(`singleVisValue-${lookerContent.id}`);\n    dataObjForSparkline.data = [];\n\n    let dataArrForDataObj = [];\n    lookerResponseData.queryResults.map(item => {\n      if (item[lookerContent.inlineQuery.fields[0]]\n        // && item['order_items.count']['order_items.previous_period'][\"This Period\" ? \"This Period\" : \"Previous Period\"]\n      ) {\n        let thisDataItem = {\n          \"x\": item[lookerContent.inlineQuery.fields[0]].toString(),\n          \"y\": item[lookerContent.inlineQuery.fields[1]] || 0,\n          \"change\": item.change\n        }\n        if (thisDataItem && thisDataItem.y !== \"null\") dataArrForDataObj.push(thisDataItem)\n      }\n    })\n    dataObjForSparkline.data = [...dataArrForDataObj]\n    setApiContent([dataObjForSparkline])\n  }\n\n  const upOrDownArrow = apiContent.length ? isNaN((apiContent[0].data[0].change * 100).toFixed(2)) ? '' : parseInt((apiContent[0].data[0].change * 100).toFixed(0)) >= 0 ? `&uarr;` : `&darr;` : '';\n\n  return (\n    <Card className={`${classes.padding15} ${classes.overflowHidden}`} variant=\"outlined\">\n      <div\n        style={{\n          height: lookerContent.height,\n        }}\n      >\n        {apiContent.length ?\n          <React.Fragment>\n            <ApiHighlight height={140} classes={classes} >\n              <Grid container className={`${classes.textCenter}`}>\n                <Grid item sm={12}>\n                  <Typography variant=\"body2\" align=\"left\" color=\"secondary\">\n                    {lookerContent.label}\n                  </Typography>\n                </Grid>\n                <Grid item sm={6}>\n                  <Typography variant=\"subtitle1\" align=\"left\">\n                    <b>{apiContent[0].data && apiContent[0].data[0] ? apiContent[0].data[0].y.toFixed(2) : ''}</b>\n                  </Typography>\n                </Grid>\n                <Grid item sm={6}>\n                  <Chip size=\"small\"\n                    label={`${decodeHtml(upOrDownArrow)} ${parseInt(apiContent[0].data[0].change * 100).toFixed(0)}% `}\n                    className={isNaN((apiContent[0].data[0].change * 100).toFixed(2)) ? '' : parseInt((apiContent[0].data[0].change * 100).toFixed(0)) >= 0 ? classes.greenPos : classes.redNeg}\n                    display=\"inline\"\n                    align=\"right\"\n                  />\n                </Grid>\n              </Grid>\n              <ResponsiveLine\n                data={apiContent}\n                margin={{ top: 25, right: 25, bottom: 25, left: 25 }}\n                xScale={{\n                  type: 'time',\n                  format: '%Y-%m-%d',\n                  precision: 'day',\n                }}\n                yScale={{ type: 'linear', min: 'auto', max: 'auto', stacked: true, reverse: false }}\n                axisLeft={{\n                  orient: \"left\",\n                  tickSize: 0,\n                  tickPadding: 5,\n                  tickRotation: 0,\n                  format: () => null\n                }}\n                axisBottom={{\n                  orient: \"bottom\",\n                  tickSize: 0,\n                  tickPadding: 5,\n                  tickRotation: 0,\n                  format: () => null,\n                  // legend: lookerContent.label,\n                  // legendOffset: 15,\n                  // legendPosition: 'middle'\n                }}\n                enablePoints={false}\n                enableGridX={false}\n                enableGridY={false}\n                height={100}\n                colors={lookerContent.visColor}\n                animate={true}\n              />\n            </ApiHighlight>\n          </React.Fragment>\n          :\n          <Grid item sm={12} className={`${classes.flexCentered}`} style={{ height: lookerContent.height }}>\n            <CircularProgress className={classes.circularProgress}\n              style={{ color: `${lookerContent.visColor} ` }} />\n          </Grid>\n        }\n      </div >\n    </Card>\n  );\n}\n","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\nimport AppContext from '../../../AppContext';\nimport { ApiHighlight } from '../../Highlights/Highlight';\n\nimport { Typography, Card, CardActionArea, CardActions, CardContent, CardMedia, Button, Grid, CircularProgress, Chip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nconst { validIdHelper, decodeHtml } = require('../../../tools');\n\nexport function NaturalLanguage({ lookerContent, item, index, classes }) {\n  const [apiContent, setApiContent] = useState(undefined);\n  const { userProfile, lookerUser, show } = useContext(AppContext)\n\n  useEffect(() => {\n    if (item) {\n      runInlineQuery();\n    }\n  }, [item, lookerUser])\n\n  const runInlineQuery = async () => {\n    setApiContent(undefined)\n    let inlineQuery = item;\n    let stringifiedQuery = encodeURIComponent(JSON.stringify(inlineQuery))\n    let lookerResponse = await fetch(`/runinlinequery/${stringifiedQuery}/${lookerContent.resultFormat}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n    let lookerResponseData = await lookerResponse.json();\n    setApiContent(lookerResponseData.queryResults[0])\n  }\n\n  const upOrDownArrow = apiContent ? apiContent.change > 0 ? `&uarr;` : `&darr;` : '';\n\n  return (\n    <Grid item sm={12}>\n      {apiContent ?\n        <React.Fragment >\n          <ApiHighlight classes={classes} >\n            <Typography variant=\"subtitle1\" display=\"inline\">\n              Your {lookerContent.inlineQueriesMap[index]} category, <b>{apiContent['products.category']}</b>, is {apiContent.change > 0 ? 'up ' : 'down '}\n            </Typography>\n            <Chip size=\"small\"\n              label={`${decodeHtml(upOrDownArrow)} ${parseInt(apiContent.change * 100).toFixed(0)}% `}\n              className={apiContent.change > 0 ? classes.greenPos : classes.redNeg}\n              display=\"inline\"\n            />\n            <Typography variant=\"subtitle1\" display=\"inline\">\n              &nbsp;over the past week.\n        </Typography>\n          </ApiHighlight>\n        </React.Fragment>\n        : <div style={{ height: '56px' }}></div>\n\n        // <Grid item sm={12} >\n        //   <Card className={`${classes.card} ${classes.flexCentered}`}>\n        //     <CircularProgress className={classes.circularProgress}\n        //       style={{ color: `${lookerContent.visColor} ` }} />\n        //   </Card>\n        // </Grid>\n      }\n    </Grid >\n  );\n}\n\n","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\nimport AppContext from '../../../AppContext';\nimport { Typography, Card, CardActionArea, CardActions, CardContent, CardMedia, Button, CircularProgress, Grid, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { NaturalLanguage } from './NaturalLanguage';\nconst { validIdHelper } = require('../../../tools');\n\nexport function Welcome({ lookerContent, classes }) {\n  // console.log('Welcome')\n  const { userProfile, lookerUser } = useContext(AppContext)\n\n  useEffect(() => {\n    // setClientSideCode(rawSampleCode)\n  }, [lookerContent, lookerUser]);\n\n  return (\n    <div\n      className={`${classes.overflowScroll} ${classes.padding15}`}\n      style={{ maxHeight: lookerContent.height }}\n    >\n      <Typography variant=\"h4\">Welcome back</Typography>\n      <br />\n      <Typography variant=\"subtitle1\" display=\"inline\">\n        Hi <b>{userProfile.givenName}</b>, hope you're having a good day. Here are a few things you might want to know.\n      </Typography>\n      <br />\n      <>\n        {lookerContent.inlineQueries.map((item, index) => (\n          <NaturalLanguage\n            key={`${validIdHelper('naturalLanguage-splashPage-' + index)}`}\n            {...{ lookerContent, item, index, classes }}\n          />\n        )\n        )}\n      </>\n    </div >\n  );\n}\n","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\nimport AppContext from '../../../AppContext';\nimport { ApiHighlight } from '../../Highlights/Highlight';\n\nimport { Typography, Card, CardActionArea, CardActions, CardContent, CardMedia, Button, Grid, CircularProgress, Divider, Chip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nexport function VectorThumbnail({ lookerContent, classes, item, handleMenuItemSelect, index }) {\n  const [svg, setSvg] = useState(undefined)\n  const { userProfile, lookerUser, show } = useContext(AppContext)\n\n  useEffect(() => {\n    if (item) {\n      getThumbnail();\n    }\n  }, [item, lookerUser])\n\n  const getThumbnail = async () => {\n    let lookerResponse = await fetch(`/getthumbnail/${item.resourceType}/${item.id}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n    let lookerResponseData = await lookerResponse.json();\n    const blob = new Blob([lookerResponseData.svg], { type: 'image/svg+xml' });\n    let url = URL.createObjectURL(blob);\n    setSvg(url)\n  }\n\n  return (\n    <Grid container\n      onClick={() => handleMenuItemSelect(item.id, 1)}\n      className={`${classes.cursorPointer}`}\n      spacing={3}\n    >\n      {svg ?\n        <>\n          <Grid item sm={1} />\n          <Grid item sm={6}>\n            <ApiHighlight classes={classes}>\n              <div\n                className={` ${classes.maxHeight75} ${classes.textCenter} ${classes.cursorPointer} ${classes.overflowHidden}`}\n              >\n                <img\n                  onClick={() => handleMenuItemSelect(item.id, 1)}\n                  src={svg}\n                  style={{ width: '100%' }}\n                />\n\n              </div>\n            </ApiHighlight>\n          </Grid>\n          <Grid item sm={4}>\n            <Typography variant=\"subtitle1\"  >{item.label}</Typography>\n          </Grid>\n          {index < 2 ?\n            <Grid item sm={12}>\n              <Divider className={`${classes.divider} ${classes.mb12} ${classes.mt12}`} />\n            </Grid> : ''}\n        </>\n        :\n        ''\n      }\n    </Grid >\n\n  );\n}\n","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\nimport AppContext from '../../../AppContext';\nimport { ApiHighlight } from '../../Highlights/Highlight';\nimport { Typography, Card, CardActionArea, CardActions, CardContent, CardMedia, Button, CircularProgress, Grid, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ResponsiveLine } from '@nivo/line';\nimport { VectorThumbnail } from './VectorThumbnail';\nimport { NaturalLanguage } from './NaturalLanguage';\nconst { validIdHelper } = require('../../../tools');\n\n\n\nexport function PopularAnalysis({ lookerContent, classes, handleMenuItemSelect }) {\n  const [apiContent, setApiContent] = useState([]);\n\n  return (\n\n    <Card className={classes.padding15} variant=\"outlined\">\n      <div\n        className={`${classes.overflowYScroll}`}\n        style={{ height: lookerContent.height }}\n      >\n        <Grid container\n          spacing={3}>\n          <Grid item sm={12}>\n            <Typography variant=\"h6\" align=\"center\" color=\"secondary\">\n              Helpful Dashboards\n          </Typography></Grid>\n          {lookerContent.vectors.map((item, index) => {\n            return (\n              <VectorThumbnail\n                key={`${validIdHelper('vectorThumbnail-splashPage-' + index)}`}\n                {...{ lookerContent, item, classes, handleMenuItemSelect, index }}\n              />\n            )\n          }\n          )}\n        </Grid>\n\n      </div >\n    </Card>\n  );\n}\n","import $ from 'jquery';\nimport React, { useEffect, useRef, useCallback, useState, useContext } from 'react';\nimport AppContext from '../../../AppContext';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport { ApiHighlight, EmbedHighlight } from '../../Highlights/Highlight';\nimport { Typography, Grid, Card, CircularProgress, Box, Chip } from '@material-ui/core';\n\nexport function EmbeddedDashboard({ lookerContent, classes, id, lookerHost }) {\n\n  const [iFrameExists, setIFrame] = useState(0);\n  const { userProfile, lookerUser, show } = useContext(AppContext)\n\n  useEffect(() => {\n    $(`#${id}`).html('')\n    setIFrame(0)\n    LookerEmbedSDK.createDashboardWithId(lookerContent.slug)\n      .appendTo(document.getElementById(id))\n      .withClassName('dashboard')\n      .withClassName('splashPage')\n      .withClassName(lookerContent.id)\n      // .withNext()\n      .withTheme('atom_fashion')\n      .build()\n      .connect()\n      .then((look) => {\n        setIFrame(1)\n        LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\n      })\n      .catch((error) => {\n        console.error('Connection error', error)\n      })\n  }, [lookerUser])\n\n  return (\n\n    <Card className={classes.padding15} variant=\"outlined\">\n\n      <div\n        className={`${classes.textCenter} ${classes.overflowVisible}`}\n        style={\n          { height: lookerContent.height }\n        }\n      >\n        {\n          iFrameExists ? '' :\n\n            <Grid item sm={12} >\n              <Card className={`${classes.card} ${classes.flexCentered} ${classes.maxHeight400} `} elevation={0}>\n                <CircularProgress className={classes.circularProgress}\n                />\n              </Card>\n            </Grid>\n        }\n        <Box >\n          <Grid item sm={12}>\n            <EmbedHighlight classes={classes}>\n              <div\n                className={`embedContainer splashPage`}\n                id={id}\n                key={id}\n              >\n              </div>\n            </EmbedHighlight>\n          </Grid>\n        </Box>\n      </div >\n    </Card >\n  );\n}","import React, { useState, useEffect, useLayoutEffect, useRef, useContext } from 'react';\nimport AppContext from '../../../AppContext';\nimport { Typography, Card, CardActionArea, CardActions, CardContent, CardMedia, Button, CircularProgress, Grid, Divider, Hidden } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from 'react-responsive-carousel';\nimport { ApiHighlight } from '../../Highlights/Highlight';\n\nconst { validIdHelper } = require('../../../tools');\n\n\n\nexport function ContentCarousel({ lookerContent, classes }) {\n  // console.log('Welcome')\n  const { userProfile, lookerUser } = useContext(AppContext)\n\n  useEffect(() => {\n    // setClientSideCode(rawSampleCode)\n  }, [lookerContent, lookerUser]);\n\n  const backgroundImage1 = require(`../../../images/atom_splash_blog.jpg`)\n  const backgroundImage2 = require(`../../../images/atom_splash_inventory.jpg`)\n  const backgroundImage3 = require(`../../../images/atom_splash_trends.jpg`)\n\n\n  return (\n    <div\n      className={`${classes.overflowHidden}  MuiPaper-rounded`}\n      style={{\n        maxHeight: lookerContent.height,\n        borderRadius: '4px'\n      }}\n    >\n\n      <Carousel infiniteLoop={true} autoPlay={true} showThumbs={false}>\n        <div\n          style={{\n            maxHeight: lookerContent.height,\n            // backgroundImage: `url(${backgroundImage1})`,\n            // backgroundSize: 'cover'\n          }}\n        >\n          <img src={require(`../../../images/atom_splash_blog.jpg`)} />\n          <p className={`legend ${classes.carouselLegend}`}>Blog</p>\n        </div>\n        <div\n          style={{\n            maxHeight: lookerContent.height,\n            // backgroundImage: `url(${backgroundImage2})`,\n            // backgroundSize: 'cover'\n          }}\n        >\n          <img src={require(`../../../images/atom_splash_inventory.jpg`)} />\n          <p className={`legend ${classes.carouselLegend}`}>Inventory Best Practices</p>\n        </div>\n        <div\n          style={{\n            maxHeight: lookerContent.height,\n            // backgroundImage: `url(${backgroundImage3})`,\n            // backgroundSize: 'cover'\n          }}\n        >\n          <img src={require(`../../../images/atom_splash_trends.jpg`)} />\n          <p className={`legend ${classes.carouselLegend}`}>Macro Trends</p>\n        </div>\n      </Carousel>\n    </div >\n  );\n}\n","import React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Toolbar, FormControlLabel, Switch, Typography, Button } from '@material-ui/core';\nimport CodeIcon from '@material-ui/icons/Code';\nimport clsx from 'clsx';\n\nimport AppContext from '../../AppContext';\n\n\nexport default function BottomBar(props) {\n  // console.log('BottomBar')\n  // console.log('props', props)\n\n  const { classes } = props\n  const { toggleShow } = useContext(AppContext)\n  const { show } = useContext(AppContext)\n  const { toggleCodeShow } = useContext(AppContext)\n  const { codeShow } = useContext(AppContext)\n  const { lookerUser } = props;\n\n  return (\n    <AppBar\n      position=\"fixed\"\n      className={clsx(classes.appBarBottom)}\n      color=\"transparent\"\n      elevation={0}\n    >\n      <Toolbar>\n        <FormControlLabel\n          control={<Switch checked={show} onChange={toggleShow} />}\n          label=\"Show source\"\n        />\n        <Button variant=\"outlined\"\n          className={`${classes.mrAuto}`}\n          startIcon={<CodeIcon />}\n          onClick={toggleCodeShow}>Code\n          </Button>\n\n      </Toolbar>\n    </AppBar>\n  );\n}\n","//imports\nimport $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AppBar, Tabs, Tab, Typography, Box, Grid, CircularProgress, Card, Divider } from '@material-ui/core'\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport CodeFlyout from '../CodeFlyout';\nimport rawSampleCode from '!!raw-loader!./SplashPage.js'; // eslint-disable-line import/no-webpack-loader-syntax\nimport useStyles from './styles.js';\nimport { TabPanel, a11yProps } from './helpers.js';\nimport { SingleValueVis } from './SingleValueVis';\nimport { Welcome } from './Welcome';\nimport { PopularAnalysis } from './PopularAnalysis';\nimport { EmbeddedLook } from './EmbeddedLook';\nimport { EmbeddedDashboard } from './EmbeddedDashboard';\nimport { ContentCarousel } from './ContentCarousel';\nimport BottomBar from '../../Material/BottomBar.js'\nimport AppContext from '../../../AppContext';\nconst { validIdHelper } = require('../../../tools');\n\n//start of SplashPage Component\nexport default function SplashPage(props) {\n  // console.log('SplashPage')\n  //intialize state using hooks\n  const [value, setValue] = useState(0);\n  const [iFrameExists, setIFrame] = useState(1);\n  const [clientSideCode, setClientSideCode] = useState('');\n  const [serverSideCode, setServerSideCode] = useState('');\n  const { toggleShow } = useContext(AppContext)\n  const { show } = useContext(AppContext)\n  const { codeShow } = useContext(AppContext)\n\n  //declare constants\n  const classes = useStyles();\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, handleTabChange, handleMenuItemSelect, lookerUser, lookerHost } = props;\n  const codeTab = {\n    type: 'code flyout', label: 'Code', id: 'codeFlyout',\n    lookerContent, lookerUser, clientSideCode, serverSideCode\n  }\n  // const tabContent = [[...lookerContent], codeTab];\n  // const tabContent = [[...lookerContent]];\n  const demoComponentType = type || 'code flyout';\n\n  //handle tab change\n  const handleChange = (event, newValue) => {\n    handleTabChange(0);\n    setValue(newValue);\n  };\n\n  /**\n   * listen for lookerContent and call \n   * setSampleCode\n  */\n  useEffect(() => {\n    // console.log('useEffect')\n    setClientSideCode(rawSampleCode)\n  }, [lookerContent]);\n\n\n  /**\n   * What this return  does:\n   * Rendering of actual html elements,\n   * this section is necessary but less relevant to looker functionality itself\n   */\n  return (\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\n      <Card elevation={1} className={`${classes.padding30} `}>\n        <Grid container\n          spacing={3}\n          key={validIdHelper(type)} >\n          <div className={classes.root}>\n            {iFrameExists ? '' :\n              <Grid item sm={12} >\n                <Card className={`${classes.card} ${classes.flexCentered}`}>\n                  <CircularProgress className={classes.circularProgress} />\n                </Card>\n              </Grid>\n            }\n            <Box className={iFrameExists ? `${classes.positionRelative}` : `${classes.hidden} ${classes.positionRelative}`}>\n              <Grid container\n                spacing={3}\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}>\n                {codeShow ? <Grid item sm={6}\n                  className={`${classes.positionTopRight}`}\n                >\n                  <CodeFlyout {...props}\n                    classes={classes}\n                    lookerUser={lookerUser} />\n                </Grid> : ''}\n                {lookerContent.map((lookerContent, innerIndex) => {\n                  return (\n                    <Grid\n                      key={`${validIdHelper(demoComponentType + '-innerFragment-' + innerIndex)}`}\n                      item\n                      sm={parseInt(lookerContent.gridWidth)}\n                    >\n                      {(lookerContent.type === 'welcome') && <Welcome\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\n                      />}\n                      {(lookerContent.type === 'carousel') && <ContentCarousel\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\n                      />}\n                      {(lookerContent.type === 'single value') && <SingleValueVis\n                        {...{ lookerContent, classes, demoComponentType, lookerHost }}\n                      />}\n                      {(lookerContent.type === 'dashboard') && <EmbeddedDashboard\n                        {...{ lookerContent, classes, lookerHost }} id={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent.id}`)}\n                      />}\n                      {(lookerContent.type === 'popular analysis') && <PopularAnalysis\n                        {...{ lookerContent, classes, demoComponentType, handleMenuItemSelect, lookerHost }}\n                      />}\n                    </Grid>\n                  )\n                })}\n              </Grid>\n            </Box >\n          </div >\n        </Grid >\n      </Card>\n    </div >\n  )\n}","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    // position: 'absolute', //hack for obscuring other elements within Box\n    // zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  card: {\n    minWidth: 275,\n    minHeight: 680,\n  },\n  padding30: {\n    padding: 30\n  },\n  minHeight680: {\n    minHeight: 680,\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  skeleton: {\n    height: 160,\n    width: '100%'\n  }\n}));","import React from 'react';\nimport { TextField } from '@material-ui/core';\n\nexport function NumberToColoredPercent( {val, positive_good, abs_val}) {\n  const colors = {\n    up: (positive_good) ? 'green' : 'red',\n    down: (positive_good) ? 'red' : 'green'\n  }\n  const color = (val<0) ? colors.down : (val>0) ? colors.up : 'black'\n  const val_formatted = Math.abs(val).toLocaleString(\"en\", { style: \"percent\", minimumFractionDigits: 2 })\n  const icon = (val<0) ? '' : (val>0) ? '' : ''\n  \n  return (<>\n      <font\n        color={color}\n      >\n        {`${icon} ${val_formatted}`}\n      </font>\n  </>\n  )\n}","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport {\n  AppBar, Tabs, Tab, Typography, Box, Grid, CircularProgress, Card, TextField, Toolbar, FormControlLabel, Switch, Chip,\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails\n} from '@material-ui/core'\nimport { Autocomplete, ToggleButton, ToggleButtonGroup, Skeleton } from '@material-ui/lab'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport CodeFlyout from '../CodeFlyout';\nimport rawSampleCode from '!!raw-loader!./Dashboard.js'; // eslint-disable-line import/no-webpack-loader-syntax\nimport useStyles from './styles.js';\nimport { TabPanel, a11yProps } from './helpers.js';\nimport BottomBar from '../../Material/BottomBar.js'\nimport { ApiHighlight, EmbedHighlight } from '../../Highlights/Highlight';\nimport { NumberToColoredPercent } from '../../Accessories/NumberToColoredPercent';\nimport AppContext from '../../../AppContext';\nconst { validIdHelper } = require('../../../tools');\n\n//start of Dashboard Component\nexport default function Dashboard(props) {\n  // console.log('Dashboard')\n  //initialize state using hooks\n  const [value, setValue] = useState(0);\n  const [iFrameExists, setIFrame] = useState(0);\n  const [apiContent, setApiContent] = useState([]);\n  const [dashboardObj, setDashboardObj] = useState({});\n  const [clientSideCode, setClientSideCode] = useState('');\n  const [serverSideCode, setServerSideCode] = useState('');\n  const [toggleValue, setToggleValue] = useState('');\n  const [dashboardLayout, setDashboardLayout] = useState({});\n  const [regionValue, setRegionValue] = useState('All');\n  // const { togglePayWallModal } = useContext(AppContext)\n  const { toggleShow } = useContext(AppContext)\n  const { show } = useContext(AppContext)\n  const { codeShow, toggleCodeShow } = useContext(AppContext)\n\n  //declare constants\n  const classes = useStyles();\n  const { staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange, lookerUser, lookerHost } = props;\n  const demoComponentType = type || 'code flyout';\n\n  //handle tab change\n  const handleChange = (event, newValue) => {\n    handleTabChange(0);\n    setValue(newValue);\n  };\n\n  const handleToggle = (event, newValue) => {\n    setToggleValue(newValue)\n    const filteredLayout = _.filter(dashboardLayout.dashboard_layout_components, (row) => {\n      return (lookerContent[0].dynamicFieldLookUp[newValue].indexOf(row.dashboard_element_id) > -1)\n    })\n    const newDashboardLayout = {\n      ...dashboardLayout,\n      dashboard_layout_components: filteredLayout\n    }\n    dashboardObj.setOptions({ \"layouts\": [newDashboardLayout] })\n  };\n\n  /**\n   * listen for lookerContent and call \n   * performLookerApiCalls and setSampleCode\n  */\n  useEffect(() => {\n    setTimeout(() => performLookerApiCalls([...lookerContent]), 1000)\n    setClientSideCode(rawSampleCode)\n  }, [lookerContent, lookerUser]);\n\n\n  useEffect(() => {\n    if (Object.keys(dashboardLayout).length && Object.keys(dashboardObj).length && lookerContent[0].dynamicFieldLookUp) {\n      handleToggle(null, Object.keys(lookerContent[0].dynamicFieldLookUp)[0])\n    }\n  }, [dashboardLayout]);\n\n  /** \n   * What this function does:\n   * iterate over Looker Content array referenced above and\n   * calls specific endpoints and methods available from Looker Node SDK\n   * and embed SDK to create the experience on this page\n   */\n  const performLookerApiCalls = function (lookerContent) {\n    // console.log('performLookerApiCalls')\n    $(`.embedContainer.${validIdHelper(demoComponentType)}:visible`).html('')\n    setIFrame(0)\n    setApiContent([])\n    lookerContent.map(async lookerContent => {\n      let dashboardId = lookerContent.id;\n      // let dashboardSlug = lookerContent.slug;\n\n      LookerEmbedSDK.createDashboardWithId(dashboardId) //dashboardSlug\n        .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${dashboardId}`))\n        .withClassName('iframe')\n        .withNext()\n        // .withNext(lookerContent.isNext || false) //how can I make this dynamic based on prop??\n        .withTheme(lookerContent.theme || 'atom_fashion')\n        .withParams({ 'schedule_modal': 'true' })\n        .on('page:property:change', (event) => {\n          // console.log('page property is changing!!!!')\n          changeHeight(event)\n        }) // dashboards-next\n        .on('dashboard:loaded', (event) => {\n          setDashboardLayout(event.dashboard.options.layouts[0])\n        })\n        // .on('drillmenu:click', (event) => {\n        //   drillMenuClick(event)\n        // })\n        .build()\n        .connect()\n        .then((dashboard) => {\n          setIFrame(1)\n          setDashboardObj(dashboard)\n          LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\n\n        })\n        .catch((error) => {\n          // console.error('Connection error', error)\n        })\n\n      if (lookerContent.hasOwnProperty('filters')) {\n        //get inline query from usecase file & set user attribute dynamically\n\n        //iterating over filters\n        let orderedArrayForApiContent = []\n        lookerContent.filters.map(async (item, index) => {\n          // console.log('item', item)\n          let jsonQuery = lookerContent.inlineQueries[index];\n          jsonQuery.filters = {\n            ...jsonQuery.filters,\n            [item.desiredFilterName]: lookerUser.user_attributes.brand\n          };\n          // lookerContent.inlineQueries[index] = jsonQuery;\n          let stringifiedQuery = encodeURIComponent(JSON.stringify(jsonQuery))\n          let lookerResponse = await fetch('/runinlinequery/' + stringifiedQuery + '/json', {\n            method: 'GET',\n            headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'\n            }\n          })\n          let lookerResponseData = await lookerResponse.json();\n          let queryResultsForDropdown = [];\n          let desiredProperty = Object.keys(lookerResponseData.queryResults[0])[0];\n\n          for (let i = 0; i < lookerResponseData.queryResults.length; i++) {\n            queryResultsForDropdown.push({\n              'label': lookerResponseData.queryResults[i][desiredProperty],\n              'trend': (lookerResponseData.queryResults[i]['trend']) ? lookerResponseData.queryResults[i]['trend'] : undefined\n            })\n          }\n\n\n          // setApiContent(apiContent => {\n          //   return [...apiContent, queryResultsForDropdown]\n          // });\n          //needed solution for ordering apiContent to match order\n          //of content from usecaseContent\n          orderedArrayForApiContent[index] = queryResultsForDropdown\n          setApiContent([...orderedArrayForApiContent])\n\n          if (serverSideCode.length === 0) setServerSideCode(lookerResponseData.code);\n        })\n      }\n\n    })\n  }\n\n  /**\n   * update dashboard when custom filter changed\n  */\n  const customFilterAction = (dashboardId, filterName, newFilterValue) => {\n    if (Object.keys(dashboardObj).length) {\n      dashboardObj.updateFilters({ [filterName]: newFilterValue })\n      dashboardObj.run()\n    }\n  }\n\n  // const drillMenuClick = (event) => {\n\n  //   const basicLookerUser = lookerUser.user_attributes.permission_level === 'basic' ? true : false;\n  //   if (basicLookerUser) {\n  //     togglePayWallModal()\n  //     return { cancel: (basicLookerUser) ? true : false }\n  //   }\n  // }\n\n  const changeHeight = (event) => {\n    // console.log('changeHeight')\n    // console.log('event', event)\n  }\n\n  /**\n   * What this return  does:\n   * Rendering of actual html elements,\n   * this section is necessary but less relevant to looker functionality itself\n   */\n\n  // console.log('apiContent', apiContent)\n\n  return (\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\n      <Card elevation={1} className={`${classes.padding30} `}>\n        <Grid container spacing={3}>\n          <div className={`${classes.root} ${classes.positionRelative}`}>\n\n            {lookerContent[0].hasOwnProperty(\"filters\") &&\n              apiContent.length === lookerContent[0].filters.length ?\n              <Grid item\n                sm={12}\n                key={validIdHelper(`${demoComponentType}-FilterBar-${lookerContent[0].id}`)}\n              >\n                <FilterBar {...props}\n                  classes={classes}\n                  apiContent={apiContent}\n                  customFilterAction={customFilterAction}\n                  regionValue={regionValue}\n                  setRegionValue={setRegionValue}\n                  toggleValue={toggleValue}\n                  handleToggle={handleToggle}\n                />\n              </Grid> :\n              lookerContent[0].hasOwnProperty(\"filters\") ?\n                <Skeleton variant=\"rect\" animation=\"wave\" className={classes.skeleton} /> :\n                ''}\n\n\n            {\n              iFrameExists\n                ? ''\n                :\n                <Grid item sm={12} >\n                  <Card className={`${classes.card} ${classes.flexCentered}`} elevation={0}>\n                    <CircularProgress className={classes.circularProgress} />\n                  </Card>\n                </Grid>\n            }\n            <Box\n              className={iFrameExists ? ` ` : `${classes.hidden} `}>\n              {codeShow ?\n                <Grid item sm={6}\n                  className={`${classes.positionTopRight}`}\n                >\n                  <CodeFlyout {...props}\n                    classes={classes}\n                    lookerUser={lookerUser} />\n                </Grid>\n                : ''}\n              <Grid item sm={12}>\n\n                <Box className={classes.w100} mt={lookerContent[0].filter || lookerContent[0].dynamicFieldLookUp ? 2 : 0}>\n\n\n                  <EmbedHighlight classes={classes}>\n                    <div\n                      className={`embedContainer ${validIdHelper(demoComponentType)}`}\n                      id={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent[0].id}`)}\n                      key={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent[0].id}`)}\n                    >\n                    </div>\n                  </EmbedHighlight>\n                </Box>\n              </Grid>\n            </Box>\n          </div>\n        </Grid>\n      </Card>\n    </div>\n  )\n}\n\n\n\n\nfunction FilterBar(props) {\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, classes,\n    apiContent, customFilterAction, regionValue, setRegionValue, toggleValue, handleToggle } = props;\n\n  const [expanded, setExpanded] = useState(true);\n\n  const handleExpansionPanel = (event, newValue) => {\n    setExpanded(expanded ? false : true);\n  };\n  return (\n\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} className={classes.w100} elevation={0}>\n      <ExpansionPanelSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <Typography className={classes.heading}>Filter Data</Typography>\n\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        {\n          lookerContent[0].filters || lookerContent[0].dynamicFieldLookUp ?\n            <Grid\n              container>\n              {apiContent.map((item, index) => {\n                return (\n                  lookerContent[0].filterComponents[index] === 'autocomplete' ?\n                    <ApiHighlight classes={classes}\n                      key={validIdHelper(`dashEmbed-${type}${lookerContent.id}-${index}`)} >\n                      <Grid item sm={6}>\n                        <Autocomplete\n                          id={`combo-box-dashboard-${lookerContent.id}`}\n                          options={Array.isArray(apiContent[index]) ?\n                            apiContent[index] :\n                            []}\n                          renderOption={(option) => (\n                            <Grid container justify=\"space-between\">\n                              <Grid item>\n                                {option.label}\n                              </Grid>\n                              {option.trend && <Grid item>\n                                <NumberToColoredPercent\n                                  val={option.trend}\n                                  positive_good={true}\n                                  abs_val={Math.abs(option.trend)}\n                                />\n                              </Grid>}\n                            </Grid>\n                          )}\n                          getOptionLabel={(option) => option.label}\n                          style={{ width: 400 }}\n                          onChange={(event, newValue) => {\n                            customFilterAction(lookerContent[0].id,\n                              lookerContent[0].filters[index].filterName,\n                              (newValue) ? newValue.label : '')\n                          }}\n                          renderInput={(params) => <TextField {...params} label={lookerContent[0].filters[index].filterName} variant=\"outlined\" />}\n                          loadingText=\"Loading...\"\n                        />\n                      </Grid>\n                    </ApiHighlight>\n                    : lookerContent[0].filterComponents[index] === 'togglebutton' ?\n\n                      <ApiHighlight classes={classes}\n                        key={validIdHelper(`dashEmbed-${type}${lookerContent.id}-${index}`)} >\n                        <Grid item sm={12}>\n                          <ToggleButtonGroup\n                            value={regionValue}\n                            exclusive\n                            onChange={(event, newValue) => {\n                              setRegionValue(newValue)\n                              customFilterAction(lookerContent[0].id,\n                                lookerContent[0].filters[index].filterName,\n                                (newValue) ? newValue : '')\n                            }}\n                            aria-label=\"region\"\n                          >\n                            {apiContent[index].map((region, index) => {\n                              return (\n                                <ToggleButton\n                                  key={validIdHelper(`${type}-FilterBar-ToggleButton-${lookerContent[0].id}-${index}`)}\n                                  value={region.label} aria-label={region.label}>\n                                  {region.label}\n                                </ToggleButton>\n                              )\n                            })}\n                          </ToggleButtonGroup>\n                        </Grid>\n                      </ApiHighlight>\n                      : 'ooooopppp')\n              })}\n              <Grid item sm={1} />\n              {lookerContent[0].dynamicFieldLookUp ?\n                <EmbedHighlight classes={classes} >\n                  <Grid item sm={5}>\n                    <ToggleButtonGroup\n                      value={toggleValue}\n                      exclusive\n                      onChange={handleToggle}\n                      aria-label=\"text alignment\"\n                    >\n                      {Object.keys(lookerContent[0].dynamicFieldLookUp).map(key => {\n                        return (\n                          <ToggleButton\n                            key={validIdHelper(`dynamicDashToggle-${key}`)}\n                            value={key} aria-label=\"left aligned\">\n                            {key}\n                          </ToggleButton>\n                        )\n                      })}\n                    </ToggleButtonGroup>\n                  </Grid>\n                </EmbedHighlight>\n                : ''\n              }\n            </Grid> : ''\n        }\n      </ExpansionPanelDetails>\n    </ExpansionPanel >\n  )\n}","export default \"import $ from 'jquery';\\nimport _ from 'lodash'\\nimport React, { useState, useEffect, useContext } from 'react';\\nimport {\\n  AppBar, Tabs, Tab, Typography, Box, Grid, CircularProgress, Card, TextField, Toolbar, FormControlLabel, Switch, Chip,\\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails\\n} from '@material-ui/core'\\nimport { Autocomplete, ToggleButton, ToggleButtonGroup, Skeleton } from '@material-ui/lab'\\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\\nimport CodeFlyout from '../CodeFlyout';\\nimport rawSampleCode from '!!raw-loader!./Dashboard.js'; // eslint-disable-line import/no-webpack-loader-syntax\\nimport useStyles from './styles.js';\\nimport { TabPanel, a11yProps } from './helpers.js';\\nimport BottomBar from '../../Material/BottomBar.js'\\nimport { ApiHighlight, EmbedHighlight } from '../../Highlights/Highlight';\\nimport { NumberToColoredPercent } from '../../Accessories/NumberToColoredPercent';\\nimport AppContext from '../../../AppContext';\\nconst { validIdHelper } = require('../../../tools');\\n\\n//start of Dashboard Component\\nexport default function Dashboard(props) {\\n  // console.log('Dashboard')\\n  //initialize state using hooks\\n  const [value, setValue] = useState(0);\\n  const [iFrameExists, setIFrame] = useState(0);\\n  const [apiContent, setApiContent] = useState([]);\\n  const [dashboardObj, setDashboardObj] = useState({});\\n  const [clientSideCode, setClientSideCode] = useState('');\\n  const [serverSideCode, setServerSideCode] = useState('');\\n  const [toggleValue, setToggleValue] = useState('');\\n  const [dashboardLayout, setDashboardLayout] = useState({});\\n  const [regionValue, setRegionValue] = useState('All');\\n  // const { togglePayWallModal } = useContext(AppContext)\\n  const { toggleShow } = useContext(AppContext)\\n  const { show } = useContext(AppContext)\\n  const { codeShow, toggleCodeShow } = useContext(AppContext)\\n\\n  //declare constants\\n  const classes = useStyles();\\n  const { staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange, lookerUser, lookerHost } = props;\\n  const demoComponentType = type || 'code flyout';\\n\\n  //handle tab change\\n  const handleChange = (event, newValue) => {\\n    handleTabChange(0);\\n    setValue(newValue);\\n  };\\n\\n  const handleToggle = (event, newValue) => {\\n    setToggleValue(newValue)\\n    const filteredLayout = _.filter(dashboardLayout.dashboard_layout_components, (row) => {\\n      return (lookerContent[0].dynamicFieldLookUp[newValue].indexOf(row.dashboard_element_id) > -1)\\n    })\\n    const newDashboardLayout = {\\n      ...dashboardLayout,\\n      dashboard_layout_components: filteredLayout\\n    }\\n    dashboardObj.setOptions({ \\\"layouts\\\": [newDashboardLayout] })\\n  };\\n\\n  /**\\n   * listen for lookerContent and call \\n   * performLookerApiCalls and setSampleCode\\n  */\\n  useEffect(() => {\\n    setTimeout(() => performLookerApiCalls([...lookerContent]), 1000)\\n    setClientSideCode(rawSampleCode)\\n  }, [lookerContent, lookerUser]);\\n\\n\\n  useEffect(() => {\\n    if (Object.keys(dashboardLayout).length && Object.keys(dashboardObj).length && lookerContent[0].dynamicFieldLookUp) {\\n      handleToggle(null, Object.keys(lookerContent[0].dynamicFieldLookUp)[0])\\n    }\\n  }, [dashboardLayout]);\\n\\n  /** \\n   * What this function does:\\n   * iterate over Looker Content array referenced above and\\n   * calls specific endpoints and methods available from Looker Node SDK\\n   * and embed SDK to create the experience on this page\\n   */\\n  const performLookerApiCalls = function (lookerContent) {\\n    // console.log('performLookerApiCalls')\\n    $(`.embedContainer.${validIdHelper(demoComponentType)}:visible`).html('')\\n    setIFrame(0)\\n    setApiContent([])\\n    lookerContent.map(async lookerContent => {\\n      let dashboardId = lookerContent.id;\\n      // let dashboardSlug = lookerContent.slug;\\n\\n      LookerEmbedSDK.createDashboardWithId(dashboardId) //dashboardSlug\\n        .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${dashboardId}`))\\n        .withClassName('iframe')\\n        .withNext()\\n        // .withNext(lookerContent.isNext || false) //how can I make this dynamic based on prop??\\n        .withTheme(lookerContent.theme || 'atom_fashion')\\n        .withParams({ 'schedule_modal': 'true' })\\n        .on('page:property:change', (event) => {\\n          // console.log('page property is changing!!!!')\\n          changeHeight(event)\\n        }) // dashboards-next\\n        .on('dashboard:loaded', (event) => {\\n          setDashboardLayout(event.dashboard.options.layouts[0])\\n        })\\n        // .on('drillmenu:click', (event) => {\\n        //   drillMenuClick(event)\\n        // })\\n        .build()\\n        .connect()\\n        .then((dashboard) => {\\n          setIFrame(1)\\n          setDashboardObj(dashboard)\\n          LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\\n\\n        })\\n        .catch((error) => {\\n          // console.error('Connection error', error)\\n        })\\n\\n      if (lookerContent.hasOwnProperty('filters')) {\\n        //get inline query from usecase file & set user attribute dynamically\\n\\n        //iterating over filters\\n        let orderedArrayForApiContent = []\\n        lookerContent.filters.map(async (item, index) => {\\n          // console.log('item', item)\\n          let jsonQuery = lookerContent.inlineQueries[index];\\n          jsonQuery.filters = {\\n            ...jsonQuery.filters,\\n            [item.desiredFilterName]: lookerUser.user_attributes.brand\\n          };\\n          // lookerContent.inlineQueries[index] = jsonQuery;\\n          let stringifiedQuery = encodeURIComponent(JSON.stringify(jsonQuery))\\n          let lookerResponse = await fetch('/runinlinequery/' + stringifiedQuery + '/json', {\\n            method: 'GET',\\n            headers: {\\n              Accept: 'application/json',\\n              'Content-Type': 'application/json'\\n            }\\n          })\\n          let lookerResponseData = await lookerResponse.json();\\n          let queryResultsForDropdown = [];\\n          let desiredProperty = Object.keys(lookerResponseData.queryResults[0])[0];\\n\\n          for (let i = 0; i < lookerResponseData.queryResults.length; i++) {\\n            queryResultsForDropdown.push({\\n              'label': lookerResponseData.queryResults[i][desiredProperty],\\n              'trend': (lookerResponseData.queryResults[i]['trend']) ? lookerResponseData.queryResults[i]['trend'] : undefined\\n            })\\n          }\\n\\n\\n          // setApiContent(apiContent => {\\n          //   return [...apiContent, queryResultsForDropdown]\\n          // });\\n          //needed solution for ordering apiContent to match order\\n          //of content from usecaseContent\\n          orderedArrayForApiContent[index] = queryResultsForDropdown\\n          setApiContent([...orderedArrayForApiContent])\\n\\n          if (serverSideCode.length === 0) setServerSideCode(lookerResponseData.code);\\n        })\\n      }\\n\\n    })\\n  }\\n\\n  /**\\n   * update dashboard when custom filter changed\\n  */\\n  const customFilterAction = (dashboardId, filterName, newFilterValue) => {\\n    if (Object.keys(dashboardObj).length) {\\n      dashboardObj.updateFilters({ [filterName]: newFilterValue })\\n      dashboardObj.run()\\n    }\\n  }\\n\\n  // const drillMenuClick = (event) => {\\n\\n  //   const basicLookerUser = lookerUser.user_attributes.permission_level === 'basic' ? true : false;\\n  //   if (basicLookerUser) {\\n  //     togglePayWallModal()\\n  //     return { cancel: (basicLookerUser) ? true : false }\\n  //   }\\n  // }\\n\\n  const changeHeight = (event) => {\\n    // console.log('changeHeight')\\n    // console.log('event', event)\\n  }\\n\\n  /**\\n   * What this return  does:\\n   * Rendering of actual html elements,\\n   * this section is necessary but less relevant to looker functionality itself\\n   */\\n\\n  // console.log('apiContent', apiContent)\\n\\n  return (\\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\\n      <Card elevation={1} className={`${classes.padding30} `}>\\n        <Grid container spacing={3}>\\n          <div className={`${classes.root} ${classes.positionRelative}`}>\\n\\n            {lookerContent[0].hasOwnProperty(\\\"filters\\\") &&\\n              apiContent.length === lookerContent[0].filters.length ?\\n              <Grid item\\n                sm={12}\\n                key={validIdHelper(`${demoComponentType}-FilterBar-${lookerContent[0].id}`)}\\n              >\\n                <FilterBar {...props}\\n                  classes={classes}\\n                  apiContent={apiContent}\\n                  customFilterAction={customFilterAction}\\n                  regionValue={regionValue}\\n                  setRegionValue={setRegionValue}\\n                  toggleValue={toggleValue}\\n                  handleToggle={handleToggle}\\n                />\\n              </Grid> :\\n              lookerContent[0].hasOwnProperty(\\\"filters\\\") ?\\n                <Skeleton variant=\\\"rect\\\" animation=\\\"wave\\\" className={classes.skeleton} /> :\\n                ''}\\n\\n\\n            {\\n              iFrameExists\\n                ? ''\\n                :\\n                <Grid item sm={12} >\\n                  <Card className={`${classes.card} ${classes.flexCentered}`} elevation={0}>\\n                    <CircularProgress className={classes.circularProgress} />\\n                  </Card>\\n                </Grid>\\n            }\\n            <Box\\n              className={iFrameExists ? ` ` : `${classes.hidden} `}>\\n              {codeShow ?\\n                <Grid item sm={6}\\n                  className={`${classes.positionTopRight}`}\\n                >\\n                  <CodeFlyout {...props}\\n                    classes={classes}\\n                    lookerUser={lookerUser} />\\n                </Grid>\\n                : ''}\\n              <Grid item sm={12}>\\n\\n                <Box className={classes.w100} mt={lookerContent[0].filter || lookerContent[0].dynamicFieldLookUp ? 2 : 0}>\\n\\n\\n                  <EmbedHighlight classes={classes}>\\n                    <div\\n                      className={`embedContainer ${validIdHelper(demoComponentType)}`}\\n                      id={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent[0].id}`)}\\n                      key={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent[0].id}`)}\\n                    >\\n                    </div>\\n                  </EmbedHighlight>\\n                </Box>\\n              </Grid>\\n            </Box>\\n          </div>\\n        </Grid>\\n      </Card>\\n    </div>\\n  )\\n}\\n\\n\\n\\n\\nfunction FilterBar(props) {\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, classes,\\n    apiContent, customFilterAction, regionValue, setRegionValue, toggleValue, handleToggle } = props;\\n\\n  const [expanded, setExpanded] = useState(true);\\n\\n  const handleExpansionPanel = (event, newValue) => {\\n    setExpanded(expanded ? false : true);\\n  };\\n  return (\\n\\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} className={classes.w100} elevation={0}>\\n      <ExpansionPanelSummary\\n        expandIcon={<ExpandMoreIcon />}\\n        aria-controls=\\\"panel1a-content\\\"\\n        id=\\\"panel1a-header\\\"\\n      >\\n        <Typography className={classes.heading}>Filter Data</Typography>\\n\\n      </ExpansionPanelSummary>\\n      <ExpansionPanelDetails>\\n        {\\n          lookerContent[0].filters || lookerContent[0].dynamicFieldLookUp ?\\n            <Grid\\n              container>\\n              {apiContent.map((item, index) => {\\n                return (\\n                  lookerContent[0].filterComponents[index] === 'autocomplete' ?\\n                    <ApiHighlight classes={classes}\\n                      key={validIdHelper(`dashEmbed-${type}${lookerContent.id}-${index}`)} >\\n                      <Grid item sm={6}>\\n                        <Autocomplete\\n                          id={`combo-box-dashboard-${lookerContent.id}`}\\n                          options={Array.isArray(apiContent[index]) ?\\n                            apiContent[index] :\\n                            []}\\n                          renderOption={(option) => (\\n                            <Grid container justify=\\\"space-between\\\">\\n                              <Grid item>\\n                                {option.label}\\n                              </Grid>\\n                              {option.trend && <Grid item>\\n                                <NumberToColoredPercent\\n                                  val={option.trend}\\n                                  positive_good={true}\\n                                  abs_val={Math.abs(option.trend)}\\n                                />\\n                              </Grid>}\\n                            </Grid>\\n                          )}\\n                          getOptionLabel={(option) => option.label}\\n                          style={{ width: 400 }}\\n                          onChange={(event, newValue) => {\\n                            customFilterAction(lookerContent[0].id,\\n                              lookerContent[0].filters[index].filterName,\\n                              (newValue) ? newValue.label : '')\\n                          }}\\n                          renderInput={(params) => <TextField {...params} label={lookerContent[0].filters[index].filterName} variant=\\\"outlined\\\" />}\\n                          loadingText=\\\"Loading...\\\"\\n                        />\\n                      </Grid>\\n                    </ApiHighlight>\\n                    : lookerContent[0].filterComponents[index] === 'togglebutton' ?\\n\\n                      <ApiHighlight classes={classes}\\n                        key={validIdHelper(`dashEmbed-${type}${lookerContent.id}-${index}`)} >\\n                        <Grid item sm={12}>\\n                          <ToggleButtonGroup\\n                            value={regionValue}\\n                            exclusive\\n                            onChange={(event, newValue) => {\\n                              setRegionValue(newValue)\\n                              customFilterAction(lookerContent[0].id,\\n                                lookerContent[0].filters[index].filterName,\\n                                (newValue) ? newValue : '')\\n                            }}\\n                            aria-label=\\\"region\\\"\\n                          >\\n                            {apiContent[index].map((region, index) => {\\n                              return (\\n                                <ToggleButton\\n                                  key={validIdHelper(`${type}-FilterBar-ToggleButton-${lookerContent[0].id}-${index}`)}\\n                                  value={region.label} aria-label={region.label}>\\n                                  {region.label}\\n                                </ToggleButton>\\n                              )\\n                            })}\\n                          </ToggleButtonGroup>\\n                        </Grid>\\n                      </ApiHighlight>\\n                      : 'ooooopppp')\\n              })}\\n              <Grid item sm={1} />\\n              {lookerContent[0].dynamicFieldLookUp ?\\n                <EmbedHighlight classes={classes} >\\n                  <Grid item sm={5}>\\n                    <ToggleButtonGroup\\n                      value={toggleValue}\\n                      exclusive\\n                      onChange={handleToggle}\\n                      aria-label=\\\"text alignment\\\"\\n                    >\\n                      {Object.keys(lookerContent[0].dynamicFieldLookUp).map(key => {\\n                        return (\\n                          <ToggleButton\\n                            key={validIdHelper(`dynamicDashToggle-${key}`)}\\n                            value={key} aria-label=\\\"left aligned\\\">\\n                            {key}\\n                          </ToggleButton>\\n                        )\\n                      })}\\n                    </ToggleButtonGroup>\\n                  </Grid>\\n                </EmbedHighlight>\\n                : ''\\n              }\\n            </Grid> : ''\\n        }\\n      </ExpansionPanelDetails>\\n    </ExpansionPanel >\\n  )\\n}\";","import React, { useState, useEffect } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Card from '@material-ui/core/Card';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nconst { validIdHelper, prettifyString } = require('../../tools');\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 800,\n    maxHeight: 450,\n    overflow: 'scroll',\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  table: {\n    maxHeight: 310\n  },\n  card: {\n    minWidth: 275,\n    minHeight: '10rem',\n    boxShadow: 'none'\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n}));\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\nfunction getModalStyle() {\n  const top = 10 //+ rand();\n  const left = 50 //+ rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${left}%, -${top}%)`,\n  };\n}\n\nexport default function ModalTable(props) {\n  // console.log('ModalTable')\n  // console.log('props', props)\n\n  const classes = useStyles();\n  const { open, onClose, modalContent } = props;\n  const [modalStyle] = React.useState(getModalStyle);\n\n\n  return (\n    <Modal\n      open={open}\n      onClose={onClose}\n      aria-labelledby=\"simple-modal-title\"\n      aria-describedby=\"simple-modal-description\"\n    >\n\n      <div style={modalStyle} className={classes.paper}>\n        <h2 id=\"simple-modal-title\">{modalContent.title}</h2>\n        {modalContent.body ?\n          <TableContainer component={Paper} className={classes.table}>\n            <Table stickyHeader className={classes.table} size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  {Object.keys(modalContent.body[0]).map((key, index) => (\n                    <TableCell align=\"right\"\n                      key={validIdHelper(key + '-TableHead-TableCell-' + index)}\n                      id={validIdHelper(key + '-TableHead-TableCell-' + index)}>\n                      {prettifyString(key.substring(key.lastIndexOf('.') + 1, key.length))}</TableCell>\n\n\n                  ))}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {modalContent.body.map((item, index) => (\n\n                  <TableRow\n                    key={validIdHelper('TableRow-' + index)}\n                    id={validIdHelper('TableRow-' + index)} >\n                    {\n                      Object.keys(item).map(key => (\n                        <TableCell align=\"right\"\n                          key={validIdHelper(key + '-TableBody-TableCell-' + index)}\n                          id={validIdHelper(key + '-TableBody-TableCell-' + index)}>\n                          {\n                            modalContent.body[index][key] ?\n                              modalContent.body[index][key].rendered ?\n                                modalContent.body[index][key].rendered :\n                                modalContent.body[index][key].value ?\n                                  modalContent.body[index][key].value :\n                                  typeof modalContent.body[index][key] === 'number' ?\n                                    (Math.round(modalContent.body[index][key] * 100) / 100)//.toLocaleString()\n                                    :\n                                    modalContent.body[index][key] //.toLocaleString() \n                              :\n                              ''\n                          }\n                        </TableCell>\n                      ))\n                    }\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer >\n          :\n\n          <Card className={`${classes.card} ${classes.flexCentered}`}>\n            <CircularProgress className={classes.circularProgress} />\n          </Card>}\n\n      </div >\n    </Modal >\n  )\n}","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    // position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  card: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  height500: {\n    height: 500\n  },\n  height600: {\n    height: 600\n  },\n  height700: {\n    height: 700\n  },\n  height800: {\n    height: 800\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  skeleton: {\n    height: 160,\n    width: '100%'\n  },\n  padding30: {\n    padding: 30\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  }\n}));","import _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport {\n  AppBar, Tabs, Tab, Typography, Box, Grid, CircularProgress, Card, TextField,\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, Divider, InputLabel, MenuItem,\n  FormControl, Select, Modal\n} from '@material-ui/core'\nimport { Skeleton } from '@material-ui/lab';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ModalTable from '../../Material/ModalTable';\nimport { ResponsiveCalendar } from '@nivo/calendar'\nimport CodeFlyout from '../CodeFlyout';\nimport rawSampleCode from '!!raw-loader!./CustomVis.js'; // eslint-disable-line import/no-webpack-loader-syntax\nimport useStyles from './styles.js';\nimport { TabPanel, a11yProps } from './helpers.js';\nimport { ApiHighlight } from '../../Highlights/Highlight';\n\n//new date pickers\nimport { format, endOfDay, addDays } from 'date-fns';\n// import React from 'react';\n// import Grid from '@material-ui/core/Grid';\nimport DateFnsUtils from '@date-io/date-fns';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\n\nimport AppContext from '../../../AppContext';\nconst { validIdHelper } = require('../../../tools');\n\n//start of Custom Viz Calendar Component\nexport default function CustomVis(props) {\n  // console.log('CustomVis')\n  //initialize state using hooks\n  const [value, setValue] = useState(0);\n  const [fromDate, setFromDate] = useState('');\n  const [toDate, setToDate] = useState('');\n  const [category, setCategory] = useState('All')\n  const [desiredField, setDesiredField] = useState('')\n  const [apiContent, setApiContent] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const [modalContent, setModalContent] = useState({});\n  const [clientSideCode, setClientSideCode] = useState('');\n  const [serverSideCode, setServerSideCode] = useState('');\n\n  const { togglePayWallModal, show, codeShow } = useContext(AppContext)\n\n  //declare constants\n  const classes = useStyles();\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange, lookerUser, lookerHost } = props;\n  // const codeTab = {\n  //   type: 'code flyout', label: 'Code', id: 'codeFlyout',\n  //   lookerContent, lookerUser, clientSideCode, serverSideCode\n  // }\n  // const tabContent = [...lookerContent, codeTab]\n  // const demoComponentType = type || 'code flyout';\n\n  //handle opening of modal for advanced and premium users\n  const handleModalOpen = async ({ day }) => {\n    let originalInlineQueryCopy = JSON.parse(JSON.stringify(lookerContent[0].inlineQuery));\n    originalInlineQueryCopy.filters = {\n      ...originalInlineQueryCopy.filters,\n      [originalInlineQueryCopy.fields[0]]: day,\n      [originalInlineQueryCopy.fields[1]]: category === \"All\" ? '' : category\n    }\n    originalInlineQueryCopy.total = true;\n    originalInlineQueryCopy.limit = \"25\";\n\n    setOpen(true);\n    let lookerResponse = await fetch('/runinlinequery/' + encodeURIComponent(JSON.stringify(originalInlineQueryCopy)) + '/json', {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n    let lookerResponseData = await lookerResponse.json();\n    let modalObj = {\n      \"title\": `Detail View for ${day}`,\n      \"body\": lookerResponseData.queryResults\n    }\n    setModalContent(modalObj);\n  };\n\n  //handle modal close\n  const handleModalClose = () => {\n    setModalContent({})\n    setOpen(false);\n  };\n\n  //handle tab change\n  const handleChange = (event, newValue) => {\n    handleTabChange(0);\n    setValue(newValue);\n  };\n\n  const handleFromDate = newValue => {\n    let validDate = Date.parse(newValue);\n    if (validDate > 0) {\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\n      setFromDate(newValueAsDate);\n    }\n  }\n  const handleToDate = newValue => {\n    let validDate = Date.parse(newValue);\n    if (validDate > 0) {\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\n      setToDate(newValueAsDate);\n    }\n  }\n  const handleCategory = newValue => {\n    setCategory(newValue)\n  }\n  const handleDesiredField = newValue => {\n    setDesiredField(newValue)\n  }\n\n  //format response from initial api call based on LookerContent array\n  //to match format required by Nivo Calendar component\n  let filterData = [];\n  if (apiContent.queryResults && apiContent.queryResults) {\n    //filtering for fromDate, toDate and category\n    filterData = _.filter(apiContent.queryResults, (row) => {\n      return (row[apiContent.inlineQuery.fields[0]] >= fromDate\n        && row[apiContent.inlineQuery.fields[0]] < toDate\n        && (category === 'All' ? true : row[apiContent.inlineQuery.fields[1]] === category)\n      )\n    })\n    //converting filterDAta to desired format for vis\n    filterData = filterData.map(item => {\n      return {\n        'day': item[apiContent.inlineQuery.fields[0]],\n        'category': item[apiContent.inlineQuery.fields[1]],\n        'value': item[desiredField]\n      }\n    })\n\n    //special exception for category all\n    //need to reduce array by day across categories\n    //destructuing in reduce of value would not work for dynamic var\n    if (category === 'All') {\n      //create array of all unique dates\n      const uniqueDates = [...new Set(filterData.map(item => item.day))];\n      let filteredAndReducedForAll = []\n      //iterate over unique date\n      uniqueDates.map(uniqueDate => {\n        //filter filterData for current unique date\n        let value = _.filter(filterData, row => {\n          return row.day === uniqueDate\n        }).reduce((acc, { value }) => acc + value, 0)\n        let thisObj = {\n          day: uniqueDate,\n          value: value,\n          category: 'All'\n        }\n        filteredAndReducedForAll.push(thisObj)\n\n      })\n      filterData = filteredAndReducedForAll;\n    }\n  }\n\n  /**\n   * listen for lookerContent and call \n   * performLookerApiCalls and setSampleCode\n  */\n  useEffect(() => {\n    if (lookerContent.length) {\n      setTimeout(() => performLookerApiCalls(lookerContent), 100);\n      setDesiredField(lookerContent[0].desiredFields[0])\n      setClientSideCode(rawSampleCode)\n    }\n  }, [lookerContent, lookerUser])\n\n  /** \n   * What this function does:\n   * iterate over Looker Content array referenced above and\n   * calls specific endpoints and methods available from Looker Node SDK\n   * and embed SDK to create the experience on this page\n   */\n  const performLookerApiCalls = function (lookerContent) {\n    setApiContent([]); //set to empty array to show progress bar and skeleton\n    lookerContent.map(async lookerContent => {\n      let inlineQuery = lookerContent.inlineQuery;\n      inlineQuery.filters = {\n        // ...inlineQuery.filters,\n        // [Object.keys(inlineQuery.filters)[0]]: lookerUser.user_attributes.time_horizon,\n        [lookerContent.desiredFilterName]: lookerUser.user_attributes.brand\n      };\n      let stringifiedQuery = encodeURIComponent(JSON.stringify(inlineQuery));\n      // console.log('stringifiedQuery', stringifiedQuery)\n      let lookerResponse = await fetch(`/runinlinequery/${stringifiedQuery}/${lookerContent.resultFormat}`, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      })\n      let lookerResponseData = await lookerResponse.json();\n      // console.log('lookerResponseData', lookerResponseData)\n      lookerResponseData.queryResults = lookerResponseData.queryResults.filter(item => {\n        return item[inlineQuery.fields[0]]\n      })\n      let uniqueCategories = ['All'];\n      for (let i = 0; i < lookerResponseData.queryResults.length; i++) {\n        if (uniqueCategories.indexOf(lookerResponseData.queryResults[i][inlineQuery.fields[1]]) === -1) {\n          uniqueCategories.push(lookerResponseData.queryResults[i][inlineQuery.fields[1]])\n        }\n      }\n      lookerResponseData.inlineQuery = inlineQuery;\n      lookerResponseData.uniqueCategories = uniqueCategories;\n      setFromDate(lookerResponseData.queryResults[lookerResponseData.queryResults.length - 1][lookerResponseData.inlineQuery.fields[0]]);\n      setToDate(incrementDate(lookerResponseData.queryResults[0][lookerResponseData.inlineQuery.fields[0]], 1));\n      setApiContent(lookerResponseData)\n      if (serverSideCode.length === 0) setServerSideCode(lookerResponseData.code);\n    })\n  }\n\n  let redToBlueColorScale = ['#0302FC', '#2A00D5', '#63009E', '#A1015D', '#D80027', '#FE0002'];\n  let yellowToGreenColorScale = ['#FEFE69', '#DDF969', '#A9F36A', '#A1015D', '#78EC6C', '#57E86B'];\n  let nivoColorScale = ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560']\n  let googleColorScale = ['#4595EC', '#F3A759', '#E24E3A', '#65AB5A'];\n\n  return (\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\n      <Card elevation={1} className={`${classes.padding30} `}>\n        <Grid container\n          spacing={3}\n          key={validIdHelper(type)} >\n          <div className={`${classes.root} ${classes.positionRelative}`}>\n\n            {!apiContent.queryResults ?\n              <Skeleton variant=\"rect\" animation=\"wave\" className={classes.skeleton} />\n              :\n              <FilterBar {...props}\n                classes={classes}\n                apiContent={apiContent}\n                fromDate={fromDate}\n                toDate={toDate}\n                category={category}\n                desiredField={desiredField}\n                handleFromDate={handleFromDate}\n                handleToDate={handleToDate}\n                handleCategory={handleCategory}\n                handleDesiredField={handleDesiredField}\n              />\n            }\n\n\n            {!apiContent.queryResults ?\n              <Grid item sm={12} >\n                <Card className={`${classes.card} ${classes.flexCentered}`} elevation={0}>\n                  <CircularProgress className={classes.circularProgress} />\n                </Card>\n              </Grid>\n\n              : apiContent.queryResults && apiContent.queryResults.length ?\n\n                <Box\n                  className={``}>\n                  <Grid container>\n                    {codeShow ? <Grid item sm={6}\n                      className={`${classes.positionTopRight}`}\n                    >\n                      <CodeFlyout {...props}\n                        classes={classes}\n                        lookerUser={lookerUser} />\n                    </Grid> : ''}\n                    <Divider className={classes.divider} />\n                    <Grid item sm={12} className={classes.height600}>\n\n                      <Box className={classes.w100} mt={2}>\n\n                        <ApiHighlight height={400} classes={classes}>\n                          <ResponsiveCalendar\n                            data={filterData}\n                            align=\"top\"\n                            from={incrementDate(fromDate, 1)}\n                            to={incrementDate(toDate, 1)}\n                            emptyColor=\"#eeeeee\"\n                            colors={desiredField === lookerContent[0].desiredFields[0] ? googleColorScale : nivoColorScale}\n                            yearSpacing={40}\n                            monthBorderColor=\"#ffffff\"\n                            dayBorderWidth={2}\n                            dayBorderColor=\"#ffffff\"\n                            margin={{ bottom: 40, left: 40 }}\n                            legends={[\n                              {\n                                anchor: 'bottom-right',\n                                direction: 'row',\n                                translateY: 36,\n                                itemCount: 4,\n                                itemWidth: 42,\n                                itemHeight: 36,\n                                itemsSpacing: 14,\n                                itemDirection: 'right-to-left'\n                              }\n                            ]}\n                            onClick={(day, event) => {\n                              if (!day.value) {\n                              } else if (lookerUser.user_attributes.permission_level === 'basic') {\n                                togglePayWallModal({\n                                  'show': true,\n                                  'permissionNeeded': 'see_drill_overlay'\n                                });\n                              } else {\n                                handleModalOpen(day)\n                                event.stopPropagation();\n                              }\n                            }}\n                          />\n                        </ApiHighlight>\n                      </Box>\n                    </Grid>\n                  </Grid>\n                </Box> :\n                ''\n            }\n          </div>\n        </Grid >\n        {\n          open ?\n            <ModalTable\n              {...props}\n              open={open}\n              onClose={handleModalClose}\n              classes={classes}\n              modalContent={modalContent}\n            />\n\n            : ''\n        }\n      </Card>\n    </div >\n  )\n}\n//Filter Bar code\nfunction FilterBar(props) {\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, classes,\n    apiContent, fromDate, toDate, category, desiredField, handleFromDate, handleToDate, handleCategory, handleDesiredField } = props;\n\n  const [expanded, setExpanded] = useState(true);\n\n  const handleExpansionPanel = (event, newValue) => {\n    setExpanded(expanded ? false : true);\n  };\n\n  // console.log('FilterBar')\n  // console.log('fromDate', fromDate)\n  // console.log('toDate', toDate)\n\n  return (\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} className={classes.w100} elevation={0}>\n      <ExpansionPanelSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <Typography className={classes.heading}>Filter Data</Typography>\n\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <Grid container spacing={3}>\n          {apiContent.queryResults ?\n            <>\n              <Grid item sm={3}>\n\n                <ApiHighlight classes={classes}>\n                  <FormControl className={classes.formControl}>\n                    <InputLabel\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\n                    >\n                      Metric</InputLabel>\n                    <Select\n                      labelId={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-Select')}`}\n                      value={desiredField}\n                      onChange={(event) => handleDesiredField(event.target.value)}\n                    >\n                      {lookerContent[0].desiredFields.map((item, index) => (\n\n                        <MenuItem\n                          id={validIdHelper(`${item}-${index}`)}\n                          key={validIdHelper(`${item}-${index}`)}\n                          value={item}\n                        >{item.substring(item.lastIndexOf(\".\") + 1, item.length).split(\"_\").map(item => item.charAt(0).toUpperCase() + item.substring(1)).join(\" \")}</MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </ApiHighlight>\n              </Grid>\n              <Grid item sm={3}>\n                <ApiHighlight classes={classes}>\n                  <FormControl className={classes.formControl}>\n                    <InputLabel\n                      id={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\n                    >\n                      Category</InputLabel>\n                    <Select\n                      labelId={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\n                      id={`${validIdHelper(type + '-FilterBar-Category-Select')}`}\n                      value={category}\n                      onChange={(event) => handleCategory(event.target.value)}\n                    >\n                      {apiContent.uniqueCategories.map((item, index) => (\n\n                        <MenuItem\n                          id={validIdHelper(`${item}-${index}`)}\n                          key={validIdHelper(`${item}-${index}`)}\n                          value={item}>{item}</MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </ApiHighlight>\n              </Grid>\n\n              <Grid item sm={3}>\n\n                <ApiHighlight classes={classes}>\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <KeyboardDatePicker\n                      disableToolbar\n                      variant=\"inline\"\n                      format=\"MM/dd/yyyy\"\n                      margin=\"normal\"\n                      id=\"fromDate\"\n                      label=\"From date\"\n                      value={fromDate}\n                      onChange={handleFromDate}\n                      KeyboardButtonProps={{\n                        'aria-label': 'change date',\n                      }}\n                      minDate={fromDate}\n                      maxDate={toDate}\n                    />\n                  </MuiPickersUtilsProvider>\n                </ApiHighlight>\n              </Grid>\n              <Grid item sm={3}>\n                <ApiHighlight classes={classes}>\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <KeyboardDatePicker\n                      disableToolbar\n                      variant=\"inline\"\n                      format=\"MM/dd/yyyy\"\n                      margin=\"normal\"\n                      id=\"toDate\"\n                      label=\"To date\"\n                      value={toDate}\n                      onChange={handleToDate}\n                      KeyboardButtonProps={{\n                        'aria-label': 'change date',\n                      }}\n                      minDate={fromDate}\n                      maxDate={toDate}\n                    />\n                  </MuiPickersUtilsProvider>\n                </ApiHighlight>\n              </Grid>\n            </>\n            : ''}\n        </Grid>\n      </ExpansionPanelDetails>\n    </ExpansionPanel >\n  )\n}\n\nfunction incrementDate(dateInput, increment) {\n  var dateFormatTotime = new Date(dateInput);\n  var increasedDate = new Date(dateFormatTotime.getTime() + (increment * 86400000));\n  return increasedDate.toISOString().split('T')[0];\n}","export default \"import _ from 'lodash'\\nimport React, { useState, useEffect, useContext } from 'react';\\nimport {\\n  AppBar, Tabs, Tab, Typography, Box, Grid, CircularProgress, Card, TextField,\\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, Divider, InputLabel, MenuItem,\\n  FormControl, Select, Modal\\n} from '@material-ui/core'\\nimport { Skeleton } from '@material-ui/lab';\\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\\nimport ModalTable from '../../Material/ModalTable';\\nimport { ResponsiveCalendar } from '@nivo/calendar'\\nimport CodeFlyout from '../CodeFlyout';\\nimport rawSampleCode from '!!raw-loader!./CustomVis.js'; // eslint-disable-line import/no-webpack-loader-syntax\\nimport useStyles from './styles.js';\\nimport { TabPanel, a11yProps } from './helpers.js';\\nimport { ApiHighlight } from '../../Highlights/Highlight';\\n\\n//new date pickers\\nimport { format, endOfDay, addDays } from 'date-fns';\\n// import React from 'react';\\n// import Grid from '@material-ui/core/Grid';\\nimport DateFnsUtils from '@date-io/date-fns';\\nimport {\\n  MuiPickersUtilsProvider,\\n  KeyboardTimePicker,\\n  KeyboardDatePicker,\\n} from '@material-ui/pickers';\\n\\nimport AppContext from '../../../AppContext';\\nconst { validIdHelper } = require('../../../tools');\\n\\n//start of Custom Viz Calendar Component\\nexport default function CustomVis(props) {\\n  // console.log('CustomVis')\\n  //initialize state using hooks\\n  const [value, setValue] = useState(0);\\n  const [fromDate, setFromDate] = useState('');\\n  const [toDate, setToDate] = useState('');\\n  const [category, setCategory] = useState('All')\\n  const [desiredField, setDesiredField] = useState('')\\n  const [apiContent, setApiContent] = useState([]);\\n  const [open, setOpen] = React.useState(false);\\n  const [modalContent, setModalContent] = useState({});\\n  const [clientSideCode, setClientSideCode] = useState('');\\n  const [serverSideCode, setServerSideCode] = useState('');\\n\\n  const { togglePayWallModal, show, codeShow } = useContext(AppContext)\\n\\n  //declare constants\\n  const classes = useStyles();\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange, lookerUser, lookerHost } = props;\\n  // const codeTab = {\\n  //   type: 'code flyout', label: 'Code', id: 'codeFlyout',\\n  //   lookerContent, lookerUser, clientSideCode, serverSideCode\\n  // }\\n  // const tabContent = [...lookerContent, codeTab]\\n  // const demoComponentType = type || 'code flyout';\\n\\n  //handle opening of modal for advanced and premium users\\n  const handleModalOpen = async ({ day }) => {\\n    let originalInlineQueryCopy = JSON.parse(JSON.stringify(lookerContent[0].inlineQuery));\\n    originalInlineQueryCopy.filters = {\\n      ...originalInlineQueryCopy.filters,\\n      [originalInlineQueryCopy.fields[0]]: day,\\n      [originalInlineQueryCopy.fields[1]]: category === \\\"All\\\" ? '' : category\\n    }\\n    originalInlineQueryCopy.total = true;\\n    originalInlineQueryCopy.limit = \\\"25\\\";\\n\\n    setOpen(true);\\n    let lookerResponse = await fetch('/runinlinequery/' + encodeURIComponent(JSON.stringify(originalInlineQueryCopy)) + '/json', {\\n      method: 'GET',\\n      headers: {\\n        Accept: 'application/json',\\n        'Content-Type': 'application/json'\\n      }\\n    })\\n    let lookerResponseData = await lookerResponse.json();\\n    let modalObj = {\\n      \\\"title\\\": `Detail View for ${day}`,\\n      \\\"body\\\": lookerResponseData.queryResults\\n    }\\n    setModalContent(modalObj);\\n  };\\n\\n  //handle modal close\\n  const handleModalClose = () => {\\n    setModalContent({})\\n    setOpen(false);\\n  };\\n\\n  //handle tab change\\n  const handleChange = (event, newValue) => {\\n    handleTabChange(0);\\n    setValue(newValue);\\n  };\\n\\n  const handleFromDate = newValue => {\\n    let validDate = Date.parse(newValue);\\n    if (validDate > 0) {\\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\\n      setFromDate(newValueAsDate);\\n    }\\n  }\\n  const handleToDate = newValue => {\\n    let validDate = Date.parse(newValue);\\n    if (validDate > 0) {\\n      let newValueAsDate = format(addDays(new Date(newValue), 1), 'yyyy-MM-dd');\\n      setToDate(newValueAsDate);\\n    }\\n  }\\n  const handleCategory = newValue => {\\n    setCategory(newValue)\\n  }\\n  const handleDesiredField = newValue => {\\n    setDesiredField(newValue)\\n  }\\n\\n  //format response from initial api call based on LookerContent array\\n  //to match format required by Nivo Calendar component\\n  let filterData = [];\\n  if (apiContent.queryResults && apiContent.queryResults) {\\n    //filtering for fromDate, toDate and category\\n    filterData = _.filter(apiContent.queryResults, (row) => {\\n      return (row[apiContent.inlineQuery.fields[0]] >= fromDate\\n        && row[apiContent.inlineQuery.fields[0]] < toDate\\n        && (category === 'All' ? true : row[apiContent.inlineQuery.fields[1]] === category)\\n      )\\n    })\\n    //converting filterDAta to desired format for vis\\n    filterData = filterData.map(item => {\\n      return {\\n        'day': item[apiContent.inlineQuery.fields[0]],\\n        'category': item[apiContent.inlineQuery.fields[1]],\\n        'value': item[desiredField]\\n      }\\n    })\\n\\n    //special exception for category all\\n    //need to reduce array by day across categories\\n    //destructuing in reduce of value would not work for dynamic var\\n    if (category === 'All') {\\n      //create array of all unique dates\\n      const uniqueDates = [...new Set(filterData.map(item => item.day))];\\n      let filteredAndReducedForAll = []\\n      //iterate over unique date\\n      uniqueDates.map(uniqueDate => {\\n        //filter filterData for current unique date\\n        let value = _.filter(filterData, row => {\\n          return row.day === uniqueDate\\n        }).reduce((acc, { value }) => acc + value, 0)\\n        let thisObj = {\\n          day: uniqueDate,\\n          value: value,\\n          category: 'All'\\n        }\\n        filteredAndReducedForAll.push(thisObj)\\n\\n      })\\n      filterData = filteredAndReducedForAll;\\n    }\\n  }\\n\\n  /**\\n   * listen for lookerContent and call \\n   * performLookerApiCalls and setSampleCode\\n  */\\n  useEffect(() => {\\n    if (lookerContent.length) {\\n      setTimeout(() => performLookerApiCalls(lookerContent), 100);\\n      setDesiredField(lookerContent[0].desiredFields[0])\\n      setClientSideCode(rawSampleCode)\\n    }\\n  }, [lookerContent, lookerUser])\\n\\n  /** \\n   * What this function does:\\n   * iterate over Looker Content array referenced above and\\n   * calls specific endpoints and methods available from Looker Node SDK\\n   * and embed SDK to create the experience on this page\\n   */\\n  const performLookerApiCalls = function (lookerContent) {\\n    setApiContent([]); //set to empty array to show progress bar and skeleton\\n    lookerContent.map(async lookerContent => {\\n      let inlineQuery = lookerContent.inlineQuery;\\n      inlineQuery.filters = {\\n        // ...inlineQuery.filters,\\n        // [Object.keys(inlineQuery.filters)[0]]: lookerUser.user_attributes.time_horizon,\\n        [lookerContent.desiredFilterName]: lookerUser.user_attributes.brand\\n      };\\n      let stringifiedQuery = encodeURIComponent(JSON.stringify(inlineQuery));\\n      // console.log('stringifiedQuery', stringifiedQuery)\\n      let lookerResponse = await fetch(`/runinlinequery/${stringifiedQuery}/${lookerContent.resultFormat}`, {\\n        method: 'GET',\\n        headers: {\\n          Accept: 'application/json',\\n          'Content-Type': 'application/json'\\n        }\\n      })\\n      let lookerResponseData = await lookerResponse.json();\\n      // console.log('lookerResponseData', lookerResponseData)\\n      lookerResponseData.queryResults = lookerResponseData.queryResults.filter(item => {\\n        return item[inlineQuery.fields[0]]\\n      })\\n      let uniqueCategories = ['All'];\\n      for (let i = 0; i < lookerResponseData.queryResults.length; i++) {\\n        if (uniqueCategories.indexOf(lookerResponseData.queryResults[i][inlineQuery.fields[1]]) === -1) {\\n          uniqueCategories.push(lookerResponseData.queryResults[i][inlineQuery.fields[1]])\\n        }\\n      }\\n      lookerResponseData.inlineQuery = inlineQuery;\\n      lookerResponseData.uniqueCategories = uniqueCategories;\\n      setFromDate(lookerResponseData.queryResults[lookerResponseData.queryResults.length - 1][lookerResponseData.inlineQuery.fields[0]]);\\n      setToDate(incrementDate(lookerResponseData.queryResults[0][lookerResponseData.inlineQuery.fields[0]], 1));\\n      setApiContent(lookerResponseData)\\n      if (serverSideCode.length === 0) setServerSideCode(lookerResponseData.code);\\n    })\\n  }\\n\\n  let redToBlueColorScale = ['#0302FC', '#2A00D5', '#63009E', '#A1015D', '#D80027', '#FE0002'];\\n  let yellowToGreenColorScale = ['#FEFE69', '#DDF969', '#A9F36A', '#A1015D', '#78EC6C', '#57E86B'];\\n  let nivoColorScale = ['#61cdbb', '#97e3d5', '#e8c1a0', '#f47560']\\n  let googleColorScale = ['#4595EC', '#F3A759', '#E24E3A', '#65AB5A'];\\n\\n  return (\\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\\n      <Card elevation={1} className={`${classes.padding30} `}>\\n        <Grid container\\n          spacing={3}\\n          key={validIdHelper(type)} >\\n          <div className={`${classes.root} ${classes.positionRelative}`}>\\n\\n            {!apiContent.queryResults ?\\n              <Skeleton variant=\\\"rect\\\" animation=\\\"wave\\\" className={classes.skeleton} />\\n              :\\n              <FilterBar {...props}\\n                classes={classes}\\n                apiContent={apiContent}\\n                fromDate={fromDate}\\n                toDate={toDate}\\n                category={category}\\n                desiredField={desiredField}\\n                handleFromDate={handleFromDate}\\n                handleToDate={handleToDate}\\n                handleCategory={handleCategory}\\n                handleDesiredField={handleDesiredField}\\n              />\\n            }\\n\\n\\n            {!apiContent.queryResults ?\\n              <Grid item sm={12} >\\n                <Card className={`${classes.card} ${classes.flexCentered}`} elevation={0}>\\n                  <CircularProgress className={classes.circularProgress} />\\n                </Card>\\n              </Grid>\\n\\n              : apiContent.queryResults && apiContent.queryResults.length ?\\n\\n                <Box\\n                  className={``}>\\n                  <Grid container>\\n                    {codeShow ? <Grid item sm={6}\\n                      className={`${classes.positionTopRight}`}\\n                    >\\n                      <CodeFlyout {...props}\\n                        classes={classes}\\n                        lookerUser={lookerUser} />\\n                    </Grid> : ''}\\n                    <Divider className={classes.divider} />\\n                    <Grid item sm={12} className={classes.height600}>\\n\\n                      <Box className={classes.w100} mt={2}>\\n\\n                        <ApiHighlight height={400} classes={classes}>\\n                          <ResponsiveCalendar\\n                            data={filterData}\\n                            align=\\\"top\\\"\\n                            from={incrementDate(fromDate, 1)}\\n                            to={incrementDate(toDate, 1)}\\n                            emptyColor=\\\"#eeeeee\\\"\\n                            colors={desiredField === lookerContent[0].desiredFields[0] ? googleColorScale : nivoColorScale}\\n                            yearSpacing={40}\\n                            monthBorderColor=\\\"#ffffff\\\"\\n                            dayBorderWidth={2}\\n                            dayBorderColor=\\\"#ffffff\\\"\\n                            margin={{ bottom: 40, left: 40 }}\\n                            legends={[\\n                              {\\n                                anchor: 'bottom-right',\\n                                direction: 'row',\\n                                translateY: 36,\\n                                itemCount: 4,\\n                                itemWidth: 42,\\n                                itemHeight: 36,\\n                                itemsSpacing: 14,\\n                                itemDirection: 'right-to-left'\\n                              }\\n                            ]}\\n                            onClick={(day, event) => {\\n                              if (!day.value) {\\n                              } else if (lookerUser.user_attributes.permission_level === 'basic') {\\n                                togglePayWallModal({\\n                                  'show': true,\\n                                  'permissionNeeded': 'see_drill_overlay'\\n                                });\\n                              } else {\\n                                handleModalOpen(day)\\n                                event.stopPropagation();\\n                              }\\n                            }}\\n                          />\\n                        </ApiHighlight>\\n                      </Box>\\n                    </Grid>\\n                  </Grid>\\n                </Box> :\\n                ''\\n            }\\n          </div>\\n        </Grid >\\n        {\\n          open ?\\n            <ModalTable\\n              {...props}\\n              open={open}\\n              onClose={handleModalClose}\\n              classes={classes}\\n              modalContent={modalContent}\\n            />\\n\\n            : ''\\n        }\\n      </Card>\\n    </div >\\n  )\\n}\\n//Filter Bar code\\nfunction FilterBar(props) {\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, classes,\\n    apiContent, fromDate, toDate, category, desiredField, handleFromDate, handleToDate, handleCategory, handleDesiredField } = props;\\n\\n  const [expanded, setExpanded] = useState(true);\\n\\n  const handleExpansionPanel = (event, newValue) => {\\n    setExpanded(expanded ? false : true);\\n  };\\n\\n  // console.log('FilterBar')\\n  // console.log('fromDate', fromDate)\\n  // console.log('toDate', toDate)\\n\\n  return (\\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} className={classes.w100} elevation={0}>\\n      <ExpansionPanelSummary\\n        expandIcon={<ExpandMoreIcon />}\\n        aria-controls=\\\"panel1a-content\\\"\\n        id=\\\"panel1a-header\\\"\\n      >\\n        <Typography className={classes.heading}>Filter Data</Typography>\\n\\n      </ExpansionPanelSummary>\\n      <ExpansionPanelDetails>\\n        <Grid container spacing={3}>\\n          {apiContent.queryResults ?\\n            <>\\n              <Grid item sm={3}>\\n\\n                <ApiHighlight classes={classes}>\\n                  <FormControl className={classes.formControl}>\\n                    <InputLabel\\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\\n                    >\\n                      Metric</InputLabel>\\n                    <Select\\n                      labelId={`${validIdHelper(type + '-FilterBar-DataPropery-SelectLabel')}`}\\n                      id={`${validIdHelper(type + '-FilterBar-DataPropery-Select')}`}\\n                      value={desiredField}\\n                      onChange={(event) => handleDesiredField(event.target.value)}\\n                    >\\n                      {lookerContent[0].desiredFields.map((item, index) => (\\n\\n                        <MenuItem\\n                          id={validIdHelper(`${item}-${index}`)}\\n                          key={validIdHelper(`${item}-${index}`)}\\n                          value={item}\\n                        >{item.substring(item.lastIndexOf(\\\".\\\") + 1, item.length).split(\\\"_\\\").map(item => item.charAt(0).toUpperCase() + item.substring(1)).join(\\\" \\\")}</MenuItem>\\n                      ))}\\n                    </Select>\\n                  </FormControl>\\n                </ApiHighlight>\\n              </Grid>\\n              <Grid item sm={3}>\\n                <ApiHighlight classes={classes}>\\n                  <FormControl className={classes.formControl}>\\n                    <InputLabel\\n                      id={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\\n                    >\\n                      Category</InputLabel>\\n                    <Select\\n                      labelId={`${validIdHelper(type + '-FilterBar-Category-SelectLabel')}`}\\n                      id={`${validIdHelper(type + '-FilterBar-Category-Select')}`}\\n                      value={category}\\n                      onChange={(event) => handleCategory(event.target.value)}\\n                    >\\n                      {apiContent.uniqueCategories.map((item, index) => (\\n\\n                        <MenuItem\\n                          id={validIdHelper(`${item}-${index}`)}\\n                          key={validIdHelper(`${item}-${index}`)}\\n                          value={item}>{item}</MenuItem>\\n                      ))}\\n                    </Select>\\n                  </FormControl>\\n                </ApiHighlight>\\n              </Grid>\\n\\n              <Grid item sm={3}>\\n\\n                <ApiHighlight classes={classes}>\\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\\n                    <KeyboardDatePicker\\n                      disableToolbar\\n                      variant=\\\"inline\\\"\\n                      format=\\\"MM/dd/yyyy\\\"\\n                      margin=\\\"normal\\\"\\n                      id=\\\"fromDate\\\"\\n                      label=\\\"From date\\\"\\n                      value={fromDate}\\n                      onChange={handleFromDate}\\n                      KeyboardButtonProps={{\\n                        'aria-label': 'change date',\\n                      }}\\n                      minDate={fromDate}\\n                      maxDate={toDate}\\n                    />\\n                  </MuiPickersUtilsProvider>\\n                </ApiHighlight>\\n              </Grid>\\n              <Grid item sm={3}>\\n                <ApiHighlight classes={classes}>\\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\\n                    <KeyboardDatePicker\\n                      disableToolbar\\n                      variant=\\\"inline\\\"\\n                      format=\\\"MM/dd/yyyy\\\"\\n                      margin=\\\"normal\\\"\\n                      id=\\\"toDate\\\"\\n                      label=\\\"To date\\\"\\n                      value={toDate}\\n                      onChange={handleToDate}\\n                      KeyboardButtonProps={{\\n                        'aria-label': 'change date',\\n                      }}\\n                      minDate={fromDate}\\n                      maxDate={toDate}\\n                    />\\n                  </MuiPickersUtilsProvider>\\n                </ApiHighlight>\\n              </Grid>\\n            </>\\n            : ''}\\n        </Grid>\\n      </ExpansionPanelDetails>\\n    </ExpansionPanel >\\n  )\\n}\\n\\nfunction incrementDate(dateInput, increment) {\\n  var dateFormatTotime = new Date(dateInput);\\n  var increasedDate = new Date(dateFormatTotime.getTime() + (increment * 86400000));\\n  return increasedDate.toISOString().split('T')[0];\\n}\";","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  card: {\n    minWidth: 275,\n    minHeight: 800,\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  ml24: {\n    marginLeft: 24\n  },\n  parentHoverVisibility: {\n    '&:hover $childHoverVisibility': {\n      visibility: 'visible'\n    }\n\n  },\n  childHoverVisibility: {\n    visibility: 'hidden'\n  },\n  faSm: {\n    fontSize: '.75em'\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  padding30: {\n    padding: 30\n  },\n  mr12: {\n    marginRight: 12\n  },\n  ml12: {\n    marginLeft: 12\n  }\n}));","import React from 'react';\nimport { Typography, Box } from '@material-ui/core'\nimport PropTypes from 'prop-types';\n\nexport function TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            <Box p={3}>{children}</Box>\n        </Typography>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nexport function a11yProps(index) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\n\n","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AppBar, Tabs, Tab, Typography, Box, Grid, Icon, CircularProgress, Card, Button } from '@material-ui/core'\nimport { TreeView, TreeItem } from '@material-ui/lab';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport CodeFlyout from '../CodeFlyout';\nimport rawSampleCode from '!!raw-loader!./ReportBuilder.js'; // eslint-disable-line import/no-webpack-loader-syntax\nimport useStyles from './styles.js';\nimport { TabPanel, a11yProps } from './helpers.js';\nimport '../../Home.css';\nimport { ApiHighlight, EmbedHighlight } from '../../Highlights/Highlight';\nimport AppContext from '../../../AppContext';\nconst { validIdHelper } = require('../../../tools');\n\n//start of ReportBuilder Component\nexport default function ReportBuilder(props) {\n  //initialize state using hooks\n  const [iFrameExists, setIFrame] = useState(0);\n  const [apiContent, setApiContent] = useState([]);\n  const [exploreObj, setExploreObj] = useState({});\n  const [clientSideCode, setClientSideCode] = useState('');\n  const [serverSideCode, setServerSideCode] = useState('');\n\n  const { togglePayWallModal, codeShow } = useContext(AppContext)\n\n  //declare constants\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange, lookerUser, lookerHost } = props;\n\n  const demoComponentType = type;\n  const tabContent = [...lookerContent]\n\n  //handle tab change\n  const handleChange = (event, newValue) => {\n\n    if (newValue == 1 && lookerUser.user_attributes.permission_level != 'premium') {\n      // togglePayWallModal()\n\n      togglePayWallModal({\n        'show': true,\n        'permissionNeeded': 'explore'\n      });\n    } else {\n      handleTabChange(newValue);\n      setValue(newValue);\n      if (value > 0 && newValue === 0) performLookerApiCalls(lookerContent)\n    }\n  };\n\n  /**\n   * listen for lookerContent and call \n   * performLookerApiCalls and setSampleCode\n  */\n  useEffect(() => {\n    if (activeTabValue > value) {\n      setValue(activeTabValue)\n    }\n    setTimeout(() => performLookerApiCalls(lookerContent, 1), 100)\n    setClientSideCode(rawSampleCode)\n  }, [lookerContent, lookerUser]);\n\n  const action = async (contentType, contentId, secondaryAction, qid, exploreId, newReportEmbedContainer) => {\n    let iFrameArray = $(\".embedContainer:visible > iframe\")\n\n    let matchingIndex = 0;\n    for (let i = 0; i < iFrameArray.length; i++) {\n      if (iFrameArray[i].classList.contains(contentType) && iFrameArray[i].classList.contains(contentId)) {\n        iFrameArray[i].classList.remove('dNone')\n        matchingIndex = i;\n      } else {\n        iFrameArray[i].classList.add('dNone')\n      }\n    }\n\n    if (secondaryAction === 'edit' || secondaryAction === 'explore') {\n      $(`#${newReportEmbedContainer}`).empty();\n\n      LookerEmbedSDK.createExploreWithId(exploreId)\n        .appendTo(`#${newReportEmbedContainer}`)\n        .withClassName('iframe')\n        .on('explore:state:changed', (event) => {\n        })\n        .withClassName(\"exploreIframe\")\n        .withParams({\n          qid: qid\n        })\n        .build()\n        .connect()\n        .then((explore) => {\n          setIFrame(1)\n          setExploreObj(explore)\n          LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\n        })\n        .catch((error) => {\n          console.error('Connection error', error)\n        })\n      handleChange('edit', 1)\n    } else if (secondaryAction === 'delete') {\n      let lookerResponse = await fetch('/deletelook/' + contentId, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      if (lookerResponse.status === 200) {\n        performLookerApiCalls(lookerContent, 1)\n      }\n    }\n  }\n\n  const performLookerApiCalls = function (lookerContent, animateLoad) {\n    if (animateLoad) {\n      handleChange('refresh', 0)\n      setIFrame(0)\n      setApiContent([])\n    }\n\n    lookerContent.map(async lookerContent => {\n      if (lookerContent.type === 'folder') {\n        let lookerResponse = await fetch('/fetchfolder/' + lookerContent.id, {\n          method: 'GET',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          }\n        })\n\n        let lookerResponseData = await lookerResponse.json();\n        if (serverSideCode.length === 0) setServerSideCode(lookerResponseData.code);\n\n        let looksToUse = [...lookerResponseData.sharedFolder.looks];\n        if (lookerUser.user_attributes.permission_level === 'premium' &&\n          Object.keys(lookerResponseData.embeddedUserFolder).length) {\n          looksToUse = [\n            ...looksToUse, ...lookerResponseData.embeddedUserFolder.looks\n          ]\n\n        }\n        let dashboardsToUse = [...lookerResponseData.sharedFolder.dashboards]\n        let objToUse = {\n          looks: looksToUse,\n          dashboards: dashboardsToUse\n        }\n        let iFrameArray = $(`.embedContainer.${validIdHelper(demoComponentType)} > iframe`);\n        if (objToUse.looks.length) {\n          objToUse.looks.map((item, index) => {\n\n            let lookId = item.id;\n            let lookIsRendered = false;\n            for (let i = 0; i < iFrameArray.length; i++) {\n              if (iFrameArray[i].classList.contains('look') && iFrameArray[i].classList.contains(lookId)) {\n                lookIsRendered = true;\n              }\n            }\n\n            if (!lookIsRendered) {\n              LookerEmbedSDK.createLookWithId(lookId)\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n                .withClassName('iframe')\n                .withClassName('look')\n                .withClassName(lookerResponseData.sharedFolder.looks.indexOf(item) > -1 ? \"shared\" : \"personal\")\n                .withClassName(index > 0 ? 'dNone' : 'oops')\n                .withClassName(lookId)\n                .build()\n                .connect()\n                .then((look) => {\n                  // setIFrame(1)\n                  LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\n                })\n                .catch((error) => {\n                  console.error('Connection error', error)\n                })\n            }\n\n            if (index === objToUse.looks.length - 1) {\n              setTimeout(() => setIFrame(1), 1000)\n            }\n          })\n        }\n\n        if (objToUse.dashboards.length) {\n          objToUse.dashboards.map((item, index) => {\n            let dashboardId = item.id\n            let dashboardIsRendered = false;\n            for (let i = 0; i < iFrameArray.length; i++) {\n              if (iFrameArray[i].classList.contains('dashboard') && iFrameArray[i].classList.contains(dashboardId)) {\n                dashboardIsRendered = true;\n              }\n            }\n            if (!dashboardIsRendered) {\n              LookerEmbedSDK.createDashboardWithId(dashboardId)\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n                .withClassName('iframe')\n                .withClassName('dashboard')\n                .withClassName(lookerResponseData.sharedFolder.dashboards.indexOf(item) > -1 ? \"shared\" : \"personal\")\n                .withClassName('dNone')\n                .withClassName(dashboardId)\n                .build()\n                .connect()\n                .then((dashboard) => {\n                  setTimeout(() => {\n                    // setIFrame(1)\n                  }, 1000)\n                  LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\n                })\n                .catch((error) => {\n                  console.error('Connection error', error)\n                })\n            }\n\n\n            if (index === objToUse.dashboards.length - 1) {\n              setTimeout(() => setIFrame(1), 1000)\n            }\n          })\n        }\n        setApiContent(objToUse)\n      } else if (lookerContent.type === 'explore' && lookerUser.user_attributes.permission_level === 'premium') {\n        let exploreId = lookerContent.id;\n        $(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`)).html('')\n        LookerEmbedSDK.createExploreWithId(exploreId)\n          .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\n          .withClassName('iframe')\n          .on('explore:state:changed', (event) => {\n          })\n          .build()\n          .connect()\n          .then((explore) => {\n            setTimeout(() => setIFrame(1), 1000)\n            setExploreObj(exploreObj)\n            LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\n          })\n          .catch((error) => {\n            console.error('Connection error', error)\n          })\n      }\n    })\n  }\n\n\n  return (\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\n      <Card elevation={1} className={`${classes.padding30} `}>\n        <Grid container\n          spacing={3}\n          key={validIdHelper(type)} >\n          <div className={classes.root}>\n            {iFrameExists ? '' :\n              <Grid item sm={12} >\n                <Card className={`${classes.card} ${classes.flexCentered}`} elevation={0}>\n                  <CircularProgress className={classes.circularProgress} />\n                </Card>\n              </Grid>\n            }\n\n            {/* additional loading logic, need embedContainer to exist but want it hidden until iFrame has content...*/}\n            <Box className={iFrameExists ? `${classes.positionRelative}` : `${classes.hidden} ${classes.positionRelative}`}>\n              <AppBar position=\"static\" elevation={0}>\n                <Tabs\n                  className={classes.tabs}\n                  value={value}\n                  onChange={handleChange}\n                  aria-label=\"simple tabs example\">\n                  {tabContent.map((item, index) => (\n                    <Tab\n                      key={`${validIdHelper(demoComponentType + '-tab-' + index)}`}\n                      label={index == 1 ?\n                        <div>\n\n                          {lookerUser.user_attributes.permission_level != 'premium' ?\n                            <Icon className={`fa fa-lock ${classes.faSm} ${classes.mr12}`} /> : <Icon className={`fa fa-plus ${classes.faSm} ${classes.mr12}`} />}\n                          {item.label}\n                        </div> :\n                        item.label}\n                      className={value === 1 && index === 1 ? `${classes.hidden}` : index == 1 ? `${classes.mlAuto}` : ``}\n                      style={index === 1 ? {\n                        backgroundColor: '#5896E6',\n                        borderRadius: '4px',\n                        color: '#fff',\n                        opacity: '1.0'\n                      } : {}}\n                      {...a11yProps(index)} />\n                  ))}\n                </Tabs>\n              </AppBar>\n\n              <Box className=\"tabPanelContainer\">\n                {codeShow ? <Grid item sm={6}\n                  className={`${classes.positionTopRight}`}\n                >\n                  <CodeFlyout {...props}\n                    classes={classes}\n                    lookerUser={lookerUser} />\n                </Grid> : ''}\n                {tabContent.map((tabContentItem, tabContentItemIndex) => (\n                  <TabPanel\n                    key={`${validIdHelper(demoComponentType + '-tabPanel-' + tabContentItemIndex)}`}\n                    value={value}\n                    index={tabContentItemIndex}>\n                    <Grid container>\n                      {\n                        tabContentItemIndex === 0\n                          ?\n                          <React.Fragment\n                            key={`${validIdHelper(demoComponentType + '-outerFragment-' + tabContentItemIndex)}`}>\n                            <Grid item sm={4} >\n                              <ApiHighlight height={500} classes={classes}>\n                                <TreeSideBar {...{\n                                  togglePayWallModal,\n                                  classes,\n                                  demoComponentType,\n                                  tabContent,\n                                  tabContentItemIndex,\n                                  action,\n                                  apiContent,\n                                  ...props\n                                }}\n                                />\n                              </ApiHighlight>\n                            </Grid>\n                            <Grid item sm={8} >\n                              <EmbedHighlight classes={classes}>\n                                <div\n                                  className={`embedContainer ${validIdHelper(demoComponentType)}`}\n                                  id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                  key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                >\n                                </div>\n                              </EmbedHighlight>\n                            </Grid>\n                          </React.Fragment>\n                          :\n                          <Grid item sm={12} >\n                            <EmbedHighlight classes={classes}>\n                              <div\n                                className=\"embedContainer\"\n                                id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                                key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\n                              >\n                              </div>\n                            </EmbedHighlight>\n                          </Grid>\n                      }\n                    </Grid>\n                  </TabPanel>\n                ))}\n              </Box>\n            </Box >\n          </div>\n        </Grid >\n      </Card>\n    </div >\n  )\n}\n\n\nfunction TreeSideBar(props) {\n  // console.log('TreeSideBar')\n  const { staticContent, staticContent: { lookerContent }, classes, demoComponentType, tabContent, tabContentItemIndex, action, apiContent, lookerUser, togglePayWallModal } = props\n  const sharedFolderId = lookerContent[0].type === 'folder' ? lookerContent[0].id : '';\n  let treeCounter = 0;\n  const [selected, setSelected] = useState(2)\n  const expandedArr = Object.keys(apiContent).length ? [\"1\", \"\" + (2 + apiContent[Object.keys(apiContent)[0]].length)] : [];\n  const [expanded, setExpanded] = useState(expandedArr);\n\n  const handleToggle = (event, nodeIds) => {\n    setExpanded(nodeIds);\n  }\n\n  const handleSelect = (event, nodeIds) => {\n    setSelected(nodeIds);\n  };\n\n\n  useEffect(() => {\n    setExpanded(expandedArr)\n  }, [apiContent]);\n\n  return (\n    <TreeView\n      className={classes.tree}\n      defaultCollapseIcon={<ExpandMoreIcon />}\n      defaultExpandIcon={<ChevronRightIcon />}\n      expanded={expanded}\n      onNodeToggle={handleToggle}\n      onNodeSelect={handleSelect}\n    >\n      {apiContent ? Object.keys(apiContent).map((key, outerIndex) => (\n        <React.Fragment\n          key={`${validIdHelper(demoComponentType + '-innerFragment-' + outerIndex)}`}>\n          <TreeItem\n            key={`${validIdHelper(demoComponentType + '-outerTreeItem-' + outerIndex)}`}\n            nodeId={\"\" + (treeCounter += 1)}\n            // treecounter={treeCounter}\n            label={_.capitalize(key)}\n            icon={<Icon className={`fa fa-folder ${classes.icon}`} />}\n            disabled={apiContent[key].length ? false : true}\n          >\n            {\n              apiContent[key].length ?\n                apiContent[key].map((item, index) => (\n                  <TreeItem\n                    key={`${validIdHelper(demoComponentType + '-innerTreeItem-' + treeCounter)}`}\n                    nodeId={\"\" + (treeCounter += 1)}\n                    treecounter={treeCounter}\n                    selected={selected === treeCounter}\n                    className={selected === treeCounter ? `Mui-selected innerTreeItem` : `innerTreeItem`}\n                    contentid={item.id}\n                    label={item.folder_id === sharedFolderId &&\n                      key === 'looks' ?\n\n                      < div\n                        id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                        key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                        className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}>\n                        {item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title}\n\n                        <Button\n                          id={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\n                          key={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\n                          size=\"small\"\n                          className={`${classes.ml12} ${classes.childHoverVisibility}`}\n                          onClick={(event) => {\n                            if (lookerUser.user_attributes.permission_level === 'premium') {\n                              // setSelected(treeCounter);\n                              action(\n                                key.substring(0, key.length - 1),\n                                item.id,\n                                'explore',\n                                item.client_id,\n                                tabContent[tabContentItemIndex + 1].id,\n                                validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\n                              );\n                              event.stopPropagation();\n                            } else {\n                              // togglePayWallModal();\n\n                              togglePayWallModal({\n                                'show': true,\n                                'permissionNeeded': 'explore'\n                              });\n                            }\n                          }\n                          }\n                          color=\"default\"\n                        >\n                          {lookerUser.user_attributes.permission_level === 'premium' ? 'Explore' : <div> <Icon className={`fa fa-lock ${classes.faSm} ${classes.mr12}`} />Explore</div>}\n                        </Button>\n                      </div>\n                      : key === 'looks' ?\n                        <div\n                          id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                          key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\n                          className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}>\n\n                          {item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title}                          <Button\n                            id={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\n                            key={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\n                            size=\"small\"\n                            className={`${classes.ml12} ${classes.childHoverVisibility}`}\n                            onClick={(event) => {\n                              if (lookerUser.user_attributes.permission_level === 'premium') {\n                                // setSelected(treeCounter);\n                                action(\n                                  key.substring(0, key.length - 1),\n                                  item.id,\n                                  'edit',\n                                  item.client_id,\n                                  tabContent[tabContentItemIndex + 1].id,\n                                  validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\n                                );\n                                event.stopPropagation();\n                              } else {\n                                // togglePayWallModal();\n\n                                togglePayWallModal({\n                                  'show': true,\n                                  'permissionNeeded': 'explore'\n                                });\n                              }\n                            }\n                            }\n                            color=\"primary\"\n                          >\n                            Edit\n                                                                                            </Button>\n                          <Button\n                            id={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\n                            key={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\n                            size=\"small\"\n                            className={`${classes.ml12} ${classes.childHoverVisibility}`}\n                            onClick={(event) => {\n                              if (lookerUser.user_attributes.permission_level === 'premium') {\n                                // setSelected(treeCounter);\n                                action(\n                                  key.substring(0, key.length - 1),\n                                  item.id,\n                                  'delete',\n                                  item.client_id,\n                                  tabContent[tabContentItemIndex + 1].id,\n                                  validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\n                                );\n                                event.stopPropagation();\n                              } else {\n                                // togglePayWallModal();\n\n                                togglePayWallModal({\n                                  'show': true,\n                                  'permissionNeeded': 'explore'\n                                });\n                              }\n                            }\n                            }\n                            color=\"secondary\"\n                          >\n                            Delete\n                                                                                            </Button>\n                        </div>\n                        : item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title\n                    }\n                    onClick={() => {\n                      // setSelected(treeCounter)\n                      action(\n                        key.substring(0, key.length - 1), item.id)\n                    }} />\n\n                ))\n                :\n                ''\n            }\n          </TreeItem>\n\n        </React.Fragment>\n      )) : ''}\n    </TreeView>\n  )\n}","export default \"import $ from 'jquery';\\nimport _ from 'lodash'\\nimport React, { useState, useEffect, useContext } from 'react';\\nimport { AppBar, Tabs, Tab, Typography, Box, Grid, Icon, CircularProgress, Card, Button } from '@material-ui/core'\\nimport { TreeView, TreeItem } from '@material-ui/lab';\\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\\nimport CodeFlyout from '../CodeFlyout';\\nimport rawSampleCode from '!!raw-loader!./ReportBuilder.js'; // eslint-disable-line import/no-webpack-loader-syntax\\nimport useStyles from './styles.js';\\nimport { TabPanel, a11yProps } from './helpers.js';\\nimport '../../Home.css';\\nimport { ApiHighlight, EmbedHighlight } from '../../Highlights/Highlight';\\nimport AppContext from '../../../AppContext';\\nconst { validIdHelper } = require('../../../tools');\\n\\n//start of ReportBuilder Component\\nexport default function ReportBuilder(props) {\\n  //initialize state using hooks\\n  const [iFrameExists, setIFrame] = useState(0);\\n  const [apiContent, setApiContent] = useState([]);\\n  const [exploreObj, setExploreObj] = useState({});\\n  const [clientSideCode, setClientSideCode] = useState('');\\n  const [serverSideCode, setServerSideCode] = useState('');\\n\\n  const { togglePayWallModal, codeShow } = useContext(AppContext)\\n\\n  //declare constants\\n  const classes = useStyles();\\n  const [value, setValue] = useState(0);\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange, lookerUser, lookerHost } = props;\\n\\n  const demoComponentType = type;\\n  const tabContent = [...lookerContent]\\n\\n  //handle tab change\\n  const handleChange = (event, newValue) => {\\n\\n    if (newValue == 1 && lookerUser.user_attributes.permission_level != 'premium') {\\n      // togglePayWallModal()\\n\\n      togglePayWallModal({\\n        'show': true,\\n        'permissionNeeded': 'explore'\\n      });\\n    } else {\\n      handleTabChange(newValue);\\n      setValue(newValue);\\n      if (value > 0 && newValue === 0) performLookerApiCalls(lookerContent)\\n    }\\n  };\\n\\n  /**\\n   * listen for lookerContent and call \\n   * performLookerApiCalls and setSampleCode\\n  */\\n  useEffect(() => {\\n    if (activeTabValue > value) {\\n      setValue(activeTabValue)\\n    }\\n    setTimeout(() => performLookerApiCalls(lookerContent, 1), 100)\\n    setClientSideCode(rawSampleCode)\\n  }, [lookerContent, lookerUser]);\\n\\n  const action = async (contentType, contentId, secondaryAction, qid, exploreId, newReportEmbedContainer) => {\\n    let iFrameArray = $(\\\".embedContainer:visible > iframe\\\")\\n\\n    let matchingIndex = 0;\\n    for (let i = 0; i < iFrameArray.length; i++) {\\n      if (iFrameArray[i].classList.contains(contentType) && iFrameArray[i].classList.contains(contentId)) {\\n        iFrameArray[i].classList.remove('dNone')\\n        matchingIndex = i;\\n      } else {\\n        iFrameArray[i].classList.add('dNone')\\n      }\\n    }\\n\\n    if (secondaryAction === 'edit' || secondaryAction === 'explore') {\\n      $(`#${newReportEmbedContainer}`).empty();\\n\\n      LookerEmbedSDK.createExploreWithId(exploreId)\\n        .appendTo(`#${newReportEmbedContainer}`)\\n        .withClassName('iframe')\\n        .on('explore:state:changed', (event) => {\\n        })\\n        .withClassName(\\\"exploreIframe\\\")\\n        .withParams({\\n          qid: qid\\n        })\\n        .build()\\n        .connect()\\n        .then((explore) => {\\n          setIFrame(1)\\n          setExploreObj(explore)\\n          LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\\n        })\\n        .catch((error) => {\\n          console.error('Connection error', error)\\n        })\\n      handleChange('edit', 1)\\n    } else if (secondaryAction === 'delete') {\\n      let lookerResponse = await fetch('/deletelook/' + contentId, {\\n        method: 'GET',\\n        headers: {\\n          Accept: 'application/json',\\n          'Content-Type': 'application/json'\\n        }\\n      });\\n      if (lookerResponse.status === 200) {\\n        performLookerApiCalls(lookerContent, 1)\\n      }\\n    }\\n  }\\n\\n  const performLookerApiCalls = function (lookerContent, animateLoad) {\\n    if (animateLoad) {\\n      handleChange('refresh', 0)\\n      setIFrame(0)\\n      setApiContent([])\\n    }\\n\\n    lookerContent.map(async lookerContent => {\\n      if (lookerContent.type === 'folder') {\\n        let lookerResponse = await fetch('/fetchfolder/' + lookerContent.id, {\\n          method: 'GET',\\n          headers: {\\n            Accept: 'application/json',\\n            'Content-Type': 'application/json'\\n          }\\n        })\\n\\n        let lookerResponseData = await lookerResponse.json();\\n        if (serverSideCode.length === 0) setServerSideCode(lookerResponseData.code);\\n\\n        let looksToUse = [...lookerResponseData.sharedFolder.looks];\\n        if (lookerUser.user_attributes.permission_level === 'premium' &&\\n          Object.keys(lookerResponseData.embeddedUserFolder).length) {\\n          looksToUse = [\\n            ...looksToUse, ...lookerResponseData.embeddedUserFolder.looks\\n          ]\\n\\n        }\\n        let dashboardsToUse = [...lookerResponseData.sharedFolder.dashboards]\\n        let objToUse = {\\n          looks: looksToUse,\\n          dashboards: dashboardsToUse\\n        }\\n        let iFrameArray = $(`.embedContainer.${validIdHelper(demoComponentType)} > iframe`);\\n        if (objToUse.looks.length) {\\n          objToUse.looks.map((item, index) => {\\n\\n            let lookId = item.id;\\n            let lookIsRendered = false;\\n            for (let i = 0; i < iFrameArray.length; i++) {\\n              if (iFrameArray[i].classList.contains('look') && iFrameArray[i].classList.contains(lookId)) {\\n                lookIsRendered = true;\\n              }\\n            }\\n\\n            if (!lookIsRendered) {\\n              LookerEmbedSDK.createLookWithId(lookId)\\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\\n                .withClassName('iframe')\\n                .withClassName('look')\\n                .withClassName(lookerResponseData.sharedFolder.looks.indexOf(item) > -1 ? \\\"shared\\\" : \\\"personal\\\")\\n                .withClassName(index > 0 ? 'dNone' : 'oops')\\n                .withClassName(lookId)\\n                .build()\\n                .connect()\\n                .then((look) => {\\n                  // setIFrame(1)\\n                  LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\\n                })\\n                .catch((error) => {\\n                  console.error('Connection error', error)\\n                })\\n            }\\n\\n            if (index === objToUse.looks.length - 1) {\\n              setTimeout(() => setIFrame(1), 1000)\\n            }\\n          })\\n        }\\n\\n        if (objToUse.dashboards.length) {\\n          objToUse.dashboards.map((item, index) => {\\n            let dashboardId = item.id\\n            let dashboardIsRendered = false;\\n            for (let i = 0; i < iFrameArray.length; i++) {\\n              if (iFrameArray[i].classList.contains('dashboard') && iFrameArray[i].classList.contains(dashboardId)) {\\n                dashboardIsRendered = true;\\n              }\\n            }\\n            if (!dashboardIsRendered) {\\n              LookerEmbedSDK.createDashboardWithId(dashboardId)\\n                .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\\n                .withClassName('iframe')\\n                .withClassName('dashboard')\\n                .withClassName(lookerResponseData.sharedFolder.dashboards.indexOf(item) > -1 ? \\\"shared\\\" : \\\"personal\\\")\\n                .withClassName('dNone')\\n                .withClassName(dashboardId)\\n                .build()\\n                .connect()\\n                .then((dashboard) => {\\n                  setTimeout(() => {\\n                    // setIFrame(1)\\n                  }, 1000)\\n                  LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\\n                })\\n                .catch((error) => {\\n                  console.error('Connection error', error)\\n                })\\n            }\\n\\n\\n            if (index === objToUse.dashboards.length - 1) {\\n              setTimeout(() => setIFrame(1), 1000)\\n            }\\n          })\\n        }\\n        setApiContent(objToUse)\\n      } else if (lookerContent.type === 'explore' && lookerUser.user_attributes.permission_level === 'premium') {\\n        let exploreId = lookerContent.id;\\n        $(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`)).html('')\\n        LookerEmbedSDK.createExploreWithId(exploreId)\\n          .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContent.id}`))\\n          .withClassName('iframe')\\n          .on('explore:state:changed', (event) => {\\n          })\\n          .build()\\n          .connect()\\n          .then((explore) => {\\n            setTimeout(() => setIFrame(1), 1000)\\n            setExploreObj(exploreObj)\\n            LookerEmbedSDK.init(`https://${lookerHost}.looker.com`);\\n          })\\n          .catch((error) => {\\n            console.error('Connection error', error)\\n          })\\n      }\\n    })\\n  }\\n\\n\\n  return (\\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\\n      <Card elevation={1} className={`${classes.padding30} `}>\\n        <Grid container\\n          spacing={3}\\n          key={validIdHelper(type)} >\\n          <div className={classes.root}>\\n            {iFrameExists ? '' :\\n              <Grid item sm={12} >\\n                <Card className={`${classes.card} ${classes.flexCentered}`} elevation={0}>\\n                  <CircularProgress className={classes.circularProgress} />\\n                </Card>\\n              </Grid>\\n            }\\n\\n            {/* additional loading logic, need embedContainer to exist but want it hidden until iFrame has content...*/}\\n            <Box className={iFrameExists ? `${classes.positionRelative}` : `${classes.hidden} ${classes.positionRelative}`}>\\n              <AppBar position=\\\"static\\\" elevation={0}>\\n                <Tabs\\n                  className={classes.tabs}\\n                  value={value}\\n                  onChange={handleChange}\\n                  aria-label=\\\"simple tabs example\\\">\\n                  {tabContent.map((item, index) => (\\n                    <Tab\\n                      key={`${validIdHelper(demoComponentType + '-tab-' + index)}`}\\n                      label={index == 1 ?\\n                        <div>\\n\\n                          {lookerUser.user_attributes.permission_level != 'premium' ?\\n                            <Icon className={`fa fa-lock ${classes.faSm} ${classes.mr12}`} /> : <Icon className={`fa fa-plus ${classes.faSm} ${classes.mr12}`} />}\\n                          {item.label}\\n                        </div> :\\n                        item.label}\\n                      className={value === 1 && index === 1 ? `${classes.hidden}` : index == 1 ? `${classes.mlAuto}` : ``}\\n                      style={index === 1 ? {\\n                        backgroundColor: '#5896E6',\\n                        borderRadius: '4px',\\n                        color: '#fff',\\n                        opacity: '1.0'\\n                      } : {}}\\n                      {...a11yProps(index)} />\\n                  ))}\\n                </Tabs>\\n              </AppBar>\\n\\n              <Box className=\\\"tabPanelContainer\\\">\\n                {codeShow ? <Grid item sm={6}\\n                  className={`${classes.positionTopRight}`}\\n                >\\n                  <CodeFlyout {...props}\\n                    classes={classes}\\n                    lookerUser={lookerUser} />\\n                </Grid> : ''}\\n                {tabContent.map((tabContentItem, tabContentItemIndex) => (\\n                  <TabPanel\\n                    key={`${validIdHelper(demoComponentType + '-tabPanel-' + tabContentItemIndex)}`}\\n                    value={value}\\n                    index={tabContentItemIndex}>\\n                    <Grid container>\\n                      {\\n                        tabContentItemIndex === 0\\n                          ?\\n                          <React.Fragment\\n                            key={`${validIdHelper(demoComponentType + '-outerFragment-' + tabContentItemIndex)}`}>\\n                            <Grid item sm={4} >\\n                              <ApiHighlight height={500} classes={classes}>\\n                                <TreeSideBar {...{\\n                                  togglePayWallModal,\\n                                  classes,\\n                                  demoComponentType,\\n                                  tabContent,\\n                                  tabContentItemIndex,\\n                                  action,\\n                                  apiContent,\\n                                  ...props\\n                                }}\\n                                />\\n                              </ApiHighlight>\\n                            </Grid>\\n                            <Grid item sm={8} >\\n                              <EmbedHighlight classes={classes}>\\n                                <div\\n                                  className={`embedContainer ${validIdHelper(demoComponentType)}`}\\n                                  id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                                  key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                                >\\n                                </div>\\n                              </EmbedHighlight>\\n                            </Grid>\\n                          </React.Fragment>\\n                          :\\n                          <Grid item sm={12} >\\n                            <EmbedHighlight classes={classes}>\\n                              <div\\n                                className=\\\"embedContainer\\\"\\n                                id={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                                key={validIdHelper(`embedContainer-${demoComponentType}-${tabContentItem.id}`)}\\n                              >\\n                              </div>\\n                            </EmbedHighlight>\\n                          </Grid>\\n                      }\\n                    </Grid>\\n                  </TabPanel>\\n                ))}\\n              </Box>\\n            </Box >\\n          </div>\\n        </Grid >\\n      </Card>\\n    </div >\\n  )\\n}\\n\\n\\nfunction TreeSideBar(props) {\\n  // console.log('TreeSideBar')\\n  const { staticContent, staticContent: { lookerContent }, classes, demoComponentType, tabContent, tabContentItemIndex, action, apiContent, lookerUser, togglePayWallModal } = props\\n  const sharedFolderId = lookerContent[0].type === 'folder' ? lookerContent[0].id : '';\\n  let treeCounter = 0;\\n  const [selected, setSelected] = useState(2)\\n  const expandedArr = Object.keys(apiContent).length ? [\\\"1\\\", \\\"\\\" + (2 + apiContent[Object.keys(apiContent)[0]].length)] : [];\\n  const [expanded, setExpanded] = useState(expandedArr);\\n\\n  const handleToggle = (event, nodeIds) => {\\n    setExpanded(nodeIds);\\n  }\\n\\n  const handleSelect = (event, nodeIds) => {\\n    setSelected(nodeIds);\\n  };\\n\\n\\n  useEffect(() => {\\n    setExpanded(expandedArr)\\n  }, [apiContent]);\\n\\n  return (\\n    <TreeView\\n      className={classes.tree}\\n      defaultCollapseIcon={<ExpandMoreIcon />}\\n      defaultExpandIcon={<ChevronRightIcon />}\\n      expanded={expanded}\\n      onNodeToggle={handleToggle}\\n      onNodeSelect={handleSelect}\\n    >\\n      {apiContent ? Object.keys(apiContent).map((key, outerIndex) => (\\n        <React.Fragment\\n          key={`${validIdHelper(demoComponentType + '-innerFragment-' + outerIndex)}`}>\\n          <TreeItem\\n            key={`${validIdHelper(demoComponentType + '-outerTreeItem-' + outerIndex)}`}\\n            nodeId={\\\"\\\" + (treeCounter += 1)}\\n            // treecounter={treeCounter}\\n            label={_.capitalize(key)}\\n            icon={<Icon className={`fa fa-folder ${classes.icon}`} />}\\n            disabled={apiContent[key].length ? false : true}\\n          >\\n            {\\n              apiContent[key].length ?\\n                apiContent[key].map((item, index) => (\\n                  <TreeItem\\n                    key={`${validIdHelper(demoComponentType + '-innerTreeItem-' + treeCounter)}`}\\n                    nodeId={\\\"\\\" + (treeCounter += 1)}\\n                    treecounter={treeCounter}\\n                    selected={selected === treeCounter}\\n                    className={selected === treeCounter ? `Mui-selected innerTreeItem` : `innerTreeItem`}\\n                    contentid={item.id}\\n                    label={item.folder_id === sharedFolderId &&\\n                      key === 'looks' ?\\n\\n                      < div\\n                        id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\\n                        key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\\n                        className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}>\\n                        {item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title}\\n\\n                        <Button\\n                          id={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\\n                          key={`${validIdHelper(demoComponentType + '-innerTreeItem-Explore' + treeCounter)}`}\\n                          size=\\\"small\\\"\\n                          className={`${classes.ml12} ${classes.childHoverVisibility}`}\\n                          onClick={(event) => {\\n                            if (lookerUser.user_attributes.permission_level === 'premium') {\\n                              // setSelected(treeCounter);\\n                              action(\\n                                key.substring(0, key.length - 1),\\n                                item.id,\\n                                'explore',\\n                                item.client_id,\\n                                tabContent[tabContentItemIndex + 1].id,\\n                                validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\\n                              );\\n                              event.stopPropagation();\\n                            } else {\\n                              // togglePayWallModal();\\n\\n                              togglePayWallModal({\\n                                'show': true,\\n                                'permissionNeeded': 'explore'\\n                              });\\n                            }\\n                          }\\n                          }\\n                          color=\\\"default\\\"\\n                        >\\n                          {lookerUser.user_attributes.permission_level === 'premium' ? 'Explore' : <div> <Icon className={`fa fa-lock ${classes.faSm} ${classes.mr12}`} />Explore</div>}\\n                        </Button>\\n                      </div>\\n                      : key === 'looks' ?\\n                        <div\\n                          id={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\\n                          key={`${validIdHelper(demoComponentType + '-innerTreeItem-LabelContainer' + treeCounter)}`}\\n                          className={`${classes.labelRoot} ${classes.parentHoverVisibility}`}>\\n\\n                          {item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title}                          <Button\\n                            id={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\\n                            key={`${validIdHelper(demoComponentType + '-innerTreeItem-EditButton' + treeCounter)}`}\\n                            size=\\\"small\\\"\\n                            className={`${classes.ml12} ${classes.childHoverVisibility}`}\\n                            onClick={(event) => {\\n                              if (lookerUser.user_attributes.permission_level === 'premium') {\\n                                // setSelected(treeCounter);\\n                                action(\\n                                  key.substring(0, key.length - 1),\\n                                  item.id,\\n                                  'edit',\\n                                  item.client_id,\\n                                  tabContent[tabContentItemIndex + 1].id,\\n                                  validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\\n                                );\\n                                event.stopPropagation();\\n                              } else {\\n                                // togglePayWallModal();\\n\\n                                togglePayWallModal({\\n                                  'show': true,\\n                                  'permissionNeeded': 'explore'\\n                                });\\n                              }\\n                            }\\n                            }\\n                            color=\\\"primary\\\"\\n                          >\\n                            Edit\\n                                                                                            </Button>\\n                          <Button\\n                            id={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\\n                            key={`${validIdHelper(demoComponentType + '-innerTreeItem-DeleteButton' + treeCounter)}`}\\n                            size=\\\"small\\\"\\n                            className={`${classes.ml12} ${classes.childHoverVisibility}`}\\n                            onClick={(event) => {\\n                              if (lookerUser.user_attributes.permission_level === 'premium') {\\n                                // setSelected(treeCounter);\\n                                action(\\n                                  key.substring(0, key.length - 1),\\n                                  item.id,\\n                                  'delete',\\n                                  item.client_id,\\n                                  tabContent[tabContentItemIndex + 1].id,\\n                                  validIdHelper(`embedContainer-${demoComponentType}-${tabContent[tabContentItemIndex + 1].id}`)\\n                                );\\n                                event.stopPropagation();\\n                              } else {\\n                                // togglePayWallModal();\\n\\n                                togglePayWallModal({\\n                                  'show': true,\\n                                  'permissionNeeded': 'explore'\\n                                });\\n                              }\\n                            }\\n                            }\\n                            color=\\\"secondary\\\"\\n                          >\\n                            Delete\\n                                                                                            </Button>\\n                        </div>\\n                        : item.title.length > 15 ? item.title.substring(0, 15) + '...' : item.title\\n                    }\\n                    onClick={() => {\\n                      // setSelected(treeCounter)\\n                      action(\\n                        key.substring(0, key.length - 1), item.id)\\n                    }} />\\n\\n                ))\\n                :\\n                ''\\n            }\\n          </TreeItem>\\n\\n        </React.Fragment>\\n      )) : ''}\\n    </TreeView>\\n  )\\n}\";","import { makeStyles } from '@material-ui/core/styles';\nimport { grey, orange } from '@material-ui/core/colors';\n\nconst greyPrimary = grey[400];\nconst greySecondary = grey[100];\nconst orangePrimary = orange[400];\nconst orangeSecondary = orange[100];\n\nexport default makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  table: {\n    minWidth: 650,\n  },\n  tableContainer: {\n    maxHeight: 650,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  card: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  bluePrimary: {\n    backgroundColor: 'rgba(69, 149, 236, 1)'\n  },\n  blueSecondary: {\n    backgroundColor: 'rgba(69, 149, 236, .5)',\n  },\n  orangePrimary: {\n    backgroundColor: 'rgba(243, 167, 89, 1)'\n  },\n  orangeSecondary: {\n    backgroundColor: 'rgba(243, 167, 89, .5)'\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  bottomBarSpacer: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  maxHeight600: {\n    maxHeight: 600,\n    overflow: 'scroll'\n  },\n  padding30: {\n    padding: 30\n  },\n  m12: {\n    margin: 12\n  },\n  m6: {\n    margin: 6\n  }\n}));","import React from 'react';\nimport { Typography, Box } from '@material-ui/core'\nimport PropTypes from 'prop-types';\n\nexport function TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            <Box p={3}>{children}</Box>\n        </Typography>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nexport function a11yProps(index) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\n\nexport function descendingComparator(a, b, orderBy) {\n    if (a[orderBy] && b[orderBy] && b[orderBy].value < a[orderBy].value) {\n        return -1;\n    }\n    if (a[orderBy] && b[orderBy] && b[orderBy].value > a[orderBy].value) {\n        return 1;\n    }\n    return 0;\n}\n\nexport function getComparator(order, orderBy) {\n    return order === 'desc'\n        ? (a, b) => descendingComparator(a, b, orderBy)\n        : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n}","import $ from 'jquery';\nimport _ from 'lodash';\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  AppBar, Tabs, Tab, Typography, Box, Grid, Icon, CircularProgress, Card, Button,\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, InputLabel, MenuItem, FormControl,\n  Select, Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow,\n  TableSortLabel, FormControlLabel, Switch, Chip, Divider\n} from '@material-ui/core'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandMore';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CodeFlyout from '../CodeFlyout';\nimport rawSampleCode from '!!raw-loader!./QueryBuilder.js'; // eslint-disable-line import/no-webpack-loader-syntax\nimport useStyles from './styles.js';\nimport { ApiHighlight } from '../../Highlights/Highlight';\nimport { TabPanel, a11yProps, descendingComparator, getComparator, stableSort } from './helpers.js';\nimport AppContext from '../../../AppContext';\nconst { validIdHelper, prettifyString } = require('../../../tools');\n\n//start of QueryBuilder Component\nexport default function QueryBuilder(props) {\n  // console.log('QueryBuilder')\n  // console.log('props', props)\n\n  //initialize state using hooks\n  const [value, setValue] = useState(0);\n  const [apiContent, setApiContent] = useState({});\n  const [clientSideCode, setClientSideCode] = useState('');\n  const [serverSideCode, setServerSideCode] = useState('');\n  const { togglePayWallModal, show, codeShow } = useContext(AppContext)\n  //declare constants\n\n  const classes = useStyles();\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange, lookerUser } = props;\n\n  //handle tab change\n  const handleChange = (event, newValue) => {\n    handleTabChange(0);\n    setValue(newValue);\n  };\n\n  /**\n   * listen for lookerContent and call \n   * performLookerApiCalls and setSampleCode\n  */\n  useEffect(() => {\n    lookerContent.map(lookerContent => {\n      setTimeout(() => performLookerApiCalls(lookerContent.queryBody, lookerContent.resultFormat), 100);\n    })\n    setClientSideCode(rawSampleCode)\n  }, [lookerContent, lookerUser])\n\n  const performLookerApiCalls = async (newQuery, resultFormat) => {\n    // console.log('performLookerApiCalls')\n    let apiContentCopy = { ...apiContent }\n    apiContentCopy.status = 'running';\n    setApiContent(apiContentCopy)\n\n    let lookerCreateTaskResposnse = await fetch('/createquerytask/' + JSON.stringify(newQuery), {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n    let lookerCreateTaskResponseData = await lookerCreateTaskResposnse.json();\n\n    let taskInterval = setInterval(async () => {\n      let lookerCheckTaskResposnse = await fetch('/checkquerytask/' + lookerCreateTaskResponseData.queryTaskId, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      })\n      let lookerCheckTaskResponseData = await lookerCheckTaskResposnse.json();\n      if (lookerCheckTaskResponseData.queryResults.status === 'complete') {\n        clearInterval(taskInterval);\n        setApiContent(lookerCheckTaskResponseData.queryResults)\n        setServerSideCode(lookerCreateTaskResponseData.code)\n      }\n    }, 5000)\n  }\n\n  return (\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\n      <Card elevation={1} className={`${classes.padding30} `}>\n        <Grid container\n          spacing={3}\n          key={validIdHelper(type)} >\n          <div className={`${classes.root} ${classes.positionRelative}`}>\n            <Grid item sm={12}>\n              <FilterBar {...props}\n                classes={classes}\n                action={performLookerApiCalls}\n              />\n            </Grid>\n            {apiContent.status === 'running' ?\n              <Grid item sm={12} >\n                <Card className={`${classes.card} ${classes.flexCentered}`} elevation={0}>\n                  <CircularProgress className={classes.circularProgress} />\n                </Card>\n              </Grid >\n              : apiContent.data && apiContent.data.length ?\n                <Box\n                >\n                  <Grid container>\n                    {codeShow ? <Grid item sm={6}\n                      className={`${classes.positionTopRight}`}\n                    >\n                      <CodeFlyout {...props}\n                        classes={classes}\n                        lookerUser={lookerUser} />\n                    </Grid> : ''}\n                    <Divider className={classes.divider} />\n                    <Grid item sm={12}>\n                      <Box className={`${classes.w100} ${classes.maxHeight600} ${classes.padding30}`} mt={2}>\n                        <EnhancedTable\n                          {...props}\n                          classes={classes}\n                          rows={apiContent.data}\n                          lookerContent={lookerContent}\n                        />\n                      </Box>\n                    </Grid>\n                  </Grid>\n                </Box>\n                :\n                <Grid item sm={12} >\n                  <Typography variant=\"h6\" component=\"h6\" className={`${classes.gridTitle} ${classes.textCenter}`}>\n                    No results found, try a new query<br />\n                  </Typography>\n                </Grid>\n            }\n          </div >\n        </Grid >\n      </Card>\n    </div >\n  )\n}\n\n\nfunction FilterBar(props) {\n  const { staticContent, staticContent: { lookerContent }, classes, action, lookerUser } = props;\n  let measureCounter = 0;\n  let dimensionCounter = 0;\n\n  const [expanded, setExpanded] = useState(true);\n  const [fieldsChipData, setFieldsChipData] = useState(lookerContent[0].queryBody ? lookerContent[0].queryBody.fields.map((item, index) => {\n    return {\n      key: 'fieldChipData' + index,\n      label: prettifyString(item.substring(item.lastIndexOf('.') + 1, item.length)),\n      datalabel: item,\n      selected: true,\n      fieldType: lookerContent[0].fieldType[item]\n    }\n  }) : '');\n\n  const [queryModified, setQueryModified] = useState(false);\n  const [filtersData, setFilterData] = useState(lookerContent[0].queryBody ? Object.keys(lookerContent[0].queryBody.filters).map((key, index) => {\n    return {\n      key: 'filter' + index,\n      label: key,\n      value: lookerContent[0].queryBody.filters[key],\n      type: lookerContent[0].filterType[key]\n    }\n  }) : '')\n\n  const handleExpansionPanel = (event, newValue) => {\n    setExpanded(expanded ? false : true);\n  };\n\n  const handleFieldChipClick = (chip, index) => {\n    let updatedFieldsChipData = [...fieldsChipData]\n    updatedFieldsChipData[index].selected = updatedFieldsChipData[index].selected === false ? true : false\n    setFieldsChipData(updatedFieldsChipData)\n    setQueryModified(true)\n  }\n\n  const handleSelectChange = (index, newValue) => {\n    let updatedFiltersData = [...filtersData]\n    updatedFiltersData[index].value = newValue;\n    setFilterData(updatedFiltersData)\n    setQueryModified(true)\n  }\n\n  const handleQuerySubmit = (event) => {\n    if (queryModified) {\n      let newFields = fieldsChipData.filter(chip => chip.selected).map(item => item.datalabel);\n      let currentFilters = {}; //needs to be object\n      filtersData.map((item, index) => {\n        currentFilters[item.label] = item.value\n      })\n      let newQueryObj = lookerContent[0].queryBody;\n      newQueryObj.fields = newFields;\n      newQueryObj.filters = currentFilters;\n      action(newQueryObj, lookerContent[0].resultFormat);\n      setQueryModified(false)\n    }\n  }\n\n  // useEffect(() => {\n  //   handleQuerySubmit()\n  // }, [fieldsChipData, filtersData]);\n\n  const datePermissionMap = {\n    'basic': [\"1 week\", \"1 month\", \"3 months\", \"6 months\"]\n  }\n  datePermissionMap.advanced = [...datePermissionMap.basic, \"1 year\"]\n  datePermissionMap.premium = [...datePermissionMap.advanced, \"before today\"]\n\n  useEffect(() => {\n    let updatedFiltersData = [...filtersData]\n    updatedFiltersData[3].value = \"6 months\";\n    setFilterData(updatedFiltersData)\n  }, [lookerUser]);\n\n  return (\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} elevation={0}>\n      <ExpansionPanelSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <Typography className={classes.heading}>Build Query</Typography>\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <Grid container spacing={3}>\n          <Grid item sm={12}>\n            <Typography variant=\"subtitle1\">\n              Select Metrics:\n      {fieldsChipData.length ?\n                fieldsChipData.map((item, index) => {\n                  return (\n                    item.fieldType === 'measure' ?\n                      <Chip\n                        key={item.label}\n                        // key={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\n                        measurecounter={measureCounter += 1}\n                        className={item.selected ? `${classes.orangePrimary} ${classes.m6}` : `${classes.m6}`}\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\n                        datalabel={item.label}\n                        onClick={() => handleFieldChipClick(item, index)}\n                        icon={item.selected ? <DoneIcon className={classes.dBlock} /> : <DoneIcon className={classes.dNone} />}\n                      /> : ''\n                  )\n                }) : ''\n              }<br />\n            </Typography>\n          </Grid>\n          <Grid item sm={12}>\n            <Typography variant=\"subtitle1\">\n              Group By:\n                          {fieldsChipData.length ?\n                fieldsChipData.map((item, index) => {\n                  return (\n                    item.fieldType === 'dimension' ?\n                      <Chip\n                        key={item.label}\n                        dimensioncounter={dimensionCounter += 1}\n                        className={item.selected ? `${classes.bluePrimary} ${classes.m6}` : `${classes.m6}`}\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\n                        datalabel={item.label}\n                        onClick={() => handleFieldChipClick(item, index)}\n                        icon={item.selected ? <DoneIcon className={classes.dBlock} /> : <DoneIcon className={classes.dNone} />}\n                      /> : ''\n                  )\n                }) : ''\n              }<br />\n            </Typography>\n          </Grid>\n\n          <Grid item sm={3}>\n            <Typography variant=\"subtitle1\">\n              Filter By:\n                      </Typography>\n            {filtersData.length ? filtersData.map((item, index) => {\n              return (\n                <FormControl className={item.value.length ? classes.formControl : classes.hidden} key={validIdHelper(`${item.label}FormControl`)}>\n                  {\n                    item.type === 'yesno' ?\n                      <>\n                        <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\n                        <Select\n                          labelId={validIdHelper(`${item.label}FilterLabel`)}\n                          id={validIdHelper(`${item.label}FilterSelect`)}\n                          value={item.value}\n                          onChange={(event) => handleSelectChange(index, event.target.value)}\n                        >\n                          <MenuItem value=\"Yes\">Yes</MenuItem>\n                          <MenuItem value=\"No\">No</MenuItem>\n                          <MenuItem value=\"All\">All</MenuItem>\n                        </Select>\n                      </>\n                      : item.type === 'date' ?\n                        <>\n                          <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\n\n                          <Select\n                            labelId={validIdHelper(`${item.label}FilterLabel`)}\n                            id={validIdHelper(`${item.label}FilterSelect`)}\n                            value={item.value || '6 months'}\n                            onChange={(event) => handleSelectChange(index, event.target.value)}\n                          >\n                            {lookerUser.user_attributes.permission_level ? datePermissionMap[lookerUser.user_attributes.permission_level].map(item => (\n                              <MenuItem key={validIdHelper(item)} value={item}>{_.capitalize(item)}</MenuItem>\n                            )) : ''}\n                          </Select>\n                        </>\n                        : ''\n                  }\n                </FormControl>\n              )\n            }) : ''}\n          </Grid>\n          <Grid item sm={9}>\n            <br />\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              size=\"large\"\n              onClick={handleQuerySubmit}\n              disabled={queryModified ? false : true}\n            >Run Query</Button></Grid>\n        </Grid>\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  )\n}\n\nfunction EnhancedTableHead(props) {\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, rows } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {Object.keys(rows[0]).map((key, index) => (\n          <TableCell\n            key={validIdHelper(key + '-TableHead-TableCell-' + index)}\n            id={validIdHelper(key + '-TableHead-TableCell-' + index)}\n            align={key.numeric ? 'right' : 'left'}\n            padding={key.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === key ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === key}\n              direction={orderBy === key ? order : 'asc'}\n              onClick={createSortHandler(key)}\n            >\n              {prettifyString(key.substring(key.lastIndexOf('.') + 1, key.length))}\n              {orderBy === key ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\nEnhancedTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  // numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  // onSelectAllClick: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n};\n\nfunction EnhancedTable(props) {\n  const { rows, classes, lookerContent } = props;\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState(Object.keys(rows[0])[0]);\n  const [page, setPage] = React.useState(0);\n  const [dense, setDense] = React.useState(true);\n  const [rowsPerPage, setRowsPerPage] = React.useState(25);\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const handleChangeDense = (event) => {\n    setDense(event.target.checked);\n  };\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n  return (\n    <div className={classes.root}>\n      <ApiHighlight classes={classes} >\n        <TableContainer>\n          <Table\n            className={classes.table}\n            aria-labelledby=\"tableTitle\"\n            size={dense ? 'small' : 'medium'}\n            aria-label=\"enhanced table\"\n          >\n            <EnhancedTableHead\n              {...props}\n              classes={classes}\n              order={order}\n              orderBy={orderBy}\n              onRequestSort={handleRequestSort}\n              rowCount={rows.length}\n            />\n            <TableBody>\n              {stableSort(rows, getComparator(order, orderBy))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((row, index) => {\n                  return (\n                    <TableRow\n                      hover\n                      key={validIdHelper('TableRow-' + index)}\n                      id={validIdHelper('TableRow-' + index)}>\n                      {Object.keys(row).map((key, index) => (\n                        <TableCell\n                          key={validIdHelper(key + '-TableBody-TableCell-' + index)}\n                          id={validIdHelper(key + '-TableBody-TableCell-' + index)}\n                          className={lookerContent[0].fieldType[key] === 'dimension' ? classes.blueSecondary : classes.orangeSecondary}\n                          align=\"right\">\n                          {row[key].rendered ? row[key].rendered : row[key].value}\n                        </TableCell>\n                      ))}\n                    </TableRow>\n                  );\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </ApiHighlight>\n      <Grid container>\n        <Grid item sm={6}>\n          <FormControlLabel\n            control={<Switch checked={dense} onChange={handleChangeDense} />}\n            label=\"Compact\"\n          /></Grid>\n        <Grid item sm={6}>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 25, 50]}\n            component=\"div\"\n            count={rows.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          /></Grid>\n      </Grid>\n      <div className={classes.bottomBarSpacer} />\n    </div>\n  );\n}","export default \"import $ from 'jquery';\\nimport _ from 'lodash';\\nimport React, { useState, useEffect, useContext } from 'react';\\nimport PropTypes from 'prop-types';\\nimport {\\n  AppBar, Tabs, Tab, Typography, Box, Grid, Icon, CircularProgress, Card, Button,\\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, InputLabel, MenuItem, FormControl,\\n  Select, Table, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow,\\n  TableSortLabel, FormControlLabel, Switch, Chip, Divider\\n} from '@material-ui/core'\\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\\nimport ExpandLessIcon from '@material-ui/icons/ExpandMore';\\nimport DoneIcon from '@material-ui/icons/Done';\\nimport CodeFlyout from '../CodeFlyout';\\nimport rawSampleCode from '!!raw-loader!./QueryBuilder.js'; // eslint-disable-line import/no-webpack-loader-syntax\\nimport useStyles from './styles.js';\\nimport { ApiHighlight } from '../../Highlights/Highlight';\\nimport { TabPanel, a11yProps, descendingComparator, getComparator, stableSort } from './helpers.js';\\nimport AppContext from '../../../AppContext';\\nconst { validIdHelper, prettifyString } = require('../../../tools');\\n\\n//start of QueryBuilder Component\\nexport default function QueryBuilder(props) {\\n  // console.log('QueryBuilder')\\n  // console.log('props', props)\\n\\n  //initialize state using hooks\\n  const [value, setValue] = useState(0);\\n  const [apiContent, setApiContent] = useState({});\\n  const [clientSideCode, setClientSideCode] = useState('');\\n  const [serverSideCode, setServerSideCode] = useState('');\\n  const { togglePayWallModal, show, codeShow } = useContext(AppContext)\\n  //declare constants\\n\\n  const classes = useStyles();\\n  const { staticContent, staticContent: { lookerContent }, staticContent: { type }, activeTabValue, handleTabChange, lookerUser } = props;\\n\\n  //handle tab change\\n  const handleChange = (event, newValue) => {\\n    handleTabChange(0);\\n    setValue(newValue);\\n  };\\n\\n  /**\\n   * listen for lookerContent and call \\n   * performLookerApiCalls and setSampleCode\\n  */\\n  useEffect(() => {\\n    lookerContent.map(lookerContent => {\\n      setTimeout(() => performLookerApiCalls(lookerContent.queryBody, lookerContent.resultFormat), 100);\\n    })\\n    setClientSideCode(rawSampleCode)\\n  }, [lookerContent, lookerUser])\\n\\n  const performLookerApiCalls = async (newQuery, resultFormat) => {\\n    // console.log('performLookerApiCalls')\\n    let apiContentCopy = { ...apiContent }\\n    apiContentCopy.status = 'running';\\n    setApiContent(apiContentCopy)\\n\\n    let lookerCreateTaskResposnse = await fetch('/createquerytask/' + JSON.stringify(newQuery), {\\n      method: 'GET',\\n      headers: {\\n        Accept: 'application/json',\\n        'Content-Type': 'application/json'\\n      }\\n    })\\n    let lookerCreateTaskResponseData = await lookerCreateTaskResposnse.json();\\n\\n    let taskInterval = setInterval(async () => {\\n      let lookerCheckTaskResposnse = await fetch('/checkquerytask/' + lookerCreateTaskResponseData.queryTaskId, {\\n        method: 'GET',\\n        headers: {\\n          Accept: 'application/json',\\n          'Content-Type': 'application/json'\\n        }\\n      })\\n      let lookerCheckTaskResponseData = await lookerCheckTaskResposnse.json();\\n      if (lookerCheckTaskResponseData.queryResults.status === 'complete') {\\n        clearInterval(taskInterval);\\n        setApiContent(lookerCheckTaskResponseData.queryResults)\\n        setServerSideCode(lookerCreateTaskResponseData.code)\\n      }\\n    }, 5000)\\n  }\\n\\n  return (\\n    <div className={`${classes.root} ${classes.minHeight680}   demoComponent`}>\\n      <Card elevation={1} className={`${classes.padding30} `}>\\n        <Grid container\\n          spacing={3}\\n          key={validIdHelper(type)} >\\n          <div className={`${classes.root} ${classes.positionRelative}`}>\\n            <Grid item sm={12}>\\n              <FilterBar {...props}\\n                classes={classes}\\n                action={performLookerApiCalls}\\n              />\\n            </Grid>\\n            {apiContent.status === 'running' ?\\n              <Grid item sm={12} >\\n                <Card className={`${classes.card} ${classes.flexCentered}`} elevation={0}>\\n                  <CircularProgress className={classes.circularProgress} />\\n                </Card>\\n              </Grid >\\n              : apiContent.data && apiContent.data.length ?\\n                <Box\\n                >\\n                  <Grid container>\\n                    {codeShow ? <Grid item sm={6}\\n                      className={`${classes.positionTopRight}`}\\n                    >\\n                      <CodeFlyout {...props}\\n                        classes={classes}\\n                        lookerUser={lookerUser} />\\n                    </Grid> : ''}\\n                    <Divider className={classes.divider} />\\n                    <Grid item sm={12}>\\n                      <Box className={`${classes.w100} ${classes.maxHeight600} ${classes.padding30}`} mt={2}>\\n                        <EnhancedTable\\n                          {...props}\\n                          classes={classes}\\n                          rows={apiContent.data}\\n                          lookerContent={lookerContent}\\n                        />\\n                      </Box>\\n                    </Grid>\\n                  </Grid>\\n                </Box>\\n                :\\n                <Grid item sm={12} >\\n                  <Typography variant=\\\"h6\\\" component=\\\"h6\\\" className={`${classes.gridTitle} ${classes.textCenter}`}>\\n                    No results found, try a new query<br />\\n                  </Typography>\\n                </Grid>\\n            }\\n          </div >\\n        </Grid >\\n      </Card>\\n    </div >\\n  )\\n}\\n\\n\\nfunction FilterBar(props) {\\n  const { staticContent, staticContent: { lookerContent }, classes, action, lookerUser } = props;\\n  let measureCounter = 0;\\n  let dimensionCounter = 0;\\n\\n  const [expanded, setExpanded] = useState(true);\\n  const [fieldsChipData, setFieldsChipData] = useState(lookerContent[0].queryBody ? lookerContent[0].queryBody.fields.map((item, index) => {\\n    return {\\n      key: 'fieldChipData' + index,\\n      label: prettifyString(item.substring(item.lastIndexOf('.') + 1, item.length)),\\n      datalabel: item,\\n      selected: true,\\n      fieldType: lookerContent[0].fieldType[item]\\n    }\\n  }) : '');\\n\\n  const [queryModified, setQueryModified] = useState(false);\\n  const [filtersData, setFilterData] = useState(lookerContent[0].queryBody ? Object.keys(lookerContent[0].queryBody.filters).map((key, index) => {\\n    return {\\n      key: 'filter' + index,\\n      label: key,\\n      value: lookerContent[0].queryBody.filters[key],\\n      type: lookerContent[0].filterType[key]\\n    }\\n  }) : '')\\n\\n  const handleExpansionPanel = (event, newValue) => {\\n    setExpanded(expanded ? false : true);\\n  };\\n\\n  const handleFieldChipClick = (chip, index) => {\\n    let updatedFieldsChipData = [...fieldsChipData]\\n    updatedFieldsChipData[index].selected = updatedFieldsChipData[index].selected === false ? true : false\\n    setFieldsChipData(updatedFieldsChipData)\\n    setQueryModified(true)\\n  }\\n\\n  const handleSelectChange = (index, newValue) => {\\n    let updatedFiltersData = [...filtersData]\\n    updatedFiltersData[index].value = newValue;\\n    setFilterData(updatedFiltersData)\\n    setQueryModified(true)\\n  }\\n\\n  const handleQuerySubmit = (event) => {\\n    if (queryModified) {\\n      let newFields = fieldsChipData.filter(chip => chip.selected).map(item => item.datalabel);\\n      let currentFilters = {}; //needs to be object\\n      filtersData.map((item, index) => {\\n        currentFilters[item.label] = item.value\\n      })\\n      let newQueryObj = lookerContent[0].queryBody;\\n      newQueryObj.fields = newFields;\\n      newQueryObj.filters = currentFilters;\\n      action(newQueryObj, lookerContent[0].resultFormat);\\n      setQueryModified(false)\\n    }\\n  }\\n\\n  // useEffect(() => {\\n  //   handleQuerySubmit()\\n  // }, [fieldsChipData, filtersData]);\\n\\n  const datePermissionMap = {\\n    'basic': [\\\"1 week\\\", \\\"1 month\\\", \\\"3 months\\\", \\\"6 months\\\"]\\n  }\\n  datePermissionMap.advanced = [...datePermissionMap.basic, \\\"1 year\\\"]\\n  datePermissionMap.premium = [...datePermissionMap.advanced, \\\"before today\\\"]\\n\\n  useEffect(() => {\\n    let updatedFiltersData = [...filtersData]\\n    updatedFiltersData[3].value = \\\"6 months\\\";\\n    setFilterData(updatedFiltersData)\\n  }, [lookerUser]);\\n\\n  return (\\n    <ExpansionPanel expanded={expanded} onChange={handleExpansionPanel} elevation={0}>\\n      <ExpansionPanelSummary\\n        expandIcon={<ExpandMoreIcon />}\\n        aria-controls=\\\"panel1a-content\\\"\\n        id=\\\"panel1a-header\\\"\\n      >\\n        <Typography className={classes.heading}>Build Query</Typography>\\n      </ExpansionPanelSummary>\\n      <ExpansionPanelDetails>\\n        <Grid container spacing={3}>\\n          <Grid item sm={12}>\\n            <Typography variant=\\\"subtitle1\\\">\\n              Select Metrics:\\n      {fieldsChipData.length ?\\n                fieldsChipData.map((item, index) => {\\n                  return (\\n                    item.fieldType === 'measure' ?\\n                      <Chip\\n                        key={item.label}\\n                        // key={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\\n                        measurecounter={measureCounter += 1}\\n                        className={item.selected ? `${classes.orangePrimary} ${classes.m6}` : `${classes.m6}`}\\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\\n                        datalabel={item.label}\\n                        onClick={() => handleFieldChipClick(item, index)}\\n                        icon={item.selected ? <DoneIcon className={classes.dBlock} /> : <DoneIcon className={classes.dNone} />}\\n                      /> : ''\\n                  )\\n                }) : ''\\n              }<br />\\n            </Typography>\\n          </Grid>\\n          <Grid item sm={12}>\\n            <Typography variant=\\\"subtitle1\\\">\\n              Group By:\\n                          {fieldsChipData.length ?\\n                fieldsChipData.map((item, index) => {\\n                  return (\\n                    item.fieldType === 'dimension' ?\\n                      <Chip\\n                        key={item.label}\\n                        dimensioncounter={dimensionCounter += 1}\\n                        className={item.selected ? `${classes.bluePrimary} ${classes.m6}` : `${classes.m6}`}\\n                        label={prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}\\n                        datalabel={item.label}\\n                        onClick={() => handleFieldChipClick(item, index)}\\n                        icon={item.selected ? <DoneIcon className={classes.dBlock} /> : <DoneIcon className={classes.dNone} />}\\n                      /> : ''\\n                  )\\n                }) : ''\\n              }<br />\\n            </Typography>\\n          </Grid>\\n\\n          <Grid item sm={3}>\\n            <Typography variant=\\\"subtitle1\\\">\\n              Filter By:\\n                      </Typography>\\n            {filtersData.length ? filtersData.map((item, index) => {\\n              return (\\n                <FormControl className={item.value.length ? classes.formControl : classes.hidden} key={validIdHelper(`${item.label}FormControl`)}>\\n                  {\\n                    item.type === 'yesno' ?\\n                      <>\\n                        <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\\n                        <Select\\n                          labelId={validIdHelper(`${item.label}FilterLabel`)}\\n                          id={validIdHelper(`${item.label}FilterSelect`)}\\n                          value={item.value}\\n                          onChange={(event) => handleSelectChange(index, event.target.value)}\\n                        >\\n                          <MenuItem value=\\\"Yes\\\">Yes</MenuItem>\\n                          <MenuItem value=\\\"No\\\">No</MenuItem>\\n                          <MenuItem value=\\\"All\\\">All</MenuItem>\\n                        </Select>\\n                      </>\\n                      : item.type === 'date' ?\\n                        <>\\n                          <InputLabel id={validIdHelper(`${item.label}FilterLabel`)}>{prettifyString(item.label.substring(item.label.lastIndexOf('.') + 1, item.label.length))}:</InputLabel>\\n\\n                          <Select\\n                            labelId={validIdHelper(`${item.label}FilterLabel`)}\\n                            id={validIdHelper(`${item.label}FilterSelect`)}\\n                            value={item.value || '6 months'}\\n                            onChange={(event) => handleSelectChange(index, event.target.value)}\\n                          >\\n                            {lookerUser.user_attributes.permission_level ? datePermissionMap[lookerUser.user_attributes.permission_level].map(item => (\\n                              <MenuItem key={validIdHelper(item)} value={item}>{_.capitalize(item)}</MenuItem>\\n                            )) : ''}\\n                          </Select>\\n                        </>\\n                        : ''\\n                  }\\n                </FormControl>\\n              )\\n            }) : ''}\\n          </Grid>\\n          <Grid item sm={9}>\\n            <br />\\n            <Button\\n              color=\\\"primary\\\"\\n              variant=\\\"contained\\\"\\n              size=\\\"large\\\"\\n              onClick={handleQuerySubmit}\\n              disabled={queryModified ? false : true}\\n            >Run Query</Button></Grid>\\n        </Grid>\\n      </ExpansionPanelDetails>\\n    </ExpansionPanel>\\n  )\\n}\\n\\nfunction EnhancedTableHead(props) {\\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, rows } = props;\\n  const createSortHandler = (property) => (event) => {\\n    onRequestSort(event, property);\\n  };\\n\\n  return (\\n    <TableHead>\\n      <TableRow>\\n        {Object.keys(rows[0]).map((key, index) => (\\n          <TableCell\\n            key={validIdHelper(key + '-TableHead-TableCell-' + index)}\\n            id={validIdHelper(key + '-TableHead-TableCell-' + index)}\\n            align={key.numeric ? 'right' : 'left'}\\n            padding={key.disablePadding ? 'none' : 'default'}\\n            sortDirection={orderBy === key ? order : false}\\n          >\\n            <TableSortLabel\\n              active={orderBy === key}\\n              direction={orderBy === key ? order : 'asc'}\\n              onClick={createSortHandler(key)}\\n            >\\n              {prettifyString(key.substring(key.lastIndexOf('.') + 1, key.length))}\\n              {orderBy === key ? (\\n                <span className={classes.visuallyHidden}>\\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\\n                </span>\\n              ) : null}\\n            </TableSortLabel>\\n          </TableCell>\\n        ))}\\n      </TableRow>\\n    </TableHead>\\n  );\\n}\\n\\nEnhancedTableHead.propTypes = {\\n  classes: PropTypes.object.isRequired,\\n  // numSelected: PropTypes.number.isRequired,\\n  onRequestSort: PropTypes.func.isRequired,\\n  // onSelectAllClick: PropTypes.func.isRequired,\\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\\n  orderBy: PropTypes.string.isRequired,\\n  rowCount: PropTypes.number.isRequired,\\n};\\n\\nfunction EnhancedTable(props) {\\n  const { rows, classes, lookerContent } = props;\\n  const [order, setOrder] = React.useState('asc');\\n  const [orderBy, setOrderBy] = React.useState(Object.keys(rows[0])[0]);\\n  const [page, setPage] = React.useState(0);\\n  const [dense, setDense] = React.useState(true);\\n  const [rowsPerPage, setRowsPerPage] = React.useState(25);\\n\\n  const handleRequestSort = (event, property) => {\\n    const isAsc = orderBy === property && order === 'asc';\\n    setOrder(isAsc ? 'desc' : 'asc');\\n    setOrderBy(property);\\n  };\\n\\n  const handleChangePage = (event, newPage) => {\\n    setPage(newPage);\\n  };\\n\\n  const handleChangeRowsPerPage = (event) => {\\n    setRowsPerPage(parseInt(event.target.value, 10));\\n    setPage(0);\\n  };\\n\\n  const handleChangeDense = (event) => {\\n    setDense(event.target.checked);\\n  };\\n\\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\\n  return (\\n    <div className={classes.root}>\\n      <ApiHighlight classes={classes} >\\n        <TableContainer>\\n          <Table\\n            className={classes.table}\\n            aria-labelledby=\\\"tableTitle\\\"\\n            size={dense ? 'small' : 'medium'}\\n            aria-label=\\\"enhanced table\\\"\\n          >\\n            <EnhancedTableHead\\n              {...props}\\n              classes={classes}\\n              order={order}\\n              orderBy={orderBy}\\n              onRequestSort={handleRequestSort}\\n              rowCount={rows.length}\\n            />\\n            <TableBody>\\n              {stableSort(rows, getComparator(order, orderBy))\\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\\n                .map((row, index) => {\\n                  return (\\n                    <TableRow\\n                      hover\\n                      key={validIdHelper('TableRow-' + index)}\\n                      id={validIdHelper('TableRow-' + index)}>\\n                      {Object.keys(row).map((key, index) => (\\n                        <TableCell\\n                          key={validIdHelper(key + '-TableBody-TableCell-' + index)}\\n                          id={validIdHelper(key + '-TableBody-TableCell-' + index)}\\n                          className={lookerContent[0].fieldType[key] === 'dimension' ? classes.blueSecondary : classes.orangeSecondary}\\n                          align=\\\"right\\\">\\n                          {row[key].rendered ? row[key].rendered : row[key].value}\\n                        </TableCell>\\n                      ))}\\n                    </TableRow>\\n                  );\\n                })}\\n              {emptyRows > 0 && (\\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\\n                  <TableCell colSpan={6} />\\n                </TableRow>\\n              )}\\n            </TableBody>\\n          </Table>\\n        </TableContainer>\\n      </ApiHighlight>\\n      <Grid container>\\n        <Grid item sm={6}>\\n          <FormControlLabel\\n            control={<Switch checked={dense} onChange={handleChangeDense} />}\\n            label=\\\"Compact\\\"\\n          /></Grid>\\n        <Grid item sm={6}>\\n          <TablePagination\\n            rowsPerPageOptions={[5, 10, 25, 50]}\\n            component=\\\"div\\\"\\n            count={rows.length}\\n            rowsPerPage={rowsPerPage}\\n            page={page}\\n            onChangePage={handleChangePage}\\n            onChangeRowsPerPage={handleChangeRowsPerPage}\\n          /></Grid>\\n      </Grid>\\n      <div className={classes.bottomBarSpacer} />\\n    </div>\\n  );\\n}\";","import _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppContext from '../../AppContext';\nimport { Modal, Fade, Grid, Paper, Card, CardContent, CardActions, Button, Typography, Chip, Divider, List, ListItem, ListItemAvatar, Avatar, ImageIcon, ListItemText } from '@material-ui/core';\n\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport CheckIcon from '@material-ui/icons/Check';\nimport LookerUserPermissions from '../../lookerUserPermissions.json';\nconst { validIdHelper } = require('../../tools');\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 1000,\n    height: 580,\n    overflow: 'scroll',\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  card: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    // height: 520,\n    overflow: 'scroll',\n    cursor: 'pointer',\n    '&:hover': {\n      transform: 'scale(1.05)',\n      transition: 'transform .2s'\n    }\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  padding15: {\n    padding: 15\n  },\n  divider: {\n    marginTop: 15,\n    marginBottom: 15,\n    color: '#fff'\n  },\n  basic: {\n\n  },\n  advanced: {\n\n  },\n  premium: {\n    backgroundColor: '#5F6BD8',\n    color: '#ffffff'\n  },\n  font75: {\n    fontSize: '.75em'\n  },\n  font875: {\n    // fontSize: '.875em'\n  },\n  padding30: {\n    padding: 30\n  }\n}));\n\nfunction getModalStyle() {\n  const top = 10 //+ rand();\n  const left = 50 //+ rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${left}%, -${top}%)`,\n  };\n}\n\n\nexport function MonetizationModal({ props, switchLookerUser }) {\n  const { payWallModal, togglePayWallModal, lookerUser } = useContext(AppContext);\n  const [modalStyle] = React.useState(getModalStyle);\n  const classes = useStyles();\n\n  const modalListMap = {\n    'basic': [\n      '6 months of order data history',\n      'Atom Merchant Dashboards',\n      'Download PDFs, CSVs'\n    ],\n    'advanced': [\n      'Full year of order data history',\n      'Drill to row level information',\n      'Download row level information',\n      'Schedule dashboards for delivery (to you or others)',\n      'Set alerts and key threshold notifications'],\n    'premium': [\n      '2 Full years of order data history',\n      'Analyze your own data and save custom reports',\n      'View premium level, productivity enhancing reports',\n      'Share your reports with colleagues in Atom',\n      'Text message alerts',\n      // 'Notify active shoppers on Atom',\n      // 'Apply Atoms advanced AI insights to stay ahead of trends'\n    ]\n  }\n\n\n  return (\n    < Modal\n      className={`${classes.modal} `}\n      open={payWallModal.show || false}\n      onClose={togglePayWallModal}\n    >\n      <Fade in={payWallModal.show || false}>\n        <div\n          style={modalStyle}\n          className={`${classes.paper} ${classes.padding30}`}>\n          <Grid container\n            spacing={3}>\n            {Object.keys(LookerUserPermissions).map(key => {\n              return (\n                <Grid item sm={4}\n                  key={validIdHelper(`monetizationModal-gridItem-${key}`)}\n                >\n                  <Card className={`${classes.card} ${classes[key]}`}\n                    elevation={1}\n                    style={key === lookerUser.user_attributes.permission_level ? {\n                      transform: 'scale(1.05)',\n                      transition: 'transform .2s',\n                      height: 495\n                    } : {\n                        height: 495\n                      }}\n                    onClick={() => {\n                      switchLookerUser(key)\n                      togglePayWallModal()\n                    }}>\n                    <CardContent>\n                      <Typography variant=\"h6\">\n                        {_.capitalize(key)}\n                      </Typography>\n                      <Typography variant=\"subtitle1\" style={{ fontStyle: 'italic' }}>\n                        {key === 'basic' ?\n                          'Drive your business with clear KPIs' :\n                          key === 'advanced' ?\n                            'Deeper insights, operations' :\n                            'Drive your business with Atom'\n                        }\n                      </Typography>\n\n                      <Divider className={`${classes.divider} `} />\n\n                      <List className={classes.root}>\n                        {\n                          modalListMap[key].map((item, index) => (\n                            <ListItem dense={true}\n                              className={classes.font875}\n                              key={`monetizationModal-ListItem-${key}-${index}`}\n                            >\n                              <ListItemIcon\n                              >\n                                <CheckIcon fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary={item} />\n                            </ListItem>\n                          ))\n                        }\n                      </List>\n                    </CardContent>\n                    <CardActions disableSpacing={false}>\n                      <Button\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        disabled={key === lookerUser.user_attributes.permission_level ? true : false}\n                        fullWidth\n                        onClick={() => {\n                          switchLookerUser(key)\n                          togglePayWallModal()\n                        }}>\n                        {Object.keys(modalListMap).indexOf(lookerUser.user_attributes.permission_level) < Object.keys(modalListMap).indexOf(key) ? 'Upgrade' : 'Switch'}\n                        {/* {'Upgrade'} */}\n                      </Button>\n                    </CardActions>\n                  </Card>\n                </Grid>\n              )\n            })}\n          </Grid>\n        </div>\n      </Fade >\n    </Modal >\n  );\n}\n","import _ from 'lodash'\nimport React, { Component } from 'react'\nimport clsx from 'clsx';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n  Drawer, CssBaseline, AppBar, Toolbar, Typography,\n  Divider, IconButton, Tabs, Tab, Icon, Box, Avatar,\n  ListSubheader, List, ListItem, ListItemIcon, ListItemText,\n  Badge, FormControlLabel, Switch, Button\n} from '@material-ui/core/';\n\nimport { AddAlert, Speed, TrendingUp, StoreMallDirectory, DateRange, Search, FindInPage, Code } from '@material-ui/icons';\nimport HomeIcon from '@material-ui/icons/Home'; //can't reuse home name\nimport { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport { blue, grey } from '@material-ui/core/colors';\nimport UserMenu from './Material/UserMenu';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport UsecaseContent from '../usecaseContent.json';\nimport SplashPage from './Demo/SplashPage/SplashPage';\nimport Dashboard from './Demo/Dashboard/Dashboard';\nimport CustomVis from './Demo/CustomVis/CustomVis';\nimport ReportBuilder from './Demo/ReportBuilder/ReportBuilder';\nimport QueryBuilder from './Demo/QueryBuilder/QueryBuilder';\nimport AppContext from '../AppContext';\n// import { HighlightSourcesLegend } from './HighlightSourcesLegend';\nimport style from 'react-syntax-highlighter/dist/esm/styles/hljs/agate';\nimport './Home.css'; //needed for iframe height\nimport { MonetizationModal } from './Demo/MonetizationModal';\nimport BottomBar from './Material/BottomBar';\n\n\n\nconst drawerWidth = 240;\nconst { validIdHelper } = require('../tools');\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    zIndex: 1201,\n    backgroundColor: \"#343D4E\"\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    borderRight: 'none',\n    backgroundColor: 'transparent'\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    borderRight: 'none',\n    backgroundColor: 'transparent'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n  title: {\n    flexGrow: 1,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  relative: {\n    position: 'relative'\n  },\n  absolute: {\n    position: 'absolute'\n  },\n  right0: {\n    right: 0\n  },\n  top0: {\n    top: 0\n  },\n  right24: {\n    right: 24\n  },\n  top24: {\n    top: 24\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  mr12: {\n    marginRight: 12\n  },\n  mt12: {\n    marginTop: 12\n  },\n  highlightLegend: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2),\n    zIndex: 1200\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400\n  },\n  parentHoverVisibility: {\n    '&:hover $childHoverVisibility': {\n      visibility: 'visible'\n    }\n\n  },\n  childHoverVisibility: {\n    visibility: 'hidden'\n  },\n  fontSize1em: {\n    fontSize: '1em'\n  },\n  padding10: {\n    padding: 10\n  },\n  mt5: {\n    marginTop: 5\n  },\n  mb5: {\n    marginBottom: 5\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  list: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: 'transparent'\n    // theme.palette.background.paper,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  appBarBottom: {\n    top: 'auto',\n    bottom: 0,\n    // backgroundColor: 'transparent'\n  },\n  hidden: {\n    visibility: 'hidden'\n  },\n  roundedTab: {\n    borderRadius: '0 100px 100px 0'\n  },\n  paddingBottom30: {\n    paddingBottom: 30\n  }\n});\n\nconst defaultTheme = createMuiTheme({})\nconst atomTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: grey[900],\n    },\n    secondary: {\n      main: grey[400],\n    },\n  },\n})\n\nconst vidlyTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blue[500],\n    },\n  },\n})\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drawerOpen: true,\n      drawerTabValue: 0,\n      activeTabValue: 0,\n      activeUsecase: '',\n      appLayout: '',\n      highlightShow: false,\n      payWallModal: {},\n      selectedMenuItem: '',\n      renderedDemoComponents: [],\n      codeShow: false\n    }\n  }\n\n  togglePayWallModal = (modalContent) => {\n    this.setState({ payWallModal: { ...modalContent } })\n  }\n\n  toggleHighlightShow = () => {\n    if (this.state.codeShow) this.toggleCodeShow()\n    this.setState({ highlightShow: !this.state.highlightShow })\n  }\n\n  toggleCodeShow = () => {\n    if (this.state.highlightShow) this.toggleHighlightShow()\n    this.setState({ codeShow: !this.state.codeShow })\n  }\n\n  handleTabChange = newValue => {\n    this.setState({\n      activeTabValue: newValue\n    })\n  }\n\n  handleMenuItemSelect = (newValue, fromSplash) => {\n    // console.log('handleMenuItemSelect')\n    this.handleTabChange(0)\n\n    if (this.state.highlightShow) this.toggleHighlightShow()\n    if (this.state.codeShow) this.toggleCodeShow()\n\n    let selectedMenuItemValue = ''\n    if (fromSplash) {\n      UsecaseContent[this.state.activeUsecase].demoComponents.map(item => {\n        if (item.type !== \"splash page\") {\n          item.lookerContent.map(lookerContentItem => {\n            if (lookerContentItem.id === newValue) {\n              selectedMenuItemValue = validIdHelper(item.type + lookerContentItem.id)\n            }\n          })\n        }\n      })\n    } else selectedMenuItemValue = newValue;\n\n    let renderedDemoComponentsCopy = [...this.state.renderedDemoComponents]\n    if (renderedDemoComponentsCopy.indexOf(selectedMenuItemValue) == -1) renderedDemoComponentsCopy.unshift(selectedMenuItemValue)\n\n    this.setState((prevState) => ({\n      selectedMenuItem: selectedMenuItemValue,\n      renderedDemoComponents: [...renderedDemoComponentsCopy]\n    }))\n  };\n\n  componentDidMount(props) {\n    let usecaseFromUrl = window.location.pathname.replace(/^\\/([^\\/]*).*$/, '$1');\n    this.setState({\n      activeUsecase: usecaseFromUrl,\n      appLayout: UsecaseContent[usecaseFromUrl].layout || 'left-sidebar'\n    }, () => {\n      LookerEmbedSDK.init(`https://${this.props.lookerHost}.looker.com`, '/auth');\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    let prevPermissionLevel = prevProps.lookerUser.user_attributes.permission_level;\n    let currPermissionLevel = this.props.lookerUser.user_attributes.permission_level;\n    let prevUserBrand = prevProps.lookerUser.user_attributes.brand;\n    let currUserBrand = this.props.lookerUser.user_attributes.brand;\n\n    if ((prevPermissionLevel !== currPermissionLevel) || (prevUserBrand !== currUserBrand)) {\n      // console.log('we are inside this iffff')\n      LookerEmbedSDK.init(`https://${this.props.lookerHost}.looker.com`, '/auth');\n      this.setState({\n        renderedDemoComponents: [this.state.selectedMenuItem]\n      }, () => {\n      })\n    }\n  }\n\n  render() {\n\n    //how to make this dynamic????\n    const demoComponentMap = {\n      \"splashpage19\": SplashPage,\n      \"simpledashboard5\": Dashboard,\n      \"simpledashboard9\": Dashboard,\n      \"customfilter1\": Dashboard,\n      \"customvis\": CustomVis,\n      \"querybuilderexplorelite\": QueryBuilder,\n      \"reportbuilder14\": ReportBuilder,\n    };\n\n    const demoComponentKeyMap = [\"splashpage19\",\n      \"simpledashboard5\",\n      \"simpledashboard9\",\n      \"customfilter1\",\n      \"customvis\",\n      \"querybuilderexplorelite\",\n      \"reportbuilder14\"\n    ]\n    // const demoComponentValueMap = [SplashPage,\n    //   Dashboard,\n    //   Dashboard,\n    //   Dashboard,\n    //   CustomVis,\n    //   QueryBuilder,\n    //   ReportBuilder\n    // ]\n\n    const themeMap = {\n      \"atom\": atomTheme,\n      \"vidly\": vidlyTheme\n    }\n\n    const { drawerTabValue, drawerOpen, activeTabValue, activeUsecase, selectedMenuItem, renderedDemoComponents } = this.state;\n    const { handleTabChange, handleMenuItemSelect } = this;\n    const { classes, activeCustomization, switchLookerUser, lookerUser, applySession, lookerUserAttributeBrandOptions, switchUserAttributeBrand, lookerHost, userProfile } = this.props\n\n    // Use Lodash to sort array by 'name'\n    let orderedDemoComponentsForMenu = activeUsecase ? _.orderBy(UsecaseContent[activeUsecase].demoComponents, ['menuCategory'], ['asc']) : [];\n    let orderedDemoComponentsForMenuObj = {};\n    let expandedTreeItemsArr = [];\n    let cumulativePusher = 0;\n    orderedDemoComponentsForMenu.map((item, index) => {\n      if (orderedDemoComponentsForMenuObj.hasOwnProperty(item.menuCategory)) {\n        orderedDemoComponentsForMenuObj[item.menuCategory] = [...orderedDemoComponentsForMenuObj[item.menuCategory], item]\n      } else {\n        orderedDemoComponentsForMenuObj[item.menuCategory] = [item];\n        cumulativePusher += 1;\n        expandedTreeItemsArr.push(\"\" + (index + cumulativePusher));\n      }\n    })\n\n\n    if (activeUsecase && !selectedMenuItem.length) {\n      let selectedMenuItemVal =\n        UsecaseContent[activeUsecase].demoComponents[0].lookerContent[0].id ?\n          validIdHelper(UsecaseContent[activeUsecase].demoComponents[0].type + UsecaseContent[activeUsecase].demoComponents[0].lookerContent[0].id) :\n          validIdHelper(UsecaseContent[activeUsecase].demoComponents[0].type)\n      this.setState({\n        selectedMenuItem: selectedMenuItemVal,\n        renderedDemoComponents: [selectedMenuItemVal]\n      }, () => {\n      })\n\n      //couldn't figure this out...\n      // UsecaseContent[activeUsecase].demoComponents.map(item => {\n      //   demoComponentMap[item.lookerContent[0].id ?\n      //     validIdHelper(item.type + item.lookerContent[0].id) :\n      //     validIdHelper(item.type)] = item.type.split(\" \").map(item => _.capitalize(item)).join(\"\")\n      // })\n    }\n\n\n    /**\n     * what this does\n     * we want rendered demo components to render active one first\n     * renderedDemoComponents is always up to date\n     * so create array of unique demo components starting with rendered\n     * then iterate through usecase file and sort array according to order of unique\n     */\n\n    // const orderedDemoComponentsForRender = [...renderedDemoComponents, ...demoComponentKeyMap]\n    // const uniqueOrderedDemoComponentsForRender = [...new Set(orderedDemoComponentsForRender)];\n\n    // if (activeUsecase) {\n    //   UsecaseContent[activeUsecase].demoComponents.sort(function (a, b) {\n    //     let idToUseForA = validIdHelper(a.lookerContent[0].id ? a.type + a.lookerContent[0].id : a.type);\n    //     let idToUseForB = validIdHelper(b.lookerContent[0].id ? b.type + b.lookerContent[0].id : b.type);\n    //     return uniqueOrderedDemoComponentsForRender.indexOf(idToUseForA) - uniqueOrderedDemoComponentsForRender.indexOf(idToUseForB);\n    //   });\n    // }\n\n    // console.log('this.state.renderedDemoComponents', this.state.renderedDemoComponents)\n    // console.log('orderedDemoComponentsForRender', orderedDemoComponentsForRender)\n    // console.log('uniqueOrderedDemoComponentsForRender', uniqueOrderedDemoComponentsForRender)\n\n    return (\n      <div className={classes.root} >\n        <AppContext.Provider value={\n          {\n            show: this.state.highlightShow,\n            toggleShow: this.toggleHighlightShow,\n            payWallModal: this.state.payWallModal,\n            togglePayWallModal: this.togglePayWallModal,\n            lookerUser,\n            userProfile,\n            codeShow: this.state.codeShow,\n            toggleCodeShow: this.toggleCodeShow\n          }\n        } >\n          <ThemeProvider theme={activeUsecase ? themeMap[activeUsecase] : defaultTheme}>\n            <CssBaseline />\n            <TopBar {...this.props} classes={classes} activeUsecase={activeUsecase} lookerUser={lookerUser} switchLookerUser={switchLookerUser} applySession={applySession} lookerUserAttributeBrandOptions={lookerUserAttributeBrandOptions} switchUserAttributeBrand={switchUserAttributeBrand} />\n            <Drawer\n              className={classes.drawer}\n              variant=\"persistent\"\n              anchor=\"left\"\n              open={drawerOpen}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n            >\n              <div className={classes.drawerHeader} />\n\n              {Object.keys(orderedDemoComponentsForMenuObj).length ?\n                <MenuList {...this.props}\n                  classes={classes}\n                  activeUsecase={activeUsecase}\n                  orderedDemoComponentsForMenuObj={orderedDemoComponentsForMenuObj}\n                  selectedMenuItem={selectedMenuItem}\n                  handleMenuItemSelect={handleMenuItemSelect} /> : ''}\n\n              <MonetizationModal\n                // {...{ classes }} \n                switchLookerUser={switchLookerUser}\n              />\n              <BottomBar classes={classes} lookerUser={lookerUser} />\n            </Drawer>\n            <main\n              className={clsx(classes.content, {\n                [classes.contentShift]: drawerOpen,\n              })}\n            >\n              <div className={classes.drawerHeader} />\n              {activeUsecase ?\n                UsecaseContent[activeUsecase].demoComponents.map((item, index) => {\n                  const key = item.lookerContent[0].id ? validIdHelper(item.type + item.lookerContent[0].id) : validIdHelper(item.type);\n                  const DemoComponent = demoComponentMap[key];\n                  return (\n                    <React.Fragment\n                      key={validIdHelper(`outerFragment-${item.type}-${index}`)}>\n                      {renderedDemoComponents.indexOf(key) > -1 ?\n                        <Box key={validIdHelper(`box-${item.type}-${index}`)}\n                          className={key === selectedMenuItem ? `` : `${classes.hide}`}\n                        >\n                          {/* {key === selectedMenuItem ? */}\n                          <DemoComponent\n                            key={validIdHelper(`demoComponent-${item.type}-${index}`)}\n                            staticContent={item}\n                            handleMenuItemSelect={handleMenuItemSelect}\n                            activeTabValue={activeTabValue}\n                            handleTabChange={handleTabChange}\n                            lookerUser={lookerUser}\n                            activeUsecase={activeUsecase}\n                            lookerHost={lookerHost}\n                            userProfile={userProfile}\n                          />\n                          {/* : ''} */}\n\n                        </Box> : ''}\n                    </React.Fragment>)\n                }) :\n                ''\n              }\n            </main >\n            {/* <BottomBar classes={classes} lookerUser={lookerUser} /> */}\n          </ThemeProvider>\n        </AppContext.Provider>\n      </div >\n    )\n  }\n}\nexport default withStyles(styles)(Home);\n\nfunction TopBar(props) {\n  const { classes, activeUsecase, lookerUser, switchLookerUser, applySession, lookerUserAttributeBrandOptions, switchUserAttributeBrand } = props\n  return (\n    <AppBar\n      position=\"fixed\"\n      className={clsx(classes.appBar)}\n    >\n      <Toolbar>\n\n        {activeUsecase ?\n          <Avatar alt=\"Icon\"\n            src={require(`../images/${activeUsecase}_logo_white.svg`)}\n            variant=\"square\"\n          /> : ''}\n\n        <Badge badgeContent={3} color=\"error\" className={`${classes.mlAuto} ${classes.mr12} `} >\n          <AddAlert />\n        </Badge>\n        <UserMenu\n          lookerUser={lookerUser}\n          switchLookerUser={switchLookerUser}\n          onLogoutSuccess={applySession}\n          lookerUserAttributeBrandOptions={lookerUserAttributeBrandOptions}\n          switchUserAttributeBrand={switchUserAttributeBrand}\n        />\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nfunction MenuList(props) {\n  // console.log('MenuList')\n  const { classes, activeUsecase, orderedDemoComponentsForMenuObj, selectedMenuItem, handleMenuItemSelect } = props\n  // console.log('orderedDemoComponentsForMenuObj', orderedDemoComponentsForMenuObj)\n  const demoComponentIconMap = {\n    \"splashpage19\": HomeIcon,\n    \"simpledashboard5\": TrendingUp,\n    \"simpledashboard9\": Speed,\n    \"customfilter1\": StoreMallDirectory,\n    \"customvis\": DateRange,\n    \"querybuilderexplorelite\": Search,\n    \"reportbuilder14\": FindInPage,\n  }\n\n  return (<List\n    component=\"nav\"\n    aria-labelledby=\"nested-list-subheader\"\n    className={classes.list}\n  >\n    {activeUsecase ? Object.keys(orderedDemoComponentsForMenuObj).map((outerItem, outerIndex) => {\n      return (\n        < React.Fragment\n          key={`${validIdHelper(outerItem + '-menuList-' + outerIndex)}`}>\n          <ListItem\n            key={`${validIdHelper(outerItem + '-outerListItem-' + outerIndex)}`}\n          // className={'roundedTab'}\n          >\n            <ListItemText primary={outerItem === 'home' ? '' : _.upperCase(outerItem)} />\n          </ListItem>\n          < List component=\"div\" disablePadding\n            key={`${validIdHelper(outerItem + '-innerList-' + outerIndex)}`}>\n            {orderedDemoComponentsForMenuObj[outerItem].map((item, innerIndex) => {\n              const key = item.lookerContent[0].id ? validIdHelper(item.type + item.lookerContent[0].id) : validIdHelper(item.type);\n              const MatchingIconComponent = demoComponentIconMap[key]\n\n              return (\n                <ListItem\n                  button\n                  className={`${classes.nested} ${classes.roundedTab}`}\n                  key={`${validIdHelper(outerItem + '-innerListItem-' + innerIndex)}`}\n                  onClick={\n                    () => handleMenuItemSelect(validIdHelper(item.lookerContent[0].id ? item.type + item.lookerContent[0].id : item.type))\n                  }\n                  selected={validIdHelper(item.lookerContent[0].id ? item.type + item.lookerContent[0].id : item.type) === selectedMenuItem}\n                >\n                  <ListItemIcon>\n                    <MatchingIconComponent />\n                  </ListItemIcon>\n                  <ListItemText primary={_.capitalize(item.label)} />\n                </ListItem>\n              )\n            })}\n          </List>\n        </React.Fragment>\n      )\n\n\n    }) : ''\n    }\n  </List >\n  )\n}","import _ from 'lodash'\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, Card, CardActions, CardContent, Typography } from '@material-ui/core'\nimport { grey, orange } from '@material-ui/core/colors';\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport './Home.css';\nconst { validIdHelper } = require('../tools');\nconst lightGrey = grey[200];\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  card: {\n    minWidth: 350,\n    minHeight: 500,\n    left: '75%',\n    top: '50%',\n    transform: `translate(-75%, -50%)`,\n    position: 'absolute',\n    textAlign: 'center',\n    backgroundColor: lightGrey\n  },\n  h100: {\n    height: '100%'\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  actions: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  cardCopy: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: `translate(-50%, -50%)`,\n    margin: '0',\n    width: '80%',\n  }\n}));\n\n\nexport default function SignIn(props) {\n\n  // console.log('SignIn')\n  // console.log('props', props)\n\n  const { googleClientId, onSuccess, onFailure, } = props;\n  const classes = useStyles();\n  let usecaseFromUrl = window.location.pathname.replace(/^\\/([^\\/]*).*$/, '$1');\n  const backgroundImageInt = Math.floor(Math.random() * 4) + 1;\n  const backgroundImage = require(`../images/${usecaseFromUrl}_background${backgroundImageInt}.jpg`);\n  const logoImage = require(`../images/${usecaseFromUrl}_logo_black.svg`)\n\n  return (\n    <div className={`${classes.root} demoComponent ${classes.h100}`}>\n      <Grid container\n        key={validIdHelper('sign in page')}\n        className={`${classes.h100}`}>\n        <Grid item sm={12} className={'sign-in-background-img'}\n          style={{\n            backgroundImage: `url(${backgroundImage})`,\n            backgroundSize: 'cover'\n          }}\n        >\n          <Card className={classes.card}>\n            <div className={classes.cardCopy}>\n              <img\n                src={logoImage}\n              />\n              <CardContent >\n                <Typography variant=\"h5\" component=\"h2\">\n                  Welcome\n                            </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                  Please sign in to access <br /> your merchant portal\n                            </Typography>\n              </CardContent>\n              <CardActions className={`${classes.actions}`} >\n                <GoogleLogin\n                  clientId={googleClientId}\n                  buttonText=\"Login\"\n                  onSuccess={onSuccess}\n                  onFailure={onSuccess}\n                  cookiePolicy={'single_host_origin'}\n                />\n              </CardActions>\n            </div>\n          </Card>\n        </Grid>\n      </Grid>\n    </div >\n  )\n}","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport Moment from 'moment'\n\nclass Customizations extends React.Component {\n    constructor(props) {\n        super(props);\n        this.editCustomization = this.editCustomization.bind(this);\n        this.applyCustomization = this.applyCustomization.bind(this);\n        this.state = {\n            customizations: this.props.customizations,\n            isOrdered: null\n        }\n    }\n\n    componentDidMount() {\n        // console.log('Customize componentDidMount')\n        // console.log('this.props', this.props)\n    }\n\n    editCustomization(customizationIndex) {\n        this.props.editCustomization(customizationIndex)\n        this.props.history.push('/customize/edit')\n    }\n\n    applyCustomization(customizationIndex) {\n        this.props.applyCustomization(customizationIndex)\n        this.props.history.push('/home') //customize\n    }\n\n    sortByCreatedDate() {\n        let { isOrdered } = this.state\n        let sortedCustomizations;\n        if (isOrdered === null || isOrdered === \"DESC\") {\n            sortedCustomizations = this.state.customizations.sort((a, b) => (a.date > b.date) ? 1 : -1)\n            this.setState({\n                isOrdered: \"ASC\"\n            })\n        } else if (isOrdered === \"ASC\") {\n            sortedCustomizations = this.state.customizations.sort((a, b) => (a.date > b.date) ? -1 : 1)\n            this.setState({\n                isOrdered: \"DESC\"\n            })\n\n        }\n        this.setState({\n            customizations: sortedCustomizations\n        })\n    }\n\n    render() {\n        const { activeCustomization } = this.props\n        const { customizations } = this.state\n        const { isOrdered } = this.state\n        return (\n            <div className=\"home container p-5 position-relative\">\n                <div className=\"row pt-5\">\n                    <div className=\"col-sm-12\">\n                        <h1>Customizations</h1>\n                        <table className=\"table pt-3 mt-3\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\">Name</th>\n                                    <th scope=\"col\" className=\"cursor\" onClick={() => this.sortByCreatedDate()}><a>Last Saved {isOrdered === null ? '' : isOrdered === \"ASC\" ? '' : ''}</a></th>\n                                    <th scope=\"col\">Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {customizations.map((customization, index) => {\n                                    return (\n                                        <tr key={customization.id} id={customization.id} index={index} >\n                                            <td >{customization.companyName}</td>\n                                            <td >{Moment(customization.date).format('LLL')}</td>\n                                            <td>\n                                                <span className=\"badge badge-info p-3 mr-2\">Active</span>\n                                                <button type=\"button\" className=\"btn btn-primary mr-2\" data-index={index} onClick={() => this.applyCustomization(index)}>Apply</button>\n                                                <button type=\"button\" className=\"btn btn-secondary mr-2\" data-index={index} onClick={() => this.editCustomization(index)}>Edit</button>\n                                            </td>\n                                        </tr>\n                                    )\n                                })}\n                            </tbody>\n                        </table>\n                        <Link to='/customize/edit'>\n                            <button type=\"button\" className=\"btn btn-primary\">New Customization</button>\n                        </Link>\n                    </div>\n                </div >\n            </div >\n        )\n    }\n}\nexport default Customizations","import React from 'react';\nimport { Link } from 'react-router-dom'\n\nlet emptyCustomizationObj = {\n    id: '',\n    date: '',\n    salesforceUrl: '',\n    companyName: '',\n    logoUrl: ''\n}\n\nfunction prettifyKey(key) {\n    switch (key) {\n        case 'salesforceUrl':\n            return 'Salesforce Url';\n            break;\n        case 'companyName':\n            return 'Company Name';\n            break;\n        case 'logoUrl':\n            return 'Logo Url';\n            break;\n        default:\n            return null;\n            break;\n    }\n}\n\nclass NewCustomization extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        const { indexOfCustomizationToEdit, customizations } = this.props\n        this.state = {\n            companyName: indexOfCustomizationToEdit ? customizations[indexOfCustomizationToEdit].companyName : '',\n            logoUrl: indexOfCustomizationToEdit ? customizations[indexOfCustomizationToEdit].logoUrl : '',\n            salesforceUrl: indexOfCustomizationToEdit ? customizations[indexOfCustomizationToEdit].salesforceUrl : '',\n            validSalesforceUrl: indexOfCustomizationToEdit ? this.validateSalesforceUrl(customizations[indexOfCustomizationToEdit].salesforceUrl) : false,\n            industry: indexOfCustomizationToEdit ? customizations[indexOfCustomizationToEdit].industry : '',\n        }\n    }\n\n    componentDidMount() {\n        this.salesforceUrlInput.focus();\n    }\n\n    componentWillUnmount() {\n        // console.log('NewCustomization componentWillUnmount')\n        this.props.cancelIndexOfCustomizationToEdit()\n    }\n\n    handleSubmit(event) {\n        // console.log('handleSubmit')\n        event.preventDefault();\n        const data = new FormData(event.target);\n        let objForBody = {}\n        for (var [key, value] of data.entries()) {\n            objForBody[key] = value\n        }\n        this.props.saveCustomization(objForBody)\n        setTimeout(() => {\n            this.props.history.push('/home') //causes error w/ out time out\n        }, 100)\n    }\n\n    updateInput(e) {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n\n        if (e.target.id === \"salesforceUrl\") {\n            this.setState({ validSalesforceUrl: this.validateSalesforceUrl(e.target.value) })\n        }\n    }\n\n    validateSalesforceUrl = (url) => {\n        let urlexp = new RegExp('^https:\\/\\/looker.my.salesforce.com(?:$|/)');\n        let res = url.match(urlexp)\n        let returnVal = false;\n        if (res !== null) {\n            returnVal = true;\n        }\n        return returnVal\n    }\n\n\n    dropdownSelect = (e) => {\n        const targetId = e.target.id\n        this.setState({\n            [targetId]: e.target.value\n        })\n    }\n\n    render() {\n        // console.log('EditCustomization render');\n        const { indexOfCustomizationToEdit, customizations, lookerHost } = this.props\n        const { validSalesforceUrl, industry } = this.state\n        // let lookerHostNameToUse = lookerHost.substr(0, lookerHost.indexOf('.'));\n        // console.log('lookerHost', lookerHost)\n\n\n        return (\n            <div className=\"home container p-5\" >\n                <div className=\"row pt-5\">\n                    <div className=\"col-sm-9\">\n                        <h1>Edit Customization</h1>\n                        <form className=\"border-top mt-3 pt-3\" onSubmit={this.handleSubmit}>\n                            <input type=\"hidden\" id=\"id\" name=\"id\" value={indexOfCustomizationToEdit ? customizations[indexOfCustomizationToEdit].id : ''} />\n                            <input type=\"hidden\" id=\"customizationIndex\" name=\"customizationIndex\" value={indexOfCustomizationToEdit ? indexOfCustomizationToEdit : ''} />\n                            <div className=\"form-group\">\n                                <label htmlFor=\"salesforceUrl\">Salesforce Url</label>\n                                <input id=\"salesforceUrl\"\n                                    className=\"form-control\"\n                                    name=\"salesforceUrl\"\n                                    type=\"text\"\n                                    value={this.state.salesforceUrl}\n                                    onChange={e => this.updateInput(e)}\n                                    ref={input => {\n                                        this.salesforceUrlInput = input;\n                                    }} />\n                                {validSalesforceUrl ?\n                                    <small id=\"salesforceUrlHelp\" className=\"form-text text-success\">Valid Salesforce Url!</small>\n                                    : this.state.salesforceUrl.length ?\n                                        <small id=\"salesforceUrlHelp\" className=\"form-text text-danger\">Must be valid Looker Salesforce Opportunity Url</small>\n                                        : <small id=\"salesforceUrlHelp\" className=\"form-text text-muted\">This field is required</small>}\n                            </div>\n                            <div id=\"subForm\">\n                                {/* {DefaultLookerContent[lookerHost] ?\n                                    <div className=\"form-group\">\n                                        <label htmlFor=\"industry\">Choose industry</label>\n                                        <select\n                                            id=\"industry\"\n                                            className=\"form-control\"\n                                            onChange={(e) => this.dropdownSelect(e)}\n                                            name=\"industry\"\n                                            type=\"select-one\"\n                                            value={this.state.industry}\n                                            disabled={validSalesforceUrl ? false : true}>\n\n                                            <option\n                                                key=\"none\"\n                                                value=\"none\"\n                                            > None</option>\n                                            {Object.keys(DefaultLookerContent[lookerHost]).map(key => {\n                                                return (\n                                                    <option\n                                                        key={key}\n                                                        value={key}\n                                                    > {(key.charAt(0).toUpperCase() + key.substring(1)).replace('_', ' ')}</option>\n                                                )\n                                            })}</select>\n                                    </div>\n                                    : ''} */}\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"companyName\">Company name</label>\n                                    <input id=\"companyName\"\n                                        className=\"form-control\"\n                                        name=\"companyName\"\n                                        type=\"text\"\n                                        value={this.state.companyName}\n                                        onChange={e => this.updateInput(e)}\n                                        disabled={validSalesforceUrl ? false : true}\n                                    />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"logoUrl\">Logo URL</label>\n                                    <input id=\"logoUrl\"\n                                        className=\"form-control\"\n                                        name=\"logoUrl\"\n                                        type=\"text\"\n                                        value={this.state.logoUrl}\n                                        onChange={e => this.updateInput(e)}\n                                        disabled={validSalesforceUrl ? false : true}\n                                    />\n                                </div>\n                                <div className=\"form-group mt-3 pt-3\">\n                                    <button className=\"btn btn-primary mr-2\"\n                                        disabled={validSalesforceUrl ? false : true}>Save Customization</button>\n                                    <Link to='/customize'>\n                                        <button type=\"button\" className=\"btn btn-secondary \">Cancel</button>\n                                    </Link>\n                                </div></div>\n                        </form>\n\n                    </div>\n                </div >\n            </div >\n        )\n    }\n}\nexport default NewCustomization","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Link, Redirect, withRouter, useHistory } from 'react-router-dom'\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\n// import Config from './clientConfig.json';\nimport Home from './components/Home'\nimport SignIn from './components/SignIn'\n// import Header from './components/Header'\n// import Footer from './components/Footer'\nimport Customizations from './components/Customizations'\nimport EditCustomization from './components/EditCustomization'\n//make looker user dynamic\nimport LookerUserPermissions from './lookerUserPermissions.json';\nimport InitialLookerUser from './initialLookerUser.json';\nimport UsecaseContent from './usecaseContent.json';\nimport LookerUserAttributeBrandOptions from './lookerUserAttributeBrandOptions.json';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  responseGoogle = (response) => {\n    // debugger //from Jim\n    if (response.error) {\n      console.log('response.error', response.error)\n    } else {\n      this.props.applySession(response.profileObj)\n    }\n  }\n\n  render() {\n    // console.log(\"Login render\")\n    const { from } = this.props.location.state || { from: { pathname: '/home' } } //needs work?\n    const { pathname } = this.props.location\n    const { activeCustomization } = this.props\n    const { userProfile } = this.props\n\n    const googleClientId = `${process.env.REACT_APP_GOOGLE_CLIENT_ID}.apps.googleusercontent.com`\n    if (Object.keys(userProfile).length) {\n      return (\n        <div className=\"App\">\n          <Redirect to={from} />\n        </div>\n      )\n    } else {\n      return (\n        <SignIn\n          googleClientId={googleClientId}\n          onSuccess={this.responseGoogle}\n          onFailure={this.responseGoogle}\n        />\n      )\n    }\n  }\n}\n\nconst PrivateRoute = ({\n  component: Component,\n  customizations,\n  activeCustomization,\n  applyCustomization,\n  editCustomization,\n  indexOfCustomizationToEdit,\n  saveCustomization,\n  cancelIndexOfCustomizationToEdit,\n  lookerContent,\n  saveLookerContent,\n  userProfile,\n  lookerUser,\n  lookerHost,\n  switchLookerUser,\n  applySession,\n  lookerUserAttributeBrandOptions,\n  switchUserAttributeBrand,\n  ...rest }) => (\n    < Route {...rest} render={(props) => (\n      Object.keys(userProfile).length ?\n        <Component {...props}\n          customizations={customizations}\n          activeCustomization={activeCustomization}\n          applyCustomization={applyCustomization}\n          editCustomization={editCustomization}\n          indexOfCustomizationToEdit={indexOfCustomizationToEdit}\n          saveCustomization={saveCustomization}\n          cancelIndexOfCustomizationToEdit={cancelIndexOfCustomizationToEdit}\n          lookerContent={lookerContent}\n          saveLookerContent={saveLookerContent}\n          userProfile={userProfile}\n          lookerUser={lookerUser}\n          lookerHost={lookerHost}\n          switchLookerUser={switchLookerUser}\n          applySession={applySession}\n          lookerUserAttributeBrandOptions={lookerUserAttributeBrandOptions}\n          switchUserAttributeBrand={switchUserAttributeBrand}\n        />\n        : <Redirect to={{\n          pathname: '/',\n          state: { from: props.location }\n        }} />\n    )} />\n  )\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userProfile: {},\n      customizations: [],\n      activeCustomization: {},\n      indexOfCustomizationToEdit: null,\n      lookerContent: [],\n      lookerUser: {\n        ...InitialLookerUser\n      },\n      lookerHost: '',\n      activeUsecase: ''\n    }\n  }\n\n  componentDidMount() {\n    // console.log('App componentDidMount')\n    this.checkSession()\n  }\n\n  //called on componentDidMount\n  //get request so should only check info, never update\n  checkSession = async () => {\n    // console.log('checkSession')\n    let sessionResponse = await fetch('/readsession', {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n    const sessionResponseData = await sessionResponse.json();\n    // console.log('sessionResponseData', sessionResponseData)\n    const { userProfile } = sessionResponseData.session\n    const { customizations } = sessionResponseData.session\n    const activeCustomization = sessionResponseData.session.activeCustomization ? sessionResponseData.session.activeCustomization : 0;\n    const lookerUser = sessionResponseData.session.lookerUser ? sessionResponseData.session.lookerUser : this.state.lookerUser;\n    const lookerHost = sessionResponseData.session.lookerHost ? sessionResponseData.session.lookerHost : this.state.lookerHost;\n    // console.log('lookerUser', lookerUser)\n    //make sure defined and contains properties\n    if (userProfile && Object.keys(userProfile).length) {\n      this.setState((prevState) => ({\n        userProfile, //think we want this here?\n        customizations,\n        lookerUser: {\n          ...prevState.lookerUser,\n          external_user_id: userProfile.googleId,\n          first_name: userProfile.givenName,\n          last_name: userProfile.familyName,\n          permissions: LookerUserPermissions[lookerUser.user_attributes.permission_level] || LookerUserPermissions['basic'],\n          user_attributes: {\n            ...lookerUser.user_attributes || {\n              \"locale\": \"en_US\",\n              \"country\": \"USA\",\n              \"brand\": \"Calvin Klein\",\n              \"permission_level\": \"basic\"\n            }\n          }\n        },\n        lookerHost\n      }), () => {\n        // console.log('checkSession callback 1111 this.state.lookerUser', this.state.lookerUser)\n        this.applyCustomization(activeCustomization)\n      })\n    }\n  }\n\n  // called by responseGoogle once it gets response\n  // since login can assume activeCustomization will be default..\n  applySession = async (userProfile) => {\n    // console.log('applySession')\n    // console.log('userProfile', userProfile)\n\n    if (Object.keys(userProfile).length === 0) {\n      // console.log('inside ifff')\n      let sessionData = await fetch('/endsession', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      })\n      this.setState({\n        userProfile: {},\n        lookerUser: { ...InitialLookerUser }\n      })\n    } else {\n      // console.log('inside else')\n      let sessionData = await fetch('/writesession', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ userProfile, lookerUser: this.state.lookerUser })\n      })\n      const sessionResponseData = await sessionData.json();\n      const { customizations } = sessionResponseData.session\n      const lookerUser = sessionResponseData.session.lookerUser ? sessionResponseData.session.lookerUser : this.state.lookerUser;\n      const lookerHost = sessionResponseData.session.lookerHost ? sessionResponseData.session.lookerHost : this.state.lookerHost;\n\n      this.setState(prevState => ({\n        userProfile,\n        customizations,\n        lookerUser: {\n          ...prevState.lookerUser,\n          external_user_id: userProfile.googleId,\n          first_name: userProfile.givenName,\n          last_name: userProfile.familyName,\n          permissions: LookerUserPermissions[lookerUser.user_attributes.permission_level] || LookerUserPermissions['basic'], //assume good initially,\n          user_attributes: {\n            ...lookerUser.user_attributes || {\n              \"locale\": \"en_US\",\n              \"country\": \"USA\",\n              \"brand\": \"Calvin Klein\",\n              \"time_horizon\": \"last 6 months\",\n              \"permission_level\": \"basic\",\n            }\n          }\n        },\n        lookerHost\n      }), () => {\n        this.applyCustomization(0) //assume default customization, set lookerContent and activeCustomization in applyCustomization\n      });\n    }\n  }\n\n  //called by: checkSession, applySession, applyButton, saveCustomization\n  applyCustomization = async (customizationIndex) => {\n    // console.log('applyCustomization')\n    // console.log('customizationIndex', customizationIndex)\n\n    let customizationResponse = await fetch('/applyactivecustomziation', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ customizationIndex })\n    })\n\n    let customizationResponseData = await customizationResponse.json();\n\n    let lookerContentToUse = [];\n    //check industry first, insert to array\n    if (this.state.customizations[customizationIndex].industry) {\n      // lookerContentToUse = [...DefaultLookerContent[this.state.lookerHost][this.state.customizations[customizationIndex].industry]]\n    }\n    //then check custom content, insert to array\n    if (this.state.customizations[customizationIndex].lookerContent) {\n      // lookerContentToUse = [...lookerContentToUse, ...this.state.customizations[customizationIndex].lookerContent]\n    }\n\n    this.setState({\n      activeCustomization: this.state.customizations[customizationIndex],\n      lookerContent: lookerContentToUse\n    }, () => {\n      // console.log('applyCustomization callback this.state.lookerContent', this.state.lookerContent)\n      // console.log('applyCustomization callback this.state.activeCustomization', this.state.activeCustomization)\n      // this.props.history.push('/home') //not going to work here :P\n    });\n  }\n\n  editCustomization = (customizationIndex) => {\n    // console.log('editCustomization')\n    // console.log('customizationIndex', customizationIndex)\n    const validCustomizationIndex = typeof this.state.customizations[customizationIndex] === 'undefined' ? null : customizationIndex\n    this.setState({\n      indexOfCustomizationToEdit: validCustomizationIndex,\n    }, () => {\n      // console.log('editCustomization callback this.state.indexOfCustomizationToEdit', this.state.indexOfCustomizationToEdit)\n    });\n  }\n\n  saveCustomization = async (formData) => {\n    // console.log('saveCustomization')\n    // console.log('formData', formData)\n    let customizationResponse = await fetch('/savecustomization', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    })\n\n    let customizationResponseData = await customizationResponse.json();\n\n    // console.log('customizationResponseData', customizationResponseData)\n\n    this.setState({\n      customizations: customizationResponseData.customizations,\n      // indexOfCustomizationToEdit: null\n    }, () => {\n      this.applyCustomization(formData.customizationIndex) //sessionActiveCustomization\n    })\n  }\n\n\n  cancelIndexOfCustomizationToEdit = () => {\n    // console.log(\"cancelIndexOfCustomizationToEdit\")\n    this.setState({\n      indexOfCustomizationToEdit: null\n    })\n  }\n\n  saveLookerContent = async (newLookerContent) => {\n    // console.log('saveLookerContent')\n    // console.log('newLookerContent', newLookerContent)\n\n    /*let customizationResponse = await fetch('/savelookercontent', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ activeCustomization: this.state.activeCustomization, newLookerContent: newLookerContent })\n    })\n    let customizationResponseData = await customizationResponse.json();\n\n    this.setState(prevState => ({\n      lookerContent: [...prevState.lookerContent, newLookerContent] //should I be using DB as source here?\n    }))*/\n\n  }\n\n  switchLookerUser = (newUser) => {\n    // console.log('switchLookerUser')\n    // console.log('newUser', newUser)\n    // console.log('LookerUserPermissions[newUser]', LookerUserPermissions[newUser])\n\n\n    let lookerUserTimeHorizonMap = {\n      'basic': 'last 182 days',\n      'advanced': 'last 365 days',\n      'premium': 'last 730 days' //before today\n    }\n    let userAttributeCopy = { ...this.state.lookerUser.user_attributes, \"permission_level\": newUser }\n    userAttributeCopy.time_horizon = lookerUserTimeHorizonMap[newUser];\n\n\n    this.setState(prevState => ({\n      lookerUser: {\n        ...prevState.lookerUser,\n        permissions: LookerUserPermissions[newUser],\n        user_attributes: userAttributeCopy\n      }\n    }), async () => {\n\n      let lookerUserResponse = await fetch('/updatelookeruser', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.lookerUser)\n      })\n\n      let lookerUserResponseData = await lookerUserResponse.json();\n\n    });\n  }\n\n  switchUserAttributeBrand = (newAttribute) => {\n    // console.log('switchUserAttributeBrand')\n    // console.log('newAttribute', newAttribute)\n\n    let userAttributeCopy = { ...this.state.lookerUser.user_attributes }\n    userAttributeCopy.brand = newAttribute;\n\n    let usecaseFromUrl = window.location.pathname.replace(/^\\/([^\\/]*).*$/, '$1');\n    if (!usecaseFromUrl.length) {     //no usecase\n      window.location.href = window.location.href + 'atom'\n    } else if (!UsecaseContent.hasOwnProperty(usecaseFromUrl)) {     //usecase param isn't in JSON file\n      window.location.href = window.location.href.replace(usecaseFromUrl, 'atom')\n    }\n\n    this.setState(prevState => ({\n      lookerUser: {\n        ...prevState.lookerUser,\n        user_attributes: userAttributeCopy,\n        group_ids: [UsecaseContent[usecaseFromUrl].groupIds[newAttribute]]\n      }\n    }), async () => {\n\n      let lookerUserResponse = await fetch('/updatelookeruser', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.lookerUser)\n      })\n\n      let lookerUserResponseData = await lookerUserResponse.json();\n\n    });\n  }\n\n  render() {\n    // console.log('App render');\n    // console.log('this.props', this.props);\n    const { userProfile, customizations, activeCustomization, indexOfCustomizationToEdit, lookerContent, lookerUser, lookerHost } = this.state\n    // const { activeIndustry } = this.state;\n    // console.log('activeCustomization', activeCustomization);\n\n    let usecaseFromUrl = window.location.pathname.replace(/^\\/([^\\/]*).*$/, '$1');\n    if (!usecaseFromUrl.length) {     //no usecase\n      window.location.href = window.location.href + 'atom'\n    } else if (!UsecaseContent.hasOwnProperty(usecaseFromUrl)) {     //usecase param isn't in JSON file\n      window.location.href = window.location.href.replace(usecaseFromUrl, 'atom')\n    }\n    return (\n      <Router basename={usecaseFromUrl}>\n        <div>\n          <Route path='' render={(props) => <Login\n            {...props}\n            applySession={this.applySession}\n            userProfile={userProfile}\n            activeCustomization={activeCustomization}\n            lookerUser={lookerUser}\n            switchLookerUser={this.switchLookerUser}\n            lookerHost={lookerHost}\n          />}\n          />\n          <PrivateRoute path='*/home' component={Home}\n            activeCustomization={activeCustomization}\n            lookerContent={lookerContent}\n            saveLookerContent={this.saveLookerContent}\n            userProfile={userProfile}\n            lookerUser={lookerUser}\n            applySession={this.applySession}\n            lookerHost={lookerHost}\n            switchLookerUser={this.switchLookerUser}\n            lookerUserAttributeBrandOptions={LookerUserAttributeBrandOptions}\n            switchUserAttributeBrand={this.switchUserAttributeBrand}\n          />\n        </div>\n      </Router>\n    )\n  }\n}\nexport default App\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}